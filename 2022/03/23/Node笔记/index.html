<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="Lhj">
    
    <title>
        
            Node笔记 |
        
        Alexander
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/logo.svg">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/css/font-awesome.min.css">
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"example.com","root":"/","language":"en","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":true,"init_open":true},"style":{"primary_color":"#0066CC","avatar":"/images/avatar.svg","favicon":"/images/logo.svg","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":false,"scale":false},"first_screen":{"enable":true,"background_img":"/images/bg.svg","description":"Keep writing and Keep loving."},"scroll":{"progress_bar":{"enable":true},"percent":{"enable":true}}},"local_search":{"enable":true,"preload":false},"code_copy":{"enable":true,"style":"default"},"pjax":{"enable":true},"lazyload":{"enable":true},"version":"3.4.5"};
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fas fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                Alexander
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                NOTE
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                ARCHIVES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/about"
                            >
                                ABOUT
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">NOTE</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">ARCHIVES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/about">ABOUT</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">Node笔记</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/avatar.svg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">Lhj</span>
                        
                            <span class="author-label">Lv6</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;
        <span class="pc">2022-03-23 17:51:30</span>
        <span class="mobile">2022-03-23 17:51</span>
    </span>
    
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fas fa-file-word"></i>&nbsp;<span>10k Words</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fas fa-clock"></i>&nbsp;<span>37 Mins</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <h4 id="初识Node，什么是Node-js"><a href="#初识Node，什么是Node-js" class="headerlink" title="初识Node，什么是Node.js"></a>初识Node，什么是Node.js</h4><p>Node.js是一个基于<strong>ChromeV8引擎</strong>的<strong>JavaScript运行环境</strong></p>
<p>剖析Node.js，下面给上一个图:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/q1jIht"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/23/q1jIht.png"
                      alt="q1jIht.png"
                ></a></p>
<p>浏览器是JavaScript的前端运行环境</p>
<p>Node.js是JavaScript的后端运行环境</p>
<p>Node.js中无法调用DOM、BOM和Ajax等浏览器内置的API</p>
<h4 id="Node-js能做什么"><a href="#Node-js能做什么" class="headerlink" title="Node.js能做什么"></a>Node.js能做什么</h4><p>Node.js作为一个JavaScript的运行环境，仅仅提供了基础的功能和API，然而，基于Node.js提供的这些基础功能，很多强大的工具和框架如雨后春笋，层出不穷，所以学会了Node.js，可以让前端程序员胜任更多的工作和岗位</p>
<ul>
<li>基于Express框架(<a class="link"   target="_blank" rel="noopener" href="http://www.expressjs.com.cn/)%EF%BC%8C%E5%8F%AF%E4%BB%A5%E5%BF%AB%E9%80%9F%E6%9E%84%E5%BB%BAweb%E5%BA%94%E7%94%A8" >http://www.expressjs.com.cn/)，可以快速构建web应用<i class="fas fa-external-link-alt"></i></a></li>
<li>基于Electron框架(<a class="link"   target="_blank" rel="noopener" href="https://electronjs.org/)%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%9E%84%E5%BB%BA%E8%B7%A8%E5%B9%B3%E5%8F%B0%E7%9A%84%E6%A1%8C%E9%9D%A2%E5%BA%94%E7%94%A8" >https://electronjs.org/)，可以构建跨平台的桌面应用<i class="fas fa-external-link-alt"></i></a></li>
<li>基于restify框架(<a class="link"   target="_blank" rel="noopener" href="http://restify.com/)%EF%BC%8C%E5%8F%AF%E4%BB%A5%E5%BF%AB%E9%80%9F%E6%9E%84%E5%BB%BAAPI%E6%8E%A5%E5%8F%A3%E9%A1%B9%E7%9B%AE" >http://restify.com/)，可以快速构建API接口项目<i class="fas fa-external-link-alt"></i></a></li>
<li>读写和操作数据库，创建实用的命令行工具辅助前端开发，等等等等</li>
</ul>
<h4 id="如何学Node-js"><a href="#如何学Node-js" class="headerlink" title="如何学Node.js"></a>如何学Node.js</h4><p>首先需要有一定的JavaScript基础，然后先学习Node.js内置API模块(fs、path、http等)，然后再学习第三方模块(express、mysql等)</p>
<h4 id="Node-js的安装"><a href="#Node-js的安装" class="headerlink" title="Node.js的安装"></a>Node.js的安装</h4><p>官网安装: <a class="link"   target="_blank" rel="noopener" href="https://nodejs.org/en/%EF%BC%8C%E7%84%B6%E5%90%8E%E5%8F%8C%E5%87%BB%E7%9B%B4%E6%8E%A5%E5%AE%89%E8%A3%85%E5%8D%B3%E5%8F%AF" >https://nodejs.org/en/，然后双击直接安装即可<i class="fas fa-external-link-alt"></i></a></p>
<p>之后使用<code>node -v</code>来检测node.js是否安装成功</p>
<h4 id="Node-js的运行"><a href="#Node-js的运行" class="headerlink" title="Node.js的运行"></a>Node.js的运行</h4><ol>
<li>打开终端</li>
<li>输入node 要执行的js文件的路径</li>
<li>便捷方法: 按住shift键，然后右键点击在此处打开powershell窗口，或者直接在文件路径栏清空再输入pwd</li>
</ol>
<h4 id="fs-读取文件内容"><a href="#fs-读取文件内容" class="headerlink" title="fs-读取文件内容"></a>fs-读取文件内容</h4><p>fs模块是Node.js官方提供的(安装后自带)、用来操作文件的模块，它提供了一系列的方法和属性，用来满足用户对文件的操作需求，例如:</p>
<ul>
<li>fs.readFile()方法，用来读取指定文件中的内容</li>
<li>fs.writeFile()方法，用来向指定的文件中写入内容</li>
</ul>
<p>如果要在JavaScript代码中，使用fs模块来操作文件，则需要使用如下的方式先导入它:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)  <span class="comment">//require函数会导入fs这个模块，然后使用const定义一个常量来接收即可</span></span><br></pre></td></tr></table></figure>

<h5 id="fs-readFile-的语法格式"><a href="#fs-readFile-的语法格式" class="headerlink" title="fs.readFile()的语法格式"></a>fs.readFile()的语法格式</h5><p>使用fs.readFile()方法，可以读取指定文件中的内容，语法格式如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fs.readFile(path[, options], callback)  <span class="comment">//被中括号包裹的是可选参数，其他没有被中括号包裹的是必选参数，所以这里的必选参数是path和callback</span></span><br></pre></td></tr></table></figure>

<p>参数解读:</p>
<ul>
<li>path: 必选参数，字符串，表示文件的路径</li>
<li><code>[, options]</code>: 可选参数，表示以什么<code>编码格式</code>来读取文件</li>
<li>callback: 必选参数，文件读取完成后，通过回调函数拿到读取的结果</li>
</ul>
<h5 id="fs-readFile-的示例代码"><a href="#fs-readFile-的示例代码" class="headerlink" title="fs.readFile()的示例代码"></a>fs.readFile()的示例代码</h5><p>以utf8的编码格式，读取指定文件的内容，并打印err和dataStr的值:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line">fs.readFile(<span class="string">&#x27;./files/11.txt&#x27;</span>, <span class="string">&#x27;utf8&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, dataStr</span>) </span>&#123;  <span class="comment">//err为读取失败后的结果，dataStr为读取成功后的结果，无论成功或者失败都会执行function</span></span><br><span class="line">    <span class="built_in">console</span>.log(err)  <span class="comment">// 如果读取成功，则err的值为null，如果读取失败，则err的值为错误对象，dataStr的值为undefined</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;-----&#x27;</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(dataStr)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="判断文件是否读取成功"><a href="#判断文件是否读取成功" class="headerlink" title="判断文件是否读取成功"></a>判断文件是否读取成功</h5><p>可以判断err对象是否为null，从而直知晓文件读取的结果:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line">fs.readFile(<span class="string">&#x27;./files/11.txt&#x27;</span>, <span class="string">&#x27;utf8&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, result</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">console</span>.log(<span class="string">&#x27;文件读取失败:&#x27;</span> + err.,message)  <span class="comment">//失败就打印错误的消息</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;文件读取成功，内容是:&#x27;</span> + result)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="fs-写入文件内容"><a href="#fs-写入文件内容" class="headerlink" title="fs-写入文件内容"></a>fs-写入文件内容</h4><h5 id="fs-writeFile-的语法格式"><a href="#fs-writeFile-的语法格式" class="headerlink" title="fs-writeFile()的语法格式"></a>fs-writeFile()的语法格式</h5><p>使用fs.writeFile()方法，可以向指定的文件中写入内容，语法格式如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fs.writeFile(file, data[, options], callback)</span><br></pre></td></tr></table></figure>

<ul>
<li>file: 必选参数，需要指定一个<strong>文件路径的字符串</strong>，表示文件的存放路径</li>
<li>data: 必选参数，表示要写入的内容</li>
<li>[, options]，可选参数，表示以什么格式写入文件内容，默认值是utf8</li>
<li>callback: 必选参数，文件写入完成后的回调函数，无论失败或成功都会被调用</li>
</ul>
<h5 id="fs-writeFile-的示例代码"><a href="#fs-writeFile-的示例代码" class="headerlink" title="fs.writeFile()的示例代码"></a>fs.writeFile()的示例代码</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line">fs.writeFile(<span class="string">&#x27;./file/2.txt&#x27;</span>, <span class="string">&quot;hello node.js&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;err&#x27;</span>)  <span class="comment">//如果文件写入成功，则err的值为null，如果文件写入失败，则err的值为一个错误对象</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="判断文件是否写入成功"><a href="#判断文件是否写入成功" class="headerlink" title="判断文件是否写入成功"></a>判断文件是否写入成功</h5><p>可以判断err对象是否为null，从而知晓文件写入的结果:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line">fs.writeFile(<span class="string">&#x27;./file/2.txt&#x27;</span>, <span class="string">&quot;hello node.js&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(err) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">console</span>.log(<span class="string">&quot;文件写入失败:&quot;</span> + err.message)  <span class="comment">// 写入失败err为一个错误对象</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;文件写入成功!&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="fs-处理路径问题"><a href="#fs-处理路径问题" class="headerlink" title="fs-处理路径问题"></a>fs-处理路径问题</h4><p>在使用fs模块操作文件时，如果提供的操作路径是以<code>./</code>或<code>../</code>开头的相对路径时，很容易出现动态拼接错误的问题；</p>
<p>原因: 代码在运行的时候，<strong>会以执行node命令时所处的目录</strong>，动态拼接出被操作文件的完整路径</p>
<p>如果要解决这个问题，可以直接提供一个完整的文件存放路径就行</p>
<h4 id="path-使用path模块处理路径"><a href="#path-使用path模块处理路径" class="headerlink" title="path-使用path模块处理路径"></a>path-使用path模块处理路径</h4><p>path模块是Node.js官方提供的、用来处理路径的模块，它提供了一系列的方法可属性，用来满足用户对路径的处理需求</p>
<ul>
<li>path.join()方法，用来将多个路径片段拼接成一个完整的路径字符串，之前使用<code>+</code>也可以进行路径的拼接，但是用<code>+</code>毕竟不太正规</li>
<li>path.basename()方法，用来从路径字符串中，将文件名解析出来</li>
</ul>
<p>要使用先导入:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br></pre></td></tr></table></figure>

<ol>
<li><p>path.join()的语法格式</p>
<p>使用path.join()方法，可以把多个路径片段拼接为完整的路径字符串，语法格式如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path.join([...paths])</span><br></pre></td></tr></table></figure>

<p>参数解读:</p>
<ul>
<li>…paths: 路径片段的序列</li>
<li>返回值: string</li>
</ul>
</li>
<li><p>path.join()的代码示例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pathStr1 = path.join(<span class="string">&#x27;/a&#x27;</span>, <span class="string">&#x27;/b/c&#x27;</span>, <span class="string">&#x27;../&#x27;</span>, <span class="string">&#x27;./d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>)  <span class="comment">// 这里注意../会抵消一层路径</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pathStr2 = path.join(__dirname, <span class="string">&#x27;./files/1.txt&#x27;</span>)  <span class="comment">// 输出，当前文件所在目录\files\1.txt</span></span><br></pre></td></tr></table></figure>

<p>使用加号处理路径时，可能会出现一些问题，用path.jion会更好一点，比如下面就体现出加号的一些弊端:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fs.readFile(__dirname + <span class="string">&#x27;./files/1.txt&#x27;</span>...)</span><br></pre></td></tr></table></figure>

<p>上面在拼接路径的时候就会把<code>.</code>也给带上，这样就会得到一个错误的路径</p>
</li>
<li><p>path.basename()的语法格式</p>
<p>使用path.basename()方法，可以获取路径中的最后一部分，经常通过这个方法获取路径中的文件名，语法格式如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path.basename(path[, ext])</span><br></pre></td></tr></table></figure>

<p>参数解读:</p>
<ul>
<li>path: 必选参数，表示一个路径的字符串</li>
<li>ext: 可选参数，表示文件扩展名</li>
<li>返回一个字符串，表示路径中的最后一部分</li>
</ul>
</li>
<li><p>path.basename()的代码示例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fpath = <span class="string">&#x27;/a/b/c/index.html&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> fullName = path.basename(fpath)</span><br><span class="line"><span class="built_in">console</span>.log(fullname) <span class="comment">// 输出inde.htl</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> namewithoutExt = path.basename(fpath, <span class="string">&#x27;.html&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(namewithoutExt)  <span class="comment">// 输出index</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="综合案例-时钟案例"><a href="#综合案例-时钟案例" class="headerlink" title="综合案例-时钟案例"></a>综合案例-时钟案例</h4><p>我们把时钟的源文件分别拆分，然后我们要以以下步骤实现:</p>
<ul>
<li>创建两个正则表达式，分别用来匹配style和script标签</li>
<li>使用fs模块，读取需要被处理的HTML文件</li>
<li>自定义resolveCSS方法，来写入index.css样式文件</li>
<li>自定义resolveJS方法，来写入index.js脚本文件</li>
<li>自定resolveHTML方法，来写入index.html文件</li>
</ul>
<p>这个案例没有演示的必要，这里就不展示了哈哈哈</p>
<h4 id="理解http模块的概念及作用"><a href="#理解http模块的概念及作用" class="headerlink" title="理解http模块的概念及作用"></a>理解http模块的概念及作用</h4><p>回顾: 什么是客户端，什么是服务器</p>
<p>在网络节点中，负责消费资源的电脑，叫做客户端；负责对外提供网络资源的电脑，叫做服务器</p>
<p>http模块是Node.js官方提供的、用来创建web服务器的模块，通过http模块提供的http.createServer()方法，就能方便地把一台普通的电脑，变成一台web服务器，从而对外提供Web资源服务</p>
<p>使用之前，要先导入:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http =  <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="进一步理解http模块的作用"><a href="#进一步理解http模块的作用" class="headerlink" title="进一步理解http模块的作用"></a>进一步理解http模块的作用</h4><p>服务器和普通电脑的区别在于，<strong>服务器上安装了web服务器软件</strong>，例如IIS、<strong>Apathe</strong>等，通过安装这些服务器软件，就能把一台普通的电脑变成一台服务器</p>
<p>我们可以安装一个phpStudy这样一个软件用来把本地客户端，也就是你的电脑模拟成一个服务器:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qGrUsS"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/24/qGrUsS.png"
                      alt="qGrUsS.png"
                ></a></p>
<p>在Node.js中，我们不需要使用ISS(一般asp.net使用)、Apathe(一般PHP使用)等这些第三方web服务器软件，因为我们可以基于Node.js提供的http模块，通过几行简单的代码，就能轻松的手写一个服务器软件，从而对外提供Web服务</p>
<h4 id="服务器相关的概念"><a href="#服务器相关的概念" class="headerlink" title="服务器相关的概念"></a>服务器相关的概念</h4><ol>
<li><p>IP地址</p>
<p>IP地址就是互联网上<strong>每台计算机的唯一地址</strong>，因此IP地址具有唯一性</p>
<p>IP地址的格式: 通常用点分十进制表示成(a.b.c.d)的形式，其中，a，b，c，d都是0-255之间的十进制整数</p>
<p>注意:</p>
<p>互联网中的每台Web服务器，都有自己的IP地址，例如: 可以在Windows的终端中运行ping <a class="link"   target="_blank" rel="noopener" href="http://www.baidu.com命令,即可查看百度服务器的ip地址/" >www.baidu.com命令，即可查看百度服务器的IP地址<i class="fas fa-external-link-alt"></i></a></p>
<p>在开发期间，自己的电脑既是一台服务器，也是一个客户端，为了方便测试，可以在自己的浏览器中输入<code>127.0.0.1</code>这个IP地址，就能把自己的电脑当做一台服务器进行访问了</p>
</li>
<li><p>域名和域名服务器</p>
<p>尽管IP地址能够唯一地标识网络上的计算机，但IP地址是一长串数字，不直观，而且不便于记忆，于是人们又发明了另一套字符型的地址方案，即所谓的域名(Domain Name)地址</p>
<p>IP地址和域名是一一对应的关系，这份对应关系存放在一种叫做域名服务器(DNS)，使用者只需要通过好记的域名访问对应的服务器即可，对应的转换工作由域名服务器实现，因此，域名服务器就是提供IP地址和域名之间的转换服务的服务器</p>
<p>注意:</p>
<p>在开发测试期间，127.0.0.1对应的域名是localhost，它们代表我们自己的这台电脑，在使用效果上没有任何区别</p>
</li>
<li><p>端口号</p>
<p>计算机中的端口号，就好像是现实生活中的门牌号一样，通过门牌号，外卖小哥可以在整栋大楼众多的房间中，准确的把外卖送到你的手中</p>
<p>同样的道理，在一台电脑中，可以运行成百上千个web服务，每个web服务都对应一个唯一的端口号，客户端发送过来的网络请求，通过端口，可以被准确地交给对应的web服务进行处理:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qGfkIU"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/24/qGfkIU.png"
                      alt="qGfkIU.png"
                ></a></p>
<p>注意:</p>
<p>每个端口号不能同时被多个web服务占用，就像每个试衣间只能同时进一个人一样的</p>
<p>在实际开发中， URL中的<strong>80端口可以被省略</strong></p>
</li>
</ol>
<h4 id="创建最基本的web服务器"><a href="#创建最基本的web服务器" class="headerlink" title="创建最基本的web服务器"></a>创建最基本的web服务器</h4><ol>
<li><p>创建web服务器的基本步骤</p>
<ul>
<li>导入http模块</li>
<li>创建web服务器实例</li>
<li>为服务器实例绑定request事件，<strong>监听客户端的请求</strong></li>
<li>启动服务器</li>
</ul>
<p>步骤1: 导入http模块</p>
<p>如果希望在自己的电脑上创建一个web服务器，从而对外提供web服务，则需要导入http模块:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>步骤2: 创建web服务器实例</p>
<p>调用http.createServer()方法，即可快速创建一个web服务器实例:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> server = http.createServer()</span><br></pre></td></tr></table></figure>

<p>步骤3: 为服务器实例绑定request事件</p>
<p>为服务器实例绑定request事件，即可监听客户端发送过来的网络请求:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用服务器实例的.on()方法，为服务器绑定一个request事件</span></span><br><span class="line">server.on(<span class="string">&#x27;request&#x27;</span>, (req, res) ==&gt; &#123;</span><br><span class="line">          <span class="comment">// 只要有客户端来请求服务器，就会触发request事件，从而调用这个事件处理函数</span></span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">&#x27;someone visited our web server.&#x27;</span>)</span><br><span class="line">          &#125;)</span><br></pre></td></tr></table></figure>

<p>步骤4: 启动服务器</p>
<p>调用服务器实例的.listen()方法，即可启动当前的web服务器实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 调用server.listen(端口号， 回调函数)方法，即可启动web服务器</span></span><br><span class="line">server.listen(<span class="number">8080</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) =&gt; </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;http server running at http:127.0.0.1:8080&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>上面的步骤3: 为服务器实例绑定request事件中的req和res参数我们没提，下面我们来看看:</p>
<ul>
<li><p>req请求对象</p>
<p>只要服务器接收到了客户端的请求，就会触发server.on()方法中绑定的request事件处理函数request，如果想在事件处理函数中访问与客户端相关的数据或属性，我们可以使用如下方式:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">server.on(<span class="string">&#x27;request&#x27;</span>, <span class="function">(<span class="params">req</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// req是请求对象，它包含了与客户端相关的属性和数据，例如:</span></span><br><span class="line">    <span class="comment">// req.url 是客户端请求的URL地址,从端口号后面开始截取</span></span><br><span class="line">    <span class="comment">// req.method 是客户端的method请求类型，比如get、post</span></span><br><span class="line">    <span class="keyword">const</span> str = <span class="string">&#x27;your request url is $&#123;req.url&#125;, and request method is $&#123;req.method&#125;&#x27;</span></span><br><span class="line">    <span class="built_in">console</span>.log(str)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li><p>res相应对象</p>
<p>在服务器的request事件处理函数中，如果想访问与服务器相关的数据或属性，可以使用如下的方式:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sever.on(<span class="string">&#x27;request&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// res是响应对象，它包含了与服务器相关的数据和数学，例如:</span></span><br><span class="line">    <span class="comment">// 要发送到客户端的字符串</span></span><br><span class="line">    <span class="keyword">const</span> str = <span class="string">&#x27;your request url is $&#123;req.url&#125;, and request method is $&#123;req.method&#125;&#x27;</span></span><br><span class="line">    <span class="comment">// res.end()方法的作用:向客户端发送指定的内容，并结束这次请求的处理过程</span></span><br><span class="line">    res.end(str)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
<p>如何解决中文乱码的问题</p>
<p>当我们调用res.end()方法，想客户端发送中文内容的时候，会出现乱码问题，此时，需要手动设置内容的编码格式:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">server.on(<span class="string">&#x27;require&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//发送的内容包含中文</span></span><br><span class="line">    cosnt str = <span class="string">&quot;你好，你请求的url地址是$&#123;req.url&#125;, 请求的method类型是$&#123;req.method&#125;&quot;</span></span><br><span class="line">    <span class="comment">// 为了防止中文显示乱码的问题，需要设置响应头，//Content-Type的值为text/html; charset=utf-8</span></span><br><span class="line">    res.setHeader(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;text/html; charset=utf-8&#x27;</span>)</span><br><span class="line">    <span class="comment">// 把包含中文的内容，响应给客户端</span></span><br><span class="line">    res.end(str)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="根据不同的url响应不同的html内容"><a href="#根据不同的url响应不同的html内容" class="headerlink" title="根据不同的url响应不同的html内容"></a>根据不同的url响应不同的html内容</h4><p>核心实现步骤:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qJSU61"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/24/qJSU61.png"
                      alt="qJSU61.png"
                ></a></p>
<p>实现案例:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qJSv7T"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/24/qJSv7T.png"
                      alt="qJSv7T.png"
                ></a></p>
<h4 id="模块的分类-amp-require的使用"><a href="#模块的分类-amp-require的使用" class="headerlink" title="模块的分类&amp;require的使用"></a>模块的分类&amp;require的使用</h4><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qJprD0"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/24/qJprD0.png"
                      alt="qJprD0.png"
                ></a></p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qJpHUO"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/24/qJpHUO.png"
                      alt="qJpHUO.png"
                ></a></p>
<p>注意: 使用require()方法加载其他模块时，会执行被加载模块中的代码</p>
<h4 id="Node-js中的模块作用域"><a href="#Node-js中的模块作用域" class="headerlink" title="Node.js中的模块作用域"></a>Node.js中的模块作用域</h4><ol>
<li><p>什么是模块作用域</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qJ9DRH"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/24/qJ9DRH.png"
                      alt="qJ9DRH.png"
                ></a></p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qJ94Jg"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/24/qJ94Jg.png"
                      alt="qJ94Jg.png"
                ></a></p>
</li>
<li><p>模块作用域的好处</p>
<p>防止了全局变量的污染的问题</p>
<p>在windows中我们是没有模块的，只有函数的概念，比如说我们在一个html文档中导入了一个register.js和一个login.js，这两个js文件中各定义了一个username的变量，register.js和login.js导入之后，这两个变量都会被赋给全局变量window，当我们使用username这个变量就会被污染</p>
</li>
</ol>
<h4 id="向外共享模块作用域的成员"><a href="#向外共享模块作用域的成员" class="headerlink" title="向外共享模块作用域的成员"></a>向外共享模块作用域的成员</h4><p>model.exports对象</p>
<p>在自定义模块中，可以使用module.exports对象，将模块内的成员共享出去，供外界使用</p>
<p>在一个自定义模块中，默认情况下，<code>module.exports = &#123;&#125;</code>，我们导入这个动作其实就是导入了模块中用<code>module.exports = &#123;&#125;</code>所共享出去的东西</p>
<p><strong>外界require()方法导入自定义模块时，得到的就是module.exports所指向的对象</strong><br><a target="_blank" rel="noopener" href="https://imgtu.com/i/qYdJYt"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYdJYt.png"
                      alt="qYdJYt.png"
                ></a></p>
<p>共享成员的注意点:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qYd579"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYd579.png"
                      alt="qYd579.png"
                ></a></p>
<p>如挂载的是一个对象，那就是指向的对象，挂载的对象会覆盖前面所挂载的方法或属性</p>
<p>exports对象:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qYwgUA"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYwgUA.png"
                      alt="qYwgUA.png"
                ></a></p>
<p>以下代码便证明了这两个是同一个对象:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qY05J1"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qY05J1.png"
                      alt="qY05J1.png"
                ></a></p>
<p>exports向外共享的写法更简便，它是module.exports的一种简便写法</p>
<p>exports和module.exports的使用误区:</p>
<p>我们需要时刻谨记: <strong>使用require模块时，得到的永远是module.exports指向的对象</strong></p>
<p>下面给出一个示例图:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qYDvxP"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYDvxP.png"
                      alt="qYDvxP.png"
                ></a></p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qYcLcR"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYcLcR.png"
                      alt="qYcLcR.png"
                ></a></p>
<p>视频参考: <a class="link"   target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1a34y167AZ?p=24" >https://www.bilibili.com/video/BV1a34y167AZ?p=24<i class="fas fa-external-link-alt"></i></a></p>
<p>Node.js中的模块化规范:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qYRU1J"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYRU1J.png"
                      alt="qYRU1J.png"
                ></a></p>
<h4 id="npm与包"><a href="#npm与包" class="headerlink" title="npm与包"></a>npm与包</h4><h5 id="包"><a href="#包" class="headerlink" title="包"></a>包</h5><p>什么是包?</p>
<p>Node.js中的<strong>第三方模块</strong>又叫做包</p>
<p>就像电脑和计算机指的是相同的东西，第三方模块和包指的是同一个概念，只不过叫法不同</p>
<p>包的来源:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qYWpNT"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYWpNT.png"
                      alt="qYWpNT.png"
                ></a></p>
<p>为什么需要包:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qYWlgH"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYWlgH.png"
                      alt="qYWlgH.png"
                ></a></p>
<p>从哪里下载包?</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qYWzMd"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYWzMd.png"
                      alt="qYWzMd.png"
                ></a></p>
<p>如何下载包?</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qYfmss"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYfmss.png"
                      alt="qYfmss.png"
                ></a></p>
<h5 id="npm初体验"><a href="#npm初体验" class="headerlink" title="npm初体验"></a>npm初体验</h5><ol>
<li><p>格式化时间的传统做法</p>
<p>第一步: 创建格式化时间的自定义模块</p>
<p>第二步: 定义格式化时间的方法</p>
<p>第三步: 创建补零函数</p>
<p>第四步: 从自定义模块中导出格式化时间的函数</p>
<p>第五步: 导入格式化时间的自定义模块</p>
<p>第六步: 调用格式化时间的函数</p>
<p>dateFormat.js:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义格式化时间的方法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dateFormat</span>(<span class="params">dtStr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> dt = <span class="keyword">new</span> <span class="built_in">Date</span>(dtStr)</span><br><span class="line">    <span class="keyword">const</span> y = dt.getFullYear()</span><br><span class="line">    <span class="keyword">const</span> m = padZero(dt.getMonth() + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">const</span> d = padZero(dt.getDate())</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> hh = padZero(dt.getHour())</span><br><span class="line">    <span class="keyword">const</span> mm = padZero(dt.getMinutes())</span><br><span class="line">    <span class="keyword">const</span> ss = padZero(dt.getSeconds())</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;$&#123;y&#125;-$&#123;m&#125;-$&#123;d&#125;-$&#123;hh&#125;$&#123;mm&#125;-$&#123;ss&#125;&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义补零的函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">padZero</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> n &gt; <span class="number">9</span> ? n: <span class="string">&#x27;0&#x27;</span> + n</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  向外暴露出去</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    dateFormat</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>getTime.js:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入自定义的格式化时间的模块</span></span><br><span class="line"><span class="keyword">const</span> TIME = <span class="built_in">require</span>(<span class="string">&#x27;./dateFormat&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用方法，进行时间的格式化</span></span><br><span class="line"><span class="keyword">const</span> dt = <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line"><span class="comment">// console.log(dt)</span></span><br><span class="line"><span class="keyword">const</span> newDT = TIME.dateFormat(dt)</span><br><span class="line"><span class="built_in">console</span>.log(newDT)</span><br></pre></td></tr></table></figure>

<p>可以看到，格式化时间的传统做法是比较麻烦的</p>
</li>
<li><p>格式化时间的高级做法(使用第三方包)</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qYI64P"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYI64P.png"
                      alt="qYI64P.png"
                ></a></p>
<p>安装:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install 包的完整名称</span><br></pre></td></tr></table></figure>

<p>上面的的装包命令，可以简写为如下格式:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i 包的完整名称</span><br></pre></td></tr></table></figure>

<p>包安装好了后终端会提示<code>added 1 package from 6 contributors in xxxs</code>，然后后面<code>@</code>会跟上版本号</p>
<p>下面我们来看看使用moment来进行时间的格式化:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入需要的包</span></span><br><span class="line"><span class="comment">// 注意: 导入的名称，就是装包的时候的名称</span></span><br><span class="line"><span class="keyword">const</span> moment = <span class="built_in">require</span>(<span class="string">&#x27;moment&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> dt = moment().format(<span class="string">&#x27;YYYY-MM-DD- HH:mm:ss&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(dt)</span><br></pre></td></tr></table></figure></li>
</ol>
<h5 id="使用npm的注意点"><a href="#使用npm的注意点" class="headerlink" title="使用npm的注意点"></a>使用npm的注意点</h5><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qYTO0J"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYTO0J.png"
                      alt="qYTO0J.png"
                ></a></p>
<h5 id="安装指定版本的包"><a href="#安装指定版本的包" class="headerlink" title="安装指定版本的包"></a>安装指定版本的包</h5><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qY7ZtI"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qY7ZtI.png"
                      alt="qY7ZtI.png"
                ></a></p>
<h5 id="包的语义化版本规范"><a href="#包的语义化版本规范" class="headerlink" title="包的语义化版本规范"></a>包的语义化版本规范</h5><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qY7Yhq"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qY7Yhq.png"
                      alt="qY7Yhq.png"
                ></a></p>
<h5 id="包管理配置文件"><a href="#包管理配置文件" class="headerlink" title="包管理配置文件"></a>包管理配置文件</h5><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qY7g9x"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qY7g9x.png"
                      alt="qY7g9x.png"
                ></a></p>
<h6 id="多人协作问题"><a href="#多人协作问题" class="headerlink" title="多人协作问题"></a>多人协作问题</h6><p>如果<strong>第三方包的体积过大</strong>，这就不方便团队之间共享项目源代码了</p>
<p>如下图所遇到的情况:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qYHmVJ"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYHmVJ.png"
                      alt="qYHmVJ.png"
                ></a></p>
<p>在实际开发中，我们都会使用github这样的工具来管理项目，我们希望将这个项目上传到github，如果这个项目太大，那上传也是比较费劲，第三放包我们可以下载，别人也可以下载，所以我们只需要上传项目的源代码即可(将这个文件夹添加到.gitignore忽略文件中)，那么就要在上传的时候剔除node_modules目录，我们怎么才能标记下我们的项目中用到了哪些第三方包呢，如果你不标记下，别人拿到你的代码就不知道你用到了哪些包，也就无法将项目跑起来</p>
<h6 id="如何记录项目中安装了哪些包"><a href="#如何记录项目中安装了哪些包" class="headerlink" title="如何记录项目中安装了哪些包?"></a>如何记录项目中安装了哪些包?</h6><p>我们可以向如下这么做:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qYbPdH"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYbPdH.png"
                      alt="qYbPdH.png"
                ></a></p>
<h6 id="快速创建package-json"><a href="#快速创建package-json" class="headerlink" title="快速创建package.json"></a>快速创建package.json</h6><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qYbeQf"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYbeQf.png"
                      alt="qYbeQf.png"
                ></a></p>
<p>在我们创建一个项目后，第一件事就是要创建一个package.json</p>
<p>这里有几个注意点: </p>
<ul>
<li>上述命令<strong>只能在英文目录下成功运行</strong>，所以，项目文件夹的名称一定要使用英文命名，<strong>不要使用中文，不能出现空格</strong></li>
<li>运行npm install 命令安装包的时候，npm包管理工具会自动把包的名称和版本号记录到package.json中</li>
</ul>
<h6 id="dependencies节点"><a href="#dependencies节点" class="headerlink" title="dependencies节点"></a>dependencies节点</h6><p>在我们创建package.json后，默认这个dependencies是空的，我们在装包之后，就会在其中添加值</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qYqMjK"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYqMjK.png"
                      alt="qYqMjK.png"
                ></a></p>
<p>这个dependencies节点是干嘛的呢:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qYq23q"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYq23q.png"
                      alt="qYq23q.png"
                ></a></p>
<h6 id="如何一次性安装所有包"><a href="#如何一次性安装所有包" class="headerlink" title="如何一次性安装所有包"></a>如何一次性安装所有包</h6><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qYq759"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYq759.png"
                      alt="qYq759.png"
                ></a></p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qYqLgx"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYqLgx.png"
                      alt="qYqLgx.png"
                ></a></p>
<h6 id="如何从项目中卸载包"><a href="#如何从项目中卸载包" class="headerlink" title="如何从项目中卸载包"></a>如何从项目中卸载包</h6><p> <a target="_blank" rel="noopener" href="https://imgtu.com/i/qYLPPA"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYLPPA.png"
                      alt="qYLPPA.png"
                ></a></p>
<h6 id="devDependencies节点"><a href="#devDependencies节点" class="headerlink" title="devDependencies节点"></a>devDependencies节点</h6><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qYL1x0"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYL1x0.png"
                      alt="qYL1x0.png"
                ></a></p>
<p>如何查看我们是否需要在安装包的时候把包添加到devDependencies节点中呢，我们可以在安装包之前访问这个网站: <a class="link"   target="_blank" rel="noopener" href="https://www.npmjs.com/package%EF%BC%8C%E6%9F%A5%E7%9C%8B%EF%BC%8C%E6%AF%94%E5%A6%82" >https://www.npmjs.com/package，查看，比如<i class="fas fa-external-link-alt"></i></a>:</p>
<p>我们搜索webpack这个包:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qYLzQ0"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYLzQ0.png"
                      alt="qYLzQ0.png"
                ></a></p>
<p>它会告诉我们这个包只会在项目开发的时候用到，所以要加入到devDependencies节点中</p>
<h6 id="解决下包速度慢的问题"><a href="#解决下包速度慢的问题" class="headerlink" title="解决下包速度慢的问题"></a>解决下包速度慢的问题</h6><p>为什么下包速度慢？</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qYOMwD"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYOMwD.png"
                      alt="qYOMwD.png"
                ></a></p>
<p>如何解决下包速度慢:</p>
<p>可以利用淘宝NPM镜像服务器</p>
<p>原理:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qYOypn"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYOypn.png"
                      alt="qYOypn.png"
                ></a></p>
<p>切换npm的下包镜像源</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qYOIh9"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qYOIh9.png"
                      alt="qYOIh9.png"
                ></a></p>
<h6 id="nrm"><a href="#nrm" class="headerlink" title="nrm"></a>nrm</h6><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qt8PxJ"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qt8PxJ.png"
                      alt="qt8PxJ.png"
                ></a></p>
<h5 id="包的分类"><a href="#包的分类" class="headerlink" title="包的分类"></a>包的分类</h5><h6 id="项目包"><a href="#项目包" class="headerlink" title="项目包"></a>项目包</h6><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qtGr1e"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qtGr1e.png"
                      alt="qtGr1e.png"
                ></a></p>
<h6 id="全局包"><a href="#全局包" class="headerlink" title="全局包"></a>全局包</h6><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qtGz3F"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qtGz3F.png"
                      alt="qtGz3F.png"
                ></a></p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qtJ5Ux"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qtJ5Ux.png"
                      alt="qtJ5Ux.png"
                ></a></p>
<h6 id="i5ting-toc"><a href="#i5ting-toc" class="headerlink" title="i5ting_toc"></a>i5ting_toc</h6><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qtYKRU"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qtYKRU.png"
                      alt="qtYKRU.png"
                ></a></p>
<p>上图中的<code>-o</code>参数表示在浏览器中打开</p>
<h5 id="规范的包结构"><a href="#规范的包结构" class="headerlink" title="规范的包结构"></a>规范的包结构</h5><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qttn0A"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qttn0A.png"
                      alt="qttn0A.png"
                ></a></p>
<h5 id="开发属于自己的包-案例"><a href="#开发属于自己的包-案例" class="headerlink" title="开发属于自己的包(案例)"></a>开发属于自己的包(案例)</h5><h6 id="包的基本功能介绍"><a href="#包的基本功能介绍" class="headerlink" title="包的基本功能介绍"></a>包的基本功能介绍</h6><p>先说下我们要实现的功能:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qttocD"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qttocD.png"
                      alt="qttocD.png"
                ></a></p>
<p>然后我们来看看如果开发好之后，我们具体调用的代码例子:</p>
<p>第一个功能:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qtNkEn"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qtNkEn.png"
                      alt="qtNkEn.png"
                ></a></p>
<p>第二个功能:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qtNaKe"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qtNaKe.png"
                      alt="qtNaKe.png"
                ></a></p>
<p>第三个功能:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qtUFMD"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qtUFMD.png"
                      alt="qtUFMD.png"
                ></a></p>
<h6 id="初始化包的基本结构"><a href="#初始化包的基本结构" class="headerlink" title="初始化包的基本结构"></a>初始化包的基本结构</h6><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qt0yjK"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qt0yjK.png"
                      alt="qt0yjK.png"
                ></a></p>
<h6 id="初始化package-json"><a href="#初始化package-json" class="headerlink" title="初始化package.json"></a>初始化package.json</h6><p>我们最终要初始化成下图这个样子:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qtB1Ve"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qtB1Ve.png"
                      alt="qtB1Ve.png"
                ></a></p>
<p>name: 包的名称，之后上传供别人使用别人安装包就是用这个名字安装，这里要注意包的名称不能重复了，取名之前最后先去npm的官网先进行一个检索看看包名有没有被占用</p>
<p>version: 版本号，默认一个新的包是从1.0.0开始</p>
<p>main: 指定包的入口文件，外界导入包的时候，其实就是导入的main所指定的那个文件</p>
<p>description: 这个包的简短的描述信息</p>
<p>keywords: 搜索的关键字，在npm官网搜索这个关键字就能搜到相关包</p>
<p>license: 包所遵守的开源许可协议，默认是ISC</p>
<h6 id="在index-js中定义格式化时间的方法"><a href="#在index-js中定义格式化时间的方法" class="headerlink" title="在index.js中定义格式化时间的方法"></a>在index.js中定义格式化时间的方法</h6><p>我们来看下实现的整体步骤:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qtrscq"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qtrscq.png"
                      alt="qtrscq.png"
                ></a></p>
<p>格式时间的方法我刚刚已经实现了，见下面的代码:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义格式化时间的方法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dateFormat</span>(<span class="params">dtStr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> dt = <span class="keyword">new</span> <span class="built_in">Date</span>(dtStr)</span><br><span class="line">    <span class="keyword">const</span> y = dt.getFullYear()</span><br><span class="line">    <span class="keyword">const</span> m = padZero(dt.getMonth() + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">const</span> d = padZero(dt.getDate())</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> hh = padZero(dt.getHour())</span><br><span class="line">    <span class="keyword">const</span> mm = padZero(dt.getMinutes())</span><br><span class="line">    <span class="keyword">const</span> ss = padZero(dt.getSeconds())</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;$&#123;y&#125;-$&#123;m&#125;-$&#123;d&#125;-$&#123;hh&#125;$&#123;mm&#125;-$&#123;ss&#125;&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义补零的函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">padZero</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> n &gt; <span class="number">9</span> ? n: <span class="string">&#x27;0&#x27;</span> + n</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  向外暴露出去</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    dateFormat</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>测试一下:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qtypi4"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qtypi4.png"
                      alt="qtypi4.png"
                ></a></p>
<p>上面require的参数是一个完整的指向index.js的一个路径，我们去掉<code>/index</code>是否还可以正常运行呢，答案是可以的，因为我们已经在package.json中的main属性已经添加了<code>index.js</code>，已经指明了入口</p>
<h6 id="在index-js中定义转义HTML的方法"><a href="#在index-js中定义转义HTML的方法" class="headerlink" title="在index.js中定义转义HTML的方法"></a>在index.js中定义转义HTML的方法</h6><p>我们来看下实现:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qt6PAS"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qt6PAS.png"
                      alt="qt6PAS.png"
                ></a></p>
<p>上图用到了字符串的replace方法，第一个参数是正则表达式，其中的<code>g</code>参数表示全局匹配，意思就是会从前到后全部匹配一遍，<code>|</code>表示或者，match表示匹配成功的字符，然后下面通过回调函数中的switch来进行匹配到的字符的一个替换</p>
<p>把这个方法暴露出去之后，我们来做个测试:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qtcxdf"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qtcxdf.png"
                      alt="qtcxdf.png"
                ></a></p>
<h6 id="在index-js中定义还原HTML的方法"><a href="#在index-js中定义还原HTML的方法" class="headerlink" title="在index.js中定义还原HTML的方法"></a>在index.js中定义还原HTML的方法</h6><p>来看下实现:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qtgJw6"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qtgJw6.png"
                      alt="qtgJw6.png"
                ></a></p>
<h6 id="将不同的功能进行模块化拆分"><a href="#将不同的功能进行模块化拆分" class="headerlink" title="将不同的功能进行模块化拆分"></a>将不同的功能进行模块化拆分</h6><p>在经过上面的操作后，我们把所有的代码都写在了ithaime-tools下面的index.js中，其实在这个文件中我们做的功能比较多，这三个功能应该分处理时间和处理HTML来分成两个独立的功能，我们来看下步骤:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qt2HKA"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qt2HKA.png"
                      alt="qt2HKA.png"
                ></a></p>
<p>我们先在ithaime-tools文件夹下新建一个src文件夹，然后在src目录下新建一个dateFormat.js和一个htmlEscape.js，我们把相应功能的函数放到对应的js文件里，然后分别导出</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qtWvcQ"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qtWvcQ.png"
                      alt="qtWvcQ.png"
                ></a></p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qtW77t"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qtW77t.png"
                      alt="qtW77t.png"
                ></a></p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qtW0l4"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qtW0l4.png"
                      alt="qtW0l4.png"
                ></a></p>
<p>上图中用到了es6的部分语法<code>...</code>表示展开运算符，把这个对象中的每一个属性展开了交给新对象，关于<code>...</code>运算符可以参考: <a class="link"   target="_blank" rel="noopener" href="https://www.cnblogs.com/jone-chen/p/12133441.html" >https://www.cnblogs.com/jone-chen/p/12133441.html<i class="fas fa-external-link-alt"></i></a></p>
<h6 id="编写包的说明文档"><a href="#编写包的说明文档" class="headerlink" title="编写包的说明文档"></a>编写包的说明文档</h6><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qthNzF"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qthNzF.png"
                      alt="qthNzF.png"
                ></a></p>
<h5 id="发布包"><a href="#发布包" class="headerlink" title="发布包"></a>发布包</h5><h6 id="注册npm账号"><a href="#注册npm账号" class="headerlink" title="注册npm账号"></a>注册npm账号</h6><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qth4eA"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qth4eA.png"
                      alt="qth4eA.png"
                ></a></p>
<h6 id="登录npm账号"><a href="#登录npm账号" class="headerlink" title="登录npm账号"></a>登录npm账号</h6><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qt4KfK"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qt4KfK.png"
                      alt="qt4KfK.png"
                ></a></p>
<p>这里有一个注意点: 在运行npm login命令之前，<strong>必须先把下包的服务器地址切换成npm的官方服务器</strong>，否则会导致发布包失败</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qt5tu4"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qt5tu4.png"
                      alt="qt5tu4.png"
                ></a></p>
<h6 id="把包发布到npm上"><a href="#把包发布到npm上" class="headerlink" title="把包发布到npm上"></a>把包发布到npm上</h6><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qt5Xan"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qt5Xan.png"
                      alt="qt5Xan.png"
                ></a></p>
<p>然后我们可以登录到npm的官方网站，然后点击头像右边的下拉箭头，然后点击packages，查看我们发布的包</p>
<h5 id="删除包"><a href="#删除包" class="headerlink" title="删除包"></a>删除包</h5><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qtoCfP"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/25/qtoCfP.png"
                      alt="qtoCfP.png"
                ></a></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://img.kuibu.net/imgs/2022/03/154090da36ff0728.png"
                     
                ></p>
<h4 id="模块的加载机制"><a href="#模块的加载机制" class="headerlink" title="模块的加载机制"></a>模块的加载机制</h4><ol>
<li><p>优先从缓存中加载</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://img.kuibu.net/imgs/2022/03/ef6ae3a7f166b9de.png"
                     
                ></p>
</li>
<li><p>内置模块的加载机制</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://img.kuibu.net/imgs/2022/03/6cb6718ec3bcb932.png"
                     
                ></p>
</li>
<li><p>自定义模块的加载机制</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://img.kuibu.net/imgs/2022/03/a21c31069ee5d100.png"
                     
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://img.kuibu.net/imgs/2022/03/93ef7f2d59aa25ea.png"
                     
                ></p>
</li>
<li><p>第三方模块的加载机制</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://img.kuibu.net/imgs/2022/03/701ef66ed0b0a5b1.png"
                     
                ></p>
</li>
<li><p>目作为模块</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://img.kuibu.net/imgs/2022/03/5b74bbfd95b8657f.png"
                     
                ></p>
</li>
</ol>
<h4 id="express"><a href="#express" class="headerlink" title="express"></a>express</h4><p>目标:</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://img.kuibu.net/imgs/2022/03/15b9e16ac69a8c75.png"
                     
                ></p>
<h5 id="初识express"><a href="#初识express" class="headerlink" title="初识express"></a>初识express</h5><h6 id="什么是express"><a href="#什么是express" class="headerlink" title="什么是express"></a>什么是express</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://img.kuibu.net/imgs/2022/03/9c2443d59676ca5a.png"
                     
                ></p>
<h6 id="进一步理解express"><a href="#进一步理解express" class="headerlink" title="进一步理解express"></a>进一步理解express</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://img.kuibu.net/imgs/2022/03/267a759903feb79d.png"
                     
                ></p>
<h6 id="express能做什么"><a href="#express能做什么" class="headerlink" title="express能做什么"></a>express能做什么</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://img.kuibu.net/imgs/2022/03/855bd2becf38dbb2.png"
                     
                ></p>
<h5 id="express的基本使用"><a href="#express的基本使用" class="headerlink" title="express的基本使用"></a>express的基本使用</h5><h6 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://img.kuibu.net/imgs/2022/03/357d2bb25771cdc5.png"
                     
                ></p>
<h6 id="创建基本的web服务器"><a href="#创建基本的web服务器" class="headerlink" title="创建基本的web服务器"></a>创建基本的web服务器</h6><p>基本实现:</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://img.kuibu.net/imgs/2022/03/e69e57941ce820aa.png"
                     
                ></p>
<h6 id="监听GET请求"><a href="#监听GET请求" class="headerlink" title="监听GET请求"></a>监听GET请求</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://img.kuibu.net/imgs/2022/03/84fce7e4bc64a53a.png"
                     
                ></p>
<h6 id="监听POST请求"><a href="#监听POST请求" class="headerlink" title="监听POST请求"></a>监听POST请求</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://img.kuibu.net/imgs/2022/03/d944cecd82bf2661.png"
                     
                ></p>
<h6 id="如何把内容响应给客户端"><a href="#如何把内容响应给客户端" class="headerlink" title="如何把内容响应给客户端"></a>如何把内容响应给客户端</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://img.kuibu.net/imgs/2022/03/1fe2735f3a7af3b9.png"
                     
                ></p>
<p>关于json对象和json字符串: <a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/u010865136/article/details/78591765" >https://blog.csdn.net/u010865136/article/details/78591765<i class="fas fa-external-link-alt"></i></a></p>
<h6 id="如何获取URL中携带的查询参数"><a href="#如何获取URL中携带的查询参数" class="headerlink" title="如何获取URL中携带的查询参数"></a>如何获取URL中携带的查询参数</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://i.bmp.ovh/imgs/2022/03/d344c21b21451031.png"
                     
                ></p>
<h6 id="获取URL中的动态参数"><a href="#获取URL中的动态参数" class="headerlink" title="获取URL中的动态参数"></a>获取URL中的动态参数</h6><p>比如动态的<code>id</code>值</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://i.bmp.ovh/imgs/2022/03/f9d27f2d2849333f.png"
                     
                ></p>
<p>id不是固定写法，只有前面的<code>:</code>是固定写法，也可以有多个动态参数比如:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">app.get(<span class="string">&#x27;/user/:id/:name&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(req.params)</span><br><span class="line">    res.send(req.params)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="托管静态资源"><a href="#托管静态资源" class="headerlink" title="托管静态资源"></a>托管静态资源</h5><h6 id="express-static"><a href="#express-static" class="headerlink" title="express.static()"></a>express.static()</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://i.bmp.ovh/imgs/2022/03/2c623906e731fb00.png"
                     
                ></p>
<p>注意: Express在指定的静态目录中查找文件，并对外提供资源的访问路径；因此，存放静态文件的目录名不会出现在URL中</p>
<h6 id="托管多个静态资源目录"><a href="#托管多个静态资源目录" class="headerlink" title="托管多个静态资源目录"></a>托管多个静态资源目录</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://i.bmp.ovh/imgs/2022/03/cd2a4620bbcbab18.png"
                     
                ></p>
<h6 id="挂载路径前缀"><a href="#挂载路径前缀" class="headerlink" title="挂载路径前缀"></a>挂载路径前缀</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://i.bmp.ovh/imgs/2022/03/70717bfcabbf799f.png"
                     
                ></p>
<h5 id="nodemon"><a href="#nodemon" class="headerlink" title="nodemon"></a>nodemon</h5><h6 id="为什么要使用nodemon"><a href="#为什么要使用nodemon" class="headerlink" title="为什么要使用nodemon"></a>为什么要使用nodemon</h6><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qUO4G4"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/26/qUO4G4.png"
                      alt="qUO4G4.png"
                ></a></p>
<h6 id="安装nodemon"><a href="#安装nodemon" class="headerlink" title="安装nodemon"></a>安装nodemon</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/yY9baXmjfAF45Co.png"
                      alt="image.png"
                ></p>
<h6 id="使用nodemon"><a href="#使用nodemon" class="headerlink" title="使用nodemon"></a>使用nodemon</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/shETlbdaHB8PS1D.png"
                      alt="image.png"
                ></p>
<h5 id="express路由"><a href="#express路由" class="headerlink" title="express路由"></a>express路由</h5><h6 id="什么是路由"><a href="#什么是路由" class="headerlink" title="什么是路由"></a>什么是路由</h6><p>广义来讲，路由就是<strong>映射关系</strong></p>
<p>生活中的案例:</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/7KtgbO1kI3nVfX9.png"
                      alt="image.png"
                ></p>
<h6 id="express中的路由"><a href="#express中的路由" class="headerlink" title="express中的路由"></a>express中的路由</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/nBQfAHxlg7ET98a.png"
                      alt="image.png"
                ></p>
<h6 id="express中的路由的例子"><a href="#express中的路由的例子" class="headerlink" title="express中的路由的例子"></a>express中的路由的例子</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/fYsKDF7gtLQU2PC.png"
                      alt="image.png"
                ></p>
<h6 id="路由的匹配过程"><a href="#路由的匹配过程" class="headerlink" title="路由的匹配过程"></a>路由的匹配过程</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/VonEirtIkTNGmjs.png"
                      alt="image.png"
                ></p>
<h5 id="路由的使用"><a href="#路由的使用" class="headerlink" title="路由的使用"></a>路由的使用</h5><h6 id="最简单的用法"><a href="#最简单的用法" class="headerlink" title="最简单的用法"></a>最简单的用法</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/KxegbOWELkalHXc.png"
                      alt="image.png"
                ></p>
<h6 id="模块化路由"><a href="#模块化路由" class="headerlink" title="模块化路由"></a>模块化路由</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/J42yBfw5PnajWzq.png"
                      alt="image.png"
                ></p>
<h6 id="创建路由模块"><a href="#创建路由模块" class="headerlink" title="创建路由模块"></a>创建路由模块</h6><p>案例:</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/C6nUoGMvrzWqlSg.png"
                      alt="image.png"
                ></p>
<h6 id="注册路由模块"><a href="#注册路由模块" class="headerlink" title="注册路由模块"></a>注册路由模块</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/ygW2Pi6QIv7UcBO.png"
                      alt="image.png"
                ></p>
<p>注意: app.use()函数的作用，就是用来注册全局中间件</p>
<h6 id="为路由模块添加前缀"><a href="#为路由模块添加前缀" class="headerlink" title="为路由模块添加前缀"></a>为路由模块添加前缀</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/IMF1CzQAv43njqf.png"
                      alt="image.png"
                ></p>
<p>视频地址: <a class="link"   target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1a34y167AZ?p=43" >https://www.bilibili.com/video/BV1a34y167AZ?p=43<i class="fas fa-external-link-alt"></i></a></p>
<h4 id="express中间件"><a href="#express中间件" class="headerlink" title="express中间件"></a>express中间件</h4><h5 id="中间件的概念"><a href="#中间件的概念" class="headerlink" title="中间件的概念"></a>中间件的概念</h5><h6 id="什么是中间件"><a href="#什么是中间件" class="headerlink" title="什么是中间件"></a>什么是中间件</h6><p>中间件(Middleware)，特指<strong>业务流程的中间处理环节</strong></p>
<p>生活中的例子:</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/g5LyRDbadPti8Kh.png"
                      alt="image.png"
                ></p>
<h6 id="express中间件的调用流程"><a href="#express中间件的调用流程" class="headerlink" title="express中间件的调用流程"></a>express中间件的调用流程</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/BUomswa1EpuIQdX.png"
                      alt="image.png"
                ></p>
<h6 id="express中间件的格式"><a href="#express中间件的格式" class="headerlink" title="express中间件的格式"></a>express中间件的格式</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/MwJIRlt3yeQYhjO.png"
                      alt="image.png"
                ></p>
<h6 id="next函数的作用"><a href="#next函数的作用" class="headerlink" title="next函数的作用"></a>next函数的作用</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/tZQNTuHDiYzR4Kb.png"
                      alt="image.png"
                ></p>
<h5 id="express中间件的初体验"><a href="#express中间件的初体验" class="headerlink" title="express中间件的初体验"></a>express中间件的初体验</h5><h6 id="定义中间件函数"><a href="#定义中间件函数" class="headerlink" title="定义中间件函数"></a>定义中间件函数</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/WGXON2mdahQg1lA.png"
                      alt="image.png"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/BTQNfKUhtwrecsm.png"
                      alt="image.png"
                ></p>
<h6 id="全局生效的中间件"><a href="#全局生效的中间件" class="headerlink" title="全局生效的中间件"></a>全局生效的中间件</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/bSH726PedkuOsI9.png"
                      alt="image.png"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/3aZgCdu9rYFUebl.png"
                      alt="image.png"
                ></p>
<h6 id="定义全局中间件的简化形式"><a href="#定义全局中间件的简化形式" class="headerlink" title="定义全局中间件的简化形式"></a>定义全局中间件的简化形式</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/K14Z5uBSXLfixlv.png"
                      alt="image.png"
                ></p>
<h6 id="中间件的作用"><a href="#中间件的作用" class="headerlink" title="中间件的作用"></a>中间件的作用</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/Tmzs46MXcQoePVd.png"
                      alt="image.png"
                ></p>
<h6 id="定义多个全局中间件"><a href="#定义多个全局中间件" class="headerlink" title="定义多个全局中间件"></a>定义多个全局中间件</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/tFWydMTvmqZ6nO3.png"
                      alt="image.png"
                ></p>
<h6 id="局部生效的中间件"><a href="#局部生效的中间件" class="headerlink" title="局部生效的中间件"></a>局部生效的中间件</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/u2isKMUGZr3eEoW.png"
                      alt="image.png"
                ></p>
<h6 id="定义多个局部中间件"><a href="#定义多个局部中间件" class="headerlink" title="定义多个局部中间件"></a>定义多个局部中间件</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/iXBOehCwmrn5lWa.png"
                      alt="image.png"
                ></p>
<h6 id="中间件的5个注意事项"><a href="#中间件的5个注意事项" class="headerlink" title="中间件的5个注意事项"></a>中间件的5个注意事项</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/Mm3rODZ5kt4Pyl2.png"
                      alt="image.png"
                ></p>
<h5 id="中间件的分类"><a href="#中间件的分类" class="headerlink" title="中间件的分类"></a>中间件的分类</h5><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/DGAh4VRLSKHgyX2.png"
                      alt="image.png"
                ></p>
<h6 id="应用级别的中间件"><a href="#应用级别的中间件" class="headerlink" title="应用级别的中间件"></a>应用级别的中间件</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/ly8eaRMcKrx9ELU.png"
                      alt="image.png"
                ></p>
<h6 id="路由级别的中间件"><a href="#路由级别的中间件" class="headerlink" title="路由级别的中间件"></a>路由级别的中间件</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/FHgDJQU9GZBKm7o.png"
                      alt="image.png"
                ></p>
<h6 id="错误级别的中间件"><a href="#错误级别的中间件" class="headerlink" title="错误级别的中间件"></a>错误级别的中间件</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/2kfm3ieXCGz8IoH.png"
                      alt="image.png"
                ></p>
<p>作用: 项目不会崩溃，会继续运行</p>
<p>案例:</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/7AjdFLtMrVRawN3.png"
                      alt="image.png"
                ></p>
<p>错误中间件会捕获到路由中所抛出的错误，然后进行处理</p>
<p>注意: <strong>错误级别的中间件必须注册在所有路由之后!，这是个例外</strong></p>
<h6 id="express内置的中间件"><a href="#express内置的中间件" class="headerlink" title="express内置的中间件"></a>express内置的中间件</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/eQDcElWavmBpdLg.png"
                      alt="image.png"
                ></p>
<p>向服务器提价json格式的请求数据:</p>
<p>在服务器中，可以使用req.body这个属性，来接收客户端发送过来的请求体数据，但是如果发送的是json格式的数据，在没有定义<code>express.json</code>这个格式的情况下，服务器是完全解析不了的:</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/XKaZ9hemN4LlO21.png"
                      alt="image.png"
                ></p>
<p>默认情况下，如果不配置解析表单数据的中间件，则req.body默认等于undefined，就如上图所示</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/ZF7lryYpJuKC9XR.png"
                      alt="image.png"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/wijphVxPSeg5QRY.png"
                      alt="image.png"
                ></p>
<p>本小节视频地址: <a class="link"   target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1a34y167AZ?p=48%EF%BC%8C" >https://www.bilibili.com/video/BV1a34y167AZ?p=48，<i class="fas fa-external-link-alt"></i></a> 到32分</p>
<h6 id="第三方的中间件"><a href="#第三方的中间件" class="headerlink" title="第三方的中间件"></a>第三方的中间件</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/wORkdbzrILu8eUl.png"
                      alt="image.png"
                ></p>
<p>以body-parser这个第三方中间件为例:</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/eK6ibhWIqDAykGm.png"
                      alt="image.png"
                ></p>
<h5 id="自定义中间件"><a href="#自定义中间件" class="headerlink" title="自定义中间件"></a>自定义中间件</h5><h6 id="需求描述与实现步骤"><a href="#需求描述与实现步骤" class="headerlink" title="需求描述与实现步骤"></a>需求描述与实现步骤</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/26/bzMuVEhgovDZIJ5.png"
                      alt="image.png"
                ></p>
<p>使用app.use来定义一个中间件，在全局中间件中来写业务逻辑</p>
<p>监听req的data事件，只要触发了req的data事件，就证明有数据被提交了</p>
<p>接下来还要监听req的end事件，只要触发了req的end事件，就证明服务器已经完整地接收到了数据</p>
<p>接收到的数据还需要使用querystring模块解析请求体数据</p>
<p>然后将解析出来的数据对象挂载为req.body</p>
<p>最后将自定义中间件封装为模块</p>
<h6 id="定义中间件"><a href="#定义中间件" class="headerlink" title="定义中间件"></a>定义中间件</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/27/JsrjCKIDXFNax5v.png"
                      alt="image.png"
                ></p>
<h6 id="监听req的data事件"><a href="#监听req的data事件" class="headerlink" title="监听req的data事件"></a>监听req的data事件</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/27/F1Kwc2fYpIqa9kU.png"
                      alt="image.png"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/27/1jIdhcRiw3maqHs.png"
                      alt="image.png"
                ></p>
<h6 id="监听req的end事件"><a href="#监听req的end事件" class="headerlink" title="监听req的end事件"></a>监听req的end事件</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/27/sqhHtRcYlEI6v7j.png"
                      alt="image.png"
                ></p>
<h6 id="使用querystring模块解析请求体数据"><a href="#使用querystring模块解析请求体数据" class="headerlink" title="使用querystring模块解析请求体数据"></a>使用querystring模块解析请求体数据</h6><p>上面我们post过去的数据是字符串格式的，中文还会被编码，下面我们要做的就是进行一个解析</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/27/bjPScDmh6ktv3X5.png"
                      alt="image.png"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/27/CyZxBMpJibDvcY3.png"
                      alt="image.png"
                ></p>
<h6 id="将解析出来的数据对象挂载为req-body"><a href="#将解析出来的数据对象挂载为req-body" class="headerlink" title="将解析出来的数据对象挂载为req.body"></a>将解析出来的数据对象挂载为req.body</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/27/LiNVa4DlodnT1bU.png"
                      alt="image.png"
                ></p>
<h6 id="将自定义中间件封装为模块"><a href="#将自定义中间件封装为模块" class="headerlink" title="将自定义中间件封装为模块"></a>将自定义中间件封装为模块</h6><p>为了优化代码结构，我们可以把自定义的中间件函数，<strong>封装为独立的模块</strong>，示例代码如下:</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/ilg632u4BGEfJjo.png"
                      alt="image.png"
                ></p>
<h4 id="使用express写接口"><a href="#使用express写接口" class="headerlink" title="使用express写接口"></a>使用express写接口</h4><h5 id="创建基本的服务器"><a href="#创建基本的服务器" class="headerlink" title="创建基本的服务器"></a>创建基本的服务器</h5><p>基本框架如下:</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/FoqXankUN38PtWw.png"
                      alt="image.png"
                ></p>
<h5 id="创建API路由模块"><a href="#创建API路由模块" class="headerlink" title="创建API路由模块"></a>创建API路由模块</h5><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://i.bmp.ovh/imgs/2022/03/884f24319fda30f5.png"
                     
                ></p>
<p>上面是创建API路由模块，下面我们就可以导入路由模块:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入express</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="comment">// 创建服务器示例</span></span><br><span class="line"><span class="keyword">const</span> app = express()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 导入路由模块</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="built_in">require</span>(<span class="string">&#x27;apiRouter&#x27;</span>)</span><br><span class="line"><span class="comment">// 把路由模块，注册到app上</span></span><br><span class="line">app.use(<span class="string">&#x27;/api&#x27;</span>, router)</span><br><span class="line"></span><br><span class="line"><span class="comment">//起动服务器</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h5 id="编写GET接口"><a href="#编写GET接口" class="headerlink" title="编写GET接口"></a>编写GET接口</h5><p>核心实现代码如下:</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://i0.hdslb.com/bfs/album/cfcb5f9bf8520a53652c5a53c12c16ad8cdd6b7c.png"
                     
                ></p>
<p>上面的一个实现思路是拿到用户请求的数据，然后再原封不动地返回回去</p>
<p>在测试上面的接口的时候，我们可以用<code>?</code>然后后面跟上比如<code>age=17</code>等等的参数，也可以在postman输入链接的下方点击Params添加get请求的参数</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.jsdelivr.net/gh/hututu-tech/IMG-gongfeng@main/2022/03/28/62412411da378.png"
                     
                ></p>
<h5 id="编写POST接口"><a href="#编写POST接口" class="headerlink" title="编写POST接口"></a>编写POST接口</h5><p>核心实现代码如下:</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.jsdelivr.net/gh/hututu-tech/IMG-gongfeng@main/2022/03/28/6241248697646.png"
                     
                ></p>
<p>这个和上面的编写GET接口是很相似的</p>
<p>但这里有个注意点: 如果要获取<code>URL-encoded</code>格式的请求头数据，必须配置中间件<code>app.use(express.urlencode(&#123; extended: false &#125;))</code>，如果不配置这个中间件，那我们就无法通过<code>req.body</code>拿到里面所包含的数据</p>
<h5 id="CORS跨域资源共享"><a href="#CORS跨域资源共享" class="headerlink" title="CORS跨域资源共享"></a>CORS跨域资源共享</h5><h6 id="接口的跨域问题"><a href="#接口的跨域问题" class="headerlink" title="接口的跨域问题"></a>接口的跨域问题</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btnGET&quot;</span>&gt;</span>GET<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btnPOST&quot;</span>&gt;</span>POST<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">// 1. 测试GET接口</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        $(<span class="string">&#x27;#btnGET&#x27;</span>).on(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;  <span class="comment">// 通过id选择器选中GET这个按钮并绑定onclick事件</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            $.ajax(&#123;  <span class="comment">// 然后在处理函数中，我们可以调用$.ajax去发起一个请求</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">type</span>: <span class="string">&#x27;GET&#x27;</span>,  <span class="comment">// 指定请求的类型</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">url</span>: <span class="string">&#x27;http://127.0.0.1/api/get&#x27;</span>, <span class="comment">// 请求的地址，或者说请求的接口</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">data</span>: &#123;  <span class="comment">// 指定我们要发送到服务器的数据</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="attr">name</span>: <span class="string">&#x27;zs&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="attr">age</span>: <span class="number">20</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">success</span>: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;  <span class="comment">// 指定一个成功的回调函数</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">console</span>.log(res)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">// 2. 测试POST接口</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        $(<span class="string">&#x27;#btnPOST&#x27;</span>).on(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;  <span class="comment">// 通过id选择器选中POST这个按钮并绑定onclick事件</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            $.ajax(&#123;  <span class="comment">// 然后在处理函数中，我们可以调用$.ajax去发起一个请求</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">type</span>: <span class="string">&#x27;POST&#x27;</span>,  <span class="comment">// 指定请求的类型</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">url</span>: <span class="string">&#x27;http://127.0.0.1/api/post&#x27;</span>, <span class="comment">// 请求的地址，或者说请求的接口</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">data</span>: &#123;  <span class="comment">// 指定我们要发送到服务器的数据</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="attr">bookname</span>: <span class="string">&#x27;水浒传&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="attr">author</span>: <span class="string">&#x27;施耐庵&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">success</span>: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;  <span class="comment">// 指定一个成功的回调函数</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">console</span>.log(res)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>以上我们使用了jQuery的在线版，在这个网站可以获取: <a class="link"   target="_blank" rel="noopener" href="https://staticfile.org/" >https://staticfile.org/<i class="fas fa-external-link-alt"></i></a></p>
<p>然后我们打开浏览器，点击这两个按钮，会发现在终端中报错了:</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.jsdelivr.net/gh/hututu-tech/IMG-gongfeng@main/2022/03/28/62412c5899e8c.png"
                     
                ></p>
<p>以上报错就告诉我们，我们的接口存在跨域的问题，因为当前咱们是以<code>file</code>协议打开这个浏览器窗口的，而我们要请求的接口是<code>http</code>协议的，这就存在协议上的不同。我们知道，只要协议、域名或者端口号、任何一项不同，都存在跨域的问题。在我们写的这个小案例中，我们的网页和接口就存在跨域的问题。</p>
<h6 id="解决跨域问题的两种方案"><a href="#解决跨域问题的两种方案" class="headerlink" title="解决跨域问题的两种方案"></a>解决跨域问题的两种方案</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://i0.hdslb.com/bfs/album/a7e1f77c393922623a91fc17ddf151a58950874b.png"
                     
                ></p>
<p>目前我们绝大部分都是使用CORS来解决跨域，因为JSONP不支持GET请求</p>
<h6 id="使用cors中间件解决跨域问题"><a href="#使用cors中间件解决跨域问题" class="headerlink" title="使用cors中间件解决跨域问题"></a>使用cors中间件解决跨域问题</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://i0.hdslb.com/bfs/album/82d7f6fead1fe41fe2fa7a480c318ac1e14ddc82.png"
                     
                ></p>
<p>第一步使用<code>npm install cors</code>来安装这个中间件模块，第二步使用<code>const cors = require(&#39;cors&#39;)</code>导入中间件，最后使用<code>app.use(cors())</code>将cors中间件注册为全局可用的中间件，这样就能帮我们解决接口跨域访问的问题了</p>
<p>注意: 在所有路由之前导入这个中间件</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://i0.hdslb.com/bfs/album/f1baf9a684f67ba8d20676c2b22e9aeda7bfa4b9.png"
                     
                ></p>
<p>这次就没有跨域的问题了:</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qD6IVH"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/28/qD6IVH.png"
                      alt="qD6IVH.png"
                ></a></p>
<h6 id="什么是cors"><a href="#什么是cors" class="headerlink" title="什么是cors"></a>什么是cors</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://i.bmp.ovh/imgs/2022/03/eb45af5c9e7d7059.png"
                     
                ></p>
<h6 id="cors的注意事项"><a href="#cors的注意事项" class="headerlink" title="cors的注意事项"></a>cors的注意事项</h6><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qDc8sO"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s1.ax1x.com/2022/03/28/qDc8sO.png"
                      alt="qDc8sO.png"
                ></a></p>
<h6 id="cors响应头部-Access-Control-Allow-Origin"><a href="#cors响应头部-Access-Control-Allow-Origin" class="headerlink" title="cors响应头部-Access-Control-Allow-Origin"></a>cors响应头部-Access-Control-Allow-Origin</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://i.bmp.ovh/imgs/2022/03/3444bbf39678fdb0.png"
                     
                ></p>
<p>如果是百度的网页，就访问不了</p>
<p>通过<code>Access-Control-Allow-Origin</code>这个头部，我们就可以控制允许哪些网页或网站来请求我们的服务器接口，如果你允许所有的网页或网站都能请求我们的服务器，就可以指定一个<code>*</code>，如下所示:</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://i.bmp.ovh/imgs/2022/03/d1b3411fd2793dd6.png"
                     
                ></p>
<h6 id="cors响应头部-Access-Control-Allow-Headers"><a href="#cors响应头部-Access-Control-Allow-Headers" class="headerlink" title="cors响应头部-Access-Control-Allow-Headers"></a>cors响应头部-Access-Control-Allow-Headers</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://i.bmp.ovh/imgs/2022/03/2345f918206da467.png"
                     
                ></p>
<h6 id="cors响应头部-Access-Control-Allow-Methods"><a href="#cors响应头部-Access-Control-Allow-Methods" class="headerlink" title="cors响应头部-Access-Control-Allow-Methods"></a>cors响应头部-Access-Control-Allow-Methods</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://i.bmp.ovh/imgs/2022/03/f377f02d2c6e00e4.png"
                     
                ></p>
<h6 id="cors请求的分类"><a href="#cors请求的分类" class="headerlink" title="cors请求的分类"></a>cors请求的分类</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://i.bmp.ovh/imgs/2022/03/baa9920df4eb0e09.png"
                     
                ></p>
<h6 id="简单请求"><a href="#简单请求" class="headerlink" title="简单请求"></a>简单请求</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://i.bmp.ovh/imgs/2022/03/28301b52e0626918.png"
                     
                ></p>
<h6 id="预监请求"><a href="#预监请求" class="headerlink" title="预监请求"></a>预监请求</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://i.bmp.ovh/imgs/2022/03/5711affdfe6d3e73.png"
                     
                ></p>
<h6 id="简单请求和预检测请求的区别"><a href="#简单请求和预检测请求的区别" class="headerlink" title="简单请求和预检测请求的区别"></a>简单请求和预检测请求的区别</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://i.bmp.ovh/imgs/2022/03/1101276dea9ae0d3.png"
                     
                ></p>
<h5 id="JSONP接口"><a href="#JSONP接口" class="headerlink" title="JSONP接口"></a>JSONP接口</h5><h6 id="回顾JSONP的概念与特点"><a href="#回顾JSONP的概念与特点" class="headerlink" title="回顾JSONP的概念与特点"></a>回顾JSONP的概念与特点</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/ShIJu5eGAK1OcnY.png"
                      alt="图片.png"
                ></p>
<h6 id="创建JSONP接口的注意事项"><a href="#创建JSONP接口的注意事项" class="headerlink" title="创建JSONP接口的注意事项"></a>创建JSONP接口的注意事项</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/UaN2pMGoxfkCFTA.png"
                      alt="图片.png"
                ></p>
<h6 id="实现JSONP接口的步骤"><a href="#实现JSONP接口的步骤" class="headerlink" title="实现JSONP接口的步骤"></a>实现JSONP接口的步骤</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/wMr8PGWgoK9dIlJ.png"
                      alt="图片.png"
                ></p>
<p>jsonp实现的原理就是客户端通过script标签把一个函数的名字发送个服务器，希望服务器返回这个函数的调用，在调用期间把数据传进来即可；因此我们在服务器要先拿到函数的名字，然后准备要发送给客户端的数据，当函数的名字和数据都准备好了后，我们就要拼接出一个函数调用的字符串，最后把这个字符串发送给客户端就行了</p>
<p>我们来看看核心代码的实现:</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/Edjqirlb7Z1mFsR.png"
                      alt="图片.png"
                ></p>
<p>视频地址: <a class="link"   target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1a34y167AZ?p=56" >https://www.bilibili.com/video/BV1a34y167AZ?p=56<i class="fas fa-external-link-alt"></i></a></p>
<h6 id="在网页中使用JQuery发起JSONP请求"><a href="#在网页中使用JQuery发起JSONP请求" class="headerlink" title="在网页中使用JQuery发起JSONP请求"></a>在网页中使用JQuery发起JSONP请求</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/Zhy7a1Q3TKo9BJu.png"
                      alt="图片.png"
                ></p>
<p>视频地址: <a class="link"   target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1a34y167AZ?p=56" >https://www.bilibili.com/video/BV1a34y167AZ?p=56<i class="fas fa-external-link-alt"></i></a></p>
<p>这里要注意，要指定method为<code>GET</code>, dataType为<code>jsonp</code>才能发起JSONP请求</p>
<h4 id="数据库与身份认证"><a href="#数据库与身份认证" class="headerlink" title="数据库与身份认证"></a>数据库与身份认证</h4><h5 id="数据库的基本概念"><a href="#数据库的基本概念" class="headerlink" title="数据库的基本概念"></a>数据库的基本概念</h5><h6 id="什么是数据库"><a href="#什么是数据库" class="headerlink" title="什么是数据库"></a>什么是数据库</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/bOqmaNedC5poFgX.png"
                      alt="图片.png"
                ></p>
<h6 id="常见数据库及分类"><a href="#常见数据库及分类" class="headerlink" title="常见数据库及分类"></a>常见数据库及分类</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/3A4TUgl2ZdnorSb.png"
                      alt="图片.png"
                ></p>
<h6 id="传统型数据库的数据组织结构"><a href="#传统型数据库的数据组织结构" class="headerlink" title="传统型数据库的数据组织结构"></a>传统型数据库的数据组织结构</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/KxaWv63YnhcIHQw.png"
                      alt="图片.png"
                ></p>
<p>参照excel:</p>
<ol>
<li><p>excel的数据组织结构</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/L7WO4Yx8oaFHyMT.png"
                      alt="图片.png"
                ></p>
<p>整个excel叫做工作簿</p>
<p>users和books是工作表</p>
<p>users工作表中有3行数据</p>
<p>每行数据由6列信息组成</p>
<p>每列信息都有对应的数据类型</p>
</li>
<li><p>传统型数据库的数据组织结构</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/6OcCWLsFSIRtKj3.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>实际开发中库、表、行、字段的关系</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20220328160035195.png"
                      alt="image-20220328160035195"
                ></p>
</li>
</ol>
<h5 id="安装并配置MySQL数据库"><a href="#安装并配置MySQL数据库" class="headerlink" title="安装并配置MySQL数据库"></a>安装并配置MySQL数据库</h5><h6 id="了解需要安装哪些MySQL相关的软件"><a href="#了解需要安装哪些MySQL相关的软件" class="headerlink" title="了解需要安装哪些MySQL相关的软件"></a>了解需要安装哪些MySQL相关的软件</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/UoNMQ8xFf4CgpKj.png"
                      alt="图片.png"
                ></p>
<h6 id="MySQL在Mac环境下的安装"><a href="#MySQL在Mac环境下的安装" class="headerlink" title="MySQL在Mac环境下的安装"></a>MySQL在Mac环境下的安装</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/8pv4cZMz2exUDW5.png"
                      alt="图片.png"
                ></p>
<p>参考: <a class="link"   target="_blank" rel="noopener" href="https://www.cnblogs.com/yinzhengjie/p/10125609.html" >https://www.cnblogs.com/yinzhengjie/p/10125609.html<i class="fas fa-external-link-alt"></i></a></p>
<h6 id="MySQL在Windows环境下的安装"><a href="#MySQL在Windows环境下的安装" class="headerlink" title="MySQL在Windows环境下的安装"></a>MySQL在Windows环境下的安装</h6><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/cuF8DGzexnkwCKT.png"
                      alt="图片.png"
                ></p>
<p>参考: <a class="link"   target="_blank" rel="noopener" href="https://www.cnblogs.com/shenstudy/p/14389079.html" >https://www.cnblogs.com/shenstudy/p/14389079.html<i class="fas fa-external-link-alt"></i></a></p>
<p>win7可能会出现环境不完整的警告框，以上链接是关于win10的</p>
<h5 id="MySQL的基本使用"><a href="#MySQL的基本使用" class="headerlink" title="MySQL的基本使用"></a>MySQL的基本使用</h5><h6 id="使用MySQL-Workbench管理数据库"><a href="#使用MySQL-Workbench管理数据库" class="headerlink" title="使用MySQL Workbench管理数据库"></a>使用MySQL Workbench管理数据库</h6><ol>
<li><p>连接数据库</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/rVdMhiko4e3U7m5.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>了解主界面的组成部分</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/dZNcitK6pQjLC2x.png"
                      alt="图片.png"
                ></p>
<p>翻译一个单词，schemas: 模式</p>
</li>
<li><p>创建数据库</p>
<p>步骤如下:</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/34PhTdzcELYeDAm.png"
                      alt="图片.png"
                ></p>
<p>创建数据库不要出现中文，如果有空格，之间用下划线连接</p>
<p>这部分跳过，都是一些软件的使用</p>
</li>
<li><p>创建数据表</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/dJsgFewLfOAnBR5.png"
                      alt="图片.png"
                ></p>
</li>
</ol>
<h6 id="使用SQL管理数据库"><a href="#使用SQL管理数据库" class="headerlink" title="使用SQL管理数据库"></a>使用SQL管理数据库</h6><ol>
<li><p>什么是SQL</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/tWr5PU1Bbqyul2G.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>SQL能做什么</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/HumbTxqWvEs8GtC.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>SQL的学习目标</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/aKRusbSqNBdzEi4.png"
                      alt="图片.png"
                ></p>
</li>
</ol>
<h6 id="SQL的SELECT语句"><a href="#SQL的SELECT语句" class="headerlink" title="SQL的SELECT语句"></a>SQL的SELECT语句</h6><ol>
<li><p>语法</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/IAhm3ZsBN5XOc7n.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>select * 示例</p>
<p> <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/H9zSALMmwTrcGVW.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>SELECT列名称  示例</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/eDYLm3tQ8TEZH5V.png"
                      alt="图片.png"
                ></p>
</li>
</ol>
<h6 id="SQL的INSERI-INTO语句"><a href="#SQL的INSERI-INTO语句" class="headerlink" title="SQL的INSERI INTO语句"></a>SQL的INSERI INTO语句</h6><ol>
<li><p>语法</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/g92nZxFBSLEjkHt.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>INSERT INTO 示例</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/B3P4GEVHXtnFemz.png"
                      alt="图片.png"
                ></p>
</li>
</ol>
<h6 id="SQL的UPDATE语句"><a href="#SQL的UPDATE语句" class="headerlink" title="SQL的UPDATE语句"></a>SQL的UPDATE语句</h6><ol>
<li><p>语法</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/bns5WkulfqNiXgj.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>UPDATE示例 更新某一行中的一个列</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/AstEB1S9rPvM7dQ.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>UPDATE示例 更新某一行中的若干列</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/JCxjUgZoyTFnXM4.png"
                      alt="图片.png"
                ></p>
</li>
</ol>
<h6 id="SQL中的DELETE语句"><a href="#SQL中的DELETE语句" class="headerlink" title="SQL中的DELETE语句"></a>SQL中的DELETE语句</h6><ol>
<li><p>语法</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/ZObfUPIWl9KXrzj.png"
                      alt="图片.png"
                ></p>
</li>
<li><p> DELETE 示例</p>
</li>
</ol>
<p>   <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/nuCa5LT7DO28cyF.png"
                      alt="图片.png"
                ></p>
<p>   注意: 要记住加where条件</p>
<h6 id="SQL的WHERE子句"><a href="#SQL的WHERE子句" class="headerlink" title="SQL的WHERE子句"></a>SQL的WHERE子句</h6><ol>
<li><p>语法</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/isePrSU3dAOMwgV.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>可在WHERE子句中使用的运算符</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/fs7cCwNKTAObrUL.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>WHERE子句示例</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/RzfVJEa6nPWUr3d.png"
                      alt="图片.png"
                ></p>
</li>
</ol>
<h6 id="SQL的AND和OR运算符"><a href="#SQL的AND和OR运算符" class="headerlink" title="SQL的AND和OR运算符"></a>SQL的AND和OR运算符</h6><p>and:</p>
<ol>
<li><p>语法</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/qMa3DObWghkYLK7.png"
                      alt="图片.png"
                ></p>
</li>
<li><p> AND运算符示例</p>
</li>
</ol>
<p>   <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/nxX4mlYHOC5N9Ak.png"
                      alt="图片.png"
                ></p>
<ol start="3">
<li><p>OR运算符示例</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/TIL2roJhcVd3tWM.png"
                      alt="图片.png"
                ></p>
</li>
</ol>
<h6 id="SQL的ORDER-BY子句"><a href="#SQL的ORDER-BY子句" class="headerlink" title="SQL的ORDER BY子句"></a>SQL的ORDER BY子句</h6><ol>
<li><p>语法</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/gepREvonwxAZN6D.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>order by 子句 - 升序排序</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/7vgW6MlQiIehA42.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>order by 子句 - 降序排序</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/BmdsiX2La9Uzx8G.png"
                      alt="图片.png"
                ></p>
</li>
</ol>
<h6 id="SQL的COUNT-函数"><a href="#SQL的COUNT-函数" class="headerlink" title="SQL的COUNT(*)函数"></a>SQL的COUNT(*)函数</h6><ol>
<li><p>语法</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/cJDsiAB8gFeUkrf.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>COUNT(*)示例</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/IFMO5orH3bflmDL.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>使用AS为列设置别名</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/8WjO3kMUF9ouKPV.png"
                      alt="图片.png"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/l8MDPHiArY3CRn7.png"
                      alt="图片.png"
                ></p>
</li>
</ol>
<h6 id="演示如何保存和打开-sql的文件"><a href="#演示如何保存和打开-sql的文件" class="headerlink" title="演示如何保存和打开.sql的文件"></a>演示如何保存和打开.sql的文件</h6><p>保存:</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/fmdwxzFu3oQU4rb.png"
                      alt="图片.png"
                ></p>
<p>打开:</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/mzkDwE1ISdjt2V4.png"
                      alt="图片.png"
                ></p>
<h4 id="在项目中操作MySQL"><a href="#在项目中操作MySQL" class="headerlink" title="在项目中操作MySQL"></a>在项目中操作MySQL</h4><h5 id="在项目中操作数据库的步骤"><a href="#在项目中操作数据库的步骤" class="headerlink" title="在项目中操作数据库的步骤"></a>在项目中操作数据库的步骤</h5><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/DBfzOauv17GjxCy.png"
                      alt="图片.png"
                ></p>
<h6 id="安装与配置mysql模块"><a href="#安装与配置mysql模块" class="headerlink" title="安装与配置mysql模块"></a>安装与配置mysql模块</h6><ol>
<li><p>安装</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/Cf4ch3lAF5tTPJI.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>配置mysql模块</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/WUIJfgbL4s1X23u.png"
                      alt="图片.png"
                ></p>
<p>使用cre atePool方法与数据库建立连接</p>
</li>
<li><p>测试mysql模块能否正常工作</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/hs9BjxfYEKmkTt1.png"
                      alt="图片.png"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/pdZuxVBE1DizvbP.png"
                      alt="图片.png"
                ></p>
</li>
</ol>
<h6 id="连接到MySQL数据库"><a href="#连接到MySQL数据库" class="headerlink" title="连接到MySQL数据库"></a>连接到MySQL数据库</h6><ol>
<li><p>查询users表中所有的数据</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/mjZdCKhkI6OaYrU.png"
                      alt="图片.png"
                ></p>
<p>注意: 如果执行的是select语句，则执行的结果是数组(对象数组)</p>
</li>
</ol>
<h6 id="通过mysql模块执行SQL语句"><a href="#通过mysql模块执行SQL语句" class="headerlink" title="通过mysql模块执行SQL语句"></a>通过mysql模块执行SQL语句</h6><ol>
<li><p>插入数据</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/O2kxNPIHcDMgRK7.png"
                      alt="图片.png"
                ></p>
<p>注意: 如果执行的是inset into插入语句，则result是一个对象，可以通过affectedRows属性，来判断是否插入数据成功:</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/fiOM2UYAWZNqHlX.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>插入数据的便捷方式</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/IvfSua1xmBCoZ74.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>更新数据</p>
<p>可以通过如下方式，更新表中的数据:</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/CAOSK5ZFHP9BlTo.png"
                      alt="图片.png"
                ></p>
<p>演示:</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/ERZowu53I2ktSlp.png"
                      alt="图片.png"
                ></p>
<p>注意: 执行了update语句之后，执行的结果，也是一个对象，可以通过affectedRows判断是否更新成功</p>
</li>
<li><p>更新数据的便捷方式</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/iS6qoMFDhYGnAyC.png"
                      alt="图片.png"
                ></p>
<p>演示:</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/7IWaKsQE3Fnz5Jr.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>删除数据</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/MQdpb87KJDcN3PB.png"
                      alt="图片.png"
                ></p>
<p>演示:</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/I5sfkh6Y1rTziRl.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>标记删除</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/hY5ntTFgsMIBlPL.png"
                      alt="图片.png"
                ></p>
<p>演示:</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/EknMcNSyr38FXOG.png"
                      alt="图片.png"
                ></p>
</li>
</ol>
<h4 id="前后端的身份认证"><a href="#前后端的身份认证" class="headerlink" title="前后端的身份认证"></a>前后端的身份认证</h4><h5 id="Web开发模式"><a href="#Web开发模式" class="headerlink" title="Web开发模式"></a>Web开发模式</h5><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/eT5phUlWnXEtLSZ.png"
                      alt="图片.png"
                ></p>
<ol>
<li><p>服务端渲染的Web开发模式</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/ZLaxAsdVzSG7yCP.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>服务端渲染的优缺点</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/HwIehp5tWMgANEc.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>前后端分离的Web开发模式</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/4CVB9X8AaxWNJIT.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>前后端分离的Web开发模式的优缺点</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/28/3UjwlcfkQ4FXqbZ.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>如何选择Web开发模式</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/PIflnoRGWHeXwNg.png"
                      alt="image.png"
                ></p>
</li>
</ol>
<h5 id="身份认证"><a href="#身份认证" class="headerlink" title="身份认证"></a>身份认证</h5><ol>
<li><p>什么是身份认证</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/KSv1Wecdu68mbZA.png"
                      alt="image.png"
                ></p>
</li>
<li><p>为什么需要身份认证</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/gRSiWFX4x6McoQ1.png"
                      alt="image.png"
                ></p>
</li>
<li><p>不同开发模式下的身份认证</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/QYX3AJKZehLzVcd.png"
                      alt="image.png"
                ></p>
</li>
</ol>
<h5 id="Session认证机制"><a href="#Session认证机制" class="headerlink" title="Session认证机制"></a>Session认证机制</h5><ol>
<li><p>HTTP协议的无状态性</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/yQF8ef7jHBGn1YZ.png"
                      alt="image.png"
                ></p>
</li>
<li><p>如何突破HTTP无状态的限制</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/MUvJsXih4dkguHt.png"
                      alt="image.png"
                ></p>
</li>
<li><p>什么是Cookie</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/crMNo3fTCDzRIw1.png"
                      alt="image.png"
                ></p>
</li>
<li><p>Cookie在身份认证中的作用</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/xZ7RWK52GAvtbCF.png"
                      alt="image.png"
                ></p>
</li>
<li><p>Cookie不具有安全性</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/IFAlUKCNQrq5YXB.png"
                      alt="image.png"
                ></p>
</li>
<li><p>提高身份认证的安全性</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/WAbEIMqoGhlXKrR.png"
                      alt="image.png"
                ></p>
</li>
<li><p>Session的工作原理</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/CYO2J6xNhUMVpmL.png"
                      alt="image.png"
                ></p>
</li>
</ol>
<h5 id="在Express中使用Session认证"><a href="#在Express中使用Session认证" class="headerlink" title="在Express中使用Session认证"></a>在Express中使用Session认证</h5><ol>
<li><p>安装express-session中间件</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/Ea7nZsjJIXG2SKP.png"
                      alt="image.png"
                ></p>
</li>
<li><p>配置express-session中间件</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/YpdwUhB56GxN2XT.png"
                      alt="image.png"
                ></p>
</li>
<li><p>向session中存数据</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/cqWzboyums6O1da.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>从session中取数据</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/YLXQp9tdc2ez3nr.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>清空session</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/KeJClO3RvNIuhiF.png"
                      alt="图片.png"
                ></p>
<p>调用destroy()函数，只会清空当前用户的session</p>
</li>
</ol>
<h5 id="JWT认证机制"><a href="#JWT认证机制" class="headerlink" title="JWT认证机制"></a>JWT认证机制</h5><ol>
<li><p>了解Session认证的局限性</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/NDlSQVJYduqGHek.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>什么是JWT</p>
<p>JWT(英文全称: JSON Web Token)是目前最流行的跨域认证解决方案</p>
</li>
<li><p>JWT的工作原理</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/qFH267rSgbyjiYO.png"
                      alt="图片.png"
                ></p>
<p> 核心原理: <strong>用户的信息通过Token字符串的形式，保存在客户端浏览器中，服务器通过还原Token字符串的形式来认证用户的身份</strong></p>
</li>
<li><p>JWT的组成部分</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/jgHqQRXdmiEByTa.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>JWT的三个部分各自代表的含义</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/WUvZeRuKEzq9B7L.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>JWT的使用方式</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/yaEmuDsn7YK9zAN.png"
                      alt="图片.png"
                ></p>
</li>
</ol>
<h5 id="在Express中使用JWT"><a href="#在Express中使用JWT" class="headerlink" title="在Express中使用JWT"></a>在Express中使用JWT</h5><ol>
<li><p>安装JWT相关的包</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/prjLmGa2XkThwAd.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>导入JWT相关的包</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/VlLy45Dut6OhMce.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>定义secret秘钥</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/BX2HdkJPeqQMjFa.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>在登录成功后生成JWT字符串</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/ZQkcidf5OMPoGWL.png"
                      alt="图片.png"
                ></p>
<p>注意: 一定不要把密码加密到token中</p>
</li>
<li><p>将JWT字符串还原为JSON对象</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/ZESIVtJqKy3prhm.png"
                      alt="图片.png"
                ></p>
<p>可以通过指定<code>unless</code>方法说明哪些方法不需要token即可访问，<code>[]</code>里面为一个正则表达式，<code>//</code>代表里面是一个正则表达式</p>
</li>
<li><p>使用req.user获取用户信息</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/ZJjLmtSMgcReGYv.png"
                      alt="图片.png"
                ></p>
</li>
<li><p>捕获解析JWT失败后产生的错误</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2022/03/29/x7cCYloMRwXFsrv.png"
                      alt="图片.png"
                ></p>
<p>视频地址: <a class="link"   target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1a34y167AZ?p=76" >https://www.bilibili.com/video/BV1a34y167AZ?p=76<i class="fas fa-external-link-alt"></i></a></p>
</li>
</ol>
<h4 id="项目-后台API接口项目"><a href="#项目-后台API接口项目" class="headerlink" title="项目-后台API接口项目"></a>项目-后台API接口项目</h4><h5 id="初始化项目"><a href="#初始化项目" class="headerlink" title="初始化项目"></a>初始化项目</h5><p>在线文档地址: <a class="link"   target="_blank" rel="noopener" href="http://escook.cn:8088/#/" >http://escook.cn:8088/#/<i class="fas fa-external-link-alt"></i></a></p>
<p>我们可以参考上面的在线文档</p>

        </div>

        
            <div class="post-copyright-info">
                .article-copyright-info-container {
  position: relative;
  width: 100%;
  box-sizing: border-box;
  padding: 10px 6px;
  font-size: 1rem;
  background: var(--second-background-color);

  &::after {
    position: absolute;
    top: 0;
    left: 0;
    content: '';
    width: 6px;
    height: 100%;
    background: var(--copyright-info-color);
  }


  ul {

    margin-left: 10px;

    li {
      margin-bottom: 5px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      color: var(--default-text-color);

      .license {
        font-weight: bold;
      }

      &:last-child {
        margin-bottom: 0;
      }
    }
  }
}

            </div>
        

        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/2022/03/30/%E7%A9%BA%E4%B8%AD%E7%BD%91%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">空中网逆向分析</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/2022/03/23/%E9%95%BF%E6%88%BF%E9%9B%86%E5%9B%A2%E7%99%BB%E5%BD%95%E5%8F%82%E6%95%B0j_password/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">长房集团登录参数j_password(AES加密)</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
            <div class="comment-container">
                <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        <i class="fas fa-comments">&nbsp;Comments</i>
    </div>
    

        
            
    <div class="valine-container">
        <script data-pjax
                src="//cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js"></script>
        <div id="vcomments"></div>
        <script data-pjax>
            function loadValine() {
                new Valine({
                    el: '#vcomments',
                    appId: 'nIcO1O6cSVuRH8EROCWwNFWN-gzGzoHsz',
                    appKey: 'qrglokTeum8DXiYRzM4k4NF4',
                    meta: ['nick', 'mail', 'link'],
                    avatar: 'wavatar',
                    enableQQ: true,
                    placeholder: '😜 尽情吐槽吧~',
                    lang: 'en'.toLowerCase()
                });

                function getAuthor(language) {
                    switch (language) {
                        case 'en':
                            return 'Author';
                        case 'zh-CN':
                            return '博主';
                        default:
                            return 'Master';
                    }
                }

                // Add "Author" identify
                const getValineDomTimer = setInterval(() => {
                    const vcards = document.querySelectorAll('#vcomments .vcards .vcard');
                    if (vcards.length > 0) {
                        let author = 'Lhj';

                        if (author) {
                            for (let vcard of vcards) {
                                const vnick_dom = vcard.querySelector('.vhead .vnick');
                                const vnick = vnick_dom.innerHTML;
                                if (vnick === author) {
                                    vnick_dom.innerHTML = `${vnick} <span class="author">${getAuthor(KEEP.hexo_config.language)}</span>`
                                }
                            }
                        }
                        clearInterval(getValineDomTimer);
                    } else {
                        clearInterval(getValineDomTimer);
                    }
                }, 2000);
            }

            if ('true') {
                const loadValineTimeout = setTimeout(() => {
                    loadValine();
                    clearTimeout(loadValineTimeout);
                }, 1000);
            } else {
                window.addEventListener('DOMContentLoaded', loadValine);
            }
        </script>
    </div>



        
    
</div>

            </div>
        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2020</span>
              -
            
            2022&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">Lhj</a>
        </div>
        
            <script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv">
                        Visitor Count&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                    </span>
                
                
                    <span id="busuanzi_container_site_pv">
                        Totalview&nbsp;<span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.5</a>
        </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fas fa-comment"></i>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        
            <li class="tools-item rss flex-center">
                <a class="flex-center"
                   href="/atom.xml"
                   target="_blank"
                >
                    <i class="fas fa-rss"></i>
                </a>
            </li>
        

        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9D%E8%AF%86Node%EF%BC%8C%E4%BB%80%E4%B9%88%E6%98%AFNode-js"><span class="nav-number">1.</span> <span class="nav-text">初识Node，什么是Node.js</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Node-js%E8%83%BD%E5%81%9A%E4%BB%80%E4%B9%88"><span class="nav-number">2.</span> <span class="nav-text">Node.js能做什么</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%AD%A6Node-js"><span class="nav-number">3.</span> <span class="nav-text">如何学Node.js</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Node-js%E7%9A%84%E5%AE%89%E8%A3%85"><span class="nav-number">4.</span> <span class="nav-text">Node.js的安装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Node-js%E7%9A%84%E8%BF%90%E8%A1%8C"><span class="nav-number">5.</span> <span class="nav-text">Node.js的运行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#fs-%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span class="nav-number">6.</span> <span class="nav-text">fs-读取文件内容</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#fs-readFile-%E7%9A%84%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F"><span class="nav-number">6.1.</span> <span class="nav-text">fs.readFile()的语法格式</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#fs-readFile-%E7%9A%84%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81"><span class="nav-number">6.2.</span> <span class="nav-text">fs.readFile()的示例代码</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E6%96%87%E4%BB%B6%E6%98%AF%E5%90%A6%E8%AF%BB%E5%8F%96%E6%88%90%E5%8A%9F"><span class="nav-number">6.3.</span> <span class="nav-text">判断文件是否读取成功</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#fs-%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span class="nav-number">7.</span> <span class="nav-text">fs-写入文件内容</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#fs-writeFile-%E7%9A%84%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F"><span class="nav-number">7.1.</span> <span class="nav-text">fs-writeFile()的语法格式</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#fs-writeFile-%E7%9A%84%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81"><span class="nav-number">7.2.</span> <span class="nav-text">fs.writeFile()的示例代码</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E6%96%87%E4%BB%B6%E6%98%AF%E5%90%A6%E5%86%99%E5%85%A5%E6%88%90%E5%8A%9F"><span class="nav-number">7.3.</span> <span class="nav-text">判断文件是否写入成功</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#fs-%E5%A4%84%E7%90%86%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98"><span class="nav-number">8.</span> <span class="nav-text">fs-处理路径问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#path-%E4%BD%BF%E7%94%A8path%E6%A8%A1%E5%9D%97%E5%A4%84%E7%90%86%E8%B7%AF%E5%BE%84"><span class="nav-number">9.</span> <span class="nav-text">path-使用path模块处理路径</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B-%E6%97%B6%E9%92%9F%E6%A1%88%E4%BE%8B"><span class="nav-number">10.</span> <span class="nav-text">综合案例-时钟案例</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%90%86%E8%A7%A3http%E6%A8%A1%E5%9D%97%E7%9A%84%E6%A6%82%E5%BF%B5%E5%8F%8A%E4%BD%9C%E7%94%A8"><span class="nav-number">11.</span> <span class="nav-text">理解http模块的概念及作用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%9B%E4%B8%80%E6%AD%A5%E7%90%86%E8%A7%A3http%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="nav-number">12.</span> <span class="nav-text">进一步理解http模块的作用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9B%B8%E5%85%B3%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="nav-number">13.</span> <span class="nav-text">服务器相关的概念</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E6%9C%80%E5%9F%BA%E6%9C%AC%E7%9A%84web%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-number">14.</span> <span class="nav-text">创建最基本的web服务器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%B9%E6%8D%AE%E4%B8%8D%E5%90%8C%E7%9A%84url%E5%93%8D%E5%BA%94%E4%B8%8D%E5%90%8C%E7%9A%84html%E5%86%85%E5%AE%B9"><span class="nav-number">15.</span> <span class="nav-text">根据不同的url响应不同的html内容</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97%E7%9A%84%E5%88%86%E7%B1%BB-amp-require%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-number">16.</span> <span class="nav-text">模块的分类&amp;require的使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Node-js%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%9D%97%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-number">17.</span> <span class="nav-text">Node.js中的模块作用域</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%91%E5%A4%96%E5%85%B1%E4%BA%AB%E6%A8%A1%E5%9D%97%E4%BD%9C%E7%94%A8%E5%9F%9F%E7%9A%84%E6%88%90%E5%91%98"><span class="nav-number">18.</span> <span class="nav-text">向外共享模块作用域的成员</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#npm%E4%B8%8E%E5%8C%85"><span class="nav-number">19.</span> <span class="nav-text">npm与包</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8C%85"><span class="nav-number">19.1.</span> <span class="nav-text">包</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#npm%E5%88%9D%E4%BD%93%E9%AA%8C"><span class="nav-number">19.2.</span> <span class="nav-text">npm初体验</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8npm%E7%9A%84%E6%B3%A8%E6%84%8F%E7%82%B9"><span class="nav-number">19.3.</span> <span class="nav-text">使用npm的注意点</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E6%8C%87%E5%AE%9A%E7%89%88%E6%9C%AC%E7%9A%84%E5%8C%85"><span class="nav-number">19.4.</span> <span class="nav-text">安装指定版本的包</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8C%85%E7%9A%84%E8%AF%AD%E4%B9%89%E5%8C%96%E7%89%88%E6%9C%AC%E8%A7%84%E8%8C%83"><span class="nav-number">19.5.</span> <span class="nav-text">包的语义化版本规范</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8C%85%E7%AE%A1%E7%90%86%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">19.6.</span> <span class="nav-text">包管理配置文件</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%A4%9A%E4%BA%BA%E5%8D%8F%E4%BD%9C%E9%97%AE%E9%A2%98"><span class="nav-number">19.6.1.</span> <span class="nav-text">多人协作问题</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E8%AE%B0%E5%BD%95%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%AE%89%E8%A3%85%E4%BA%86%E5%93%AA%E4%BA%9B%E5%8C%85"><span class="nav-number">19.6.2.</span> <span class="nav-text">如何记录项目中安装了哪些包?</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%BF%AB%E9%80%9F%E5%88%9B%E5%BB%BApackage-json"><span class="nav-number">19.6.3.</span> <span class="nav-text">快速创建package.json</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#dependencies%E8%8A%82%E7%82%B9"><span class="nav-number">19.6.4.</span> <span class="nav-text">dependencies节点</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E4%B8%80%E6%AC%A1%E6%80%A7%E5%AE%89%E8%A3%85%E6%89%80%E6%9C%89%E5%8C%85"><span class="nav-number">19.6.5.</span> <span class="nav-text">如何一次性安装所有包</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E4%BB%8E%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%8D%B8%E8%BD%BD%E5%8C%85"><span class="nav-number">19.6.6.</span> <span class="nav-text">如何从项目中卸载包</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#devDependencies%E8%8A%82%E7%82%B9"><span class="nav-number">19.6.7.</span> <span class="nav-text">devDependencies节点</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3%E4%B8%8B%E5%8C%85%E9%80%9F%E5%BA%A6%E6%85%A2%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">19.6.8.</span> <span class="nav-text">解决下包速度慢的问题</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#nrm"><span class="nav-number">19.6.9.</span> <span class="nav-text">nrm</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8C%85%E7%9A%84%E5%88%86%E7%B1%BB"><span class="nav-number">19.7.</span> <span class="nav-text">包的分类</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE%E5%8C%85"><span class="nav-number">19.7.1.</span> <span class="nav-text">项目包</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%85%A8%E5%B1%80%E5%8C%85"><span class="nav-number">19.7.2.</span> <span class="nav-text">全局包</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#i5ting-toc"><span class="nav-number">19.7.3.</span> <span class="nav-text">i5ting_toc</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%A7%84%E8%8C%83%E7%9A%84%E5%8C%85%E7%BB%93%E6%9E%84"><span class="nav-number">19.8.</span> <span class="nav-text">规范的包结构</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8C%85-%E6%A1%88%E4%BE%8B"><span class="nav-number">19.9.</span> <span class="nav-text">开发属于自己的包(案例)</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%8C%85%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D"><span class="nav-number">19.9.1.</span> <span class="nav-text">包的基本功能介绍</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8C%85%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84"><span class="nav-number">19.9.2.</span> <span class="nav-text">初始化包的基本结构</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96package-json"><span class="nav-number">19.9.3.</span> <span class="nav-text">初始化package.json</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%9C%A8index-js%E4%B8%AD%E5%AE%9A%E4%B9%89%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%97%B6%E9%97%B4%E7%9A%84%E6%96%B9%E6%B3%95"><span class="nav-number">19.9.4.</span> <span class="nav-text">在index.js中定义格式化时间的方法</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%9C%A8index-js%E4%B8%AD%E5%AE%9A%E4%B9%89%E8%BD%AC%E4%B9%89HTML%E7%9A%84%E6%96%B9%E6%B3%95"><span class="nav-number">19.9.5.</span> <span class="nav-text">在index.js中定义转义HTML的方法</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%9C%A8index-js%E4%B8%AD%E5%AE%9A%E4%B9%89%E8%BF%98%E5%8E%9FHTML%E7%9A%84%E6%96%B9%E6%B3%95"><span class="nav-number">19.9.6.</span> <span class="nav-text">在index.js中定义还原HTML的方法</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%B0%86%E4%B8%8D%E5%90%8C%E7%9A%84%E5%8A%9F%E8%83%BD%E8%BF%9B%E8%A1%8C%E6%A8%A1%E5%9D%97%E5%8C%96%E6%8B%86%E5%88%86"><span class="nav-number">19.9.7.</span> <span class="nav-text">将不同的功能进行模块化拆分</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%BC%96%E5%86%99%E5%8C%85%E7%9A%84%E8%AF%B4%E6%98%8E%E6%96%87%E6%A1%A3"><span class="nav-number">19.9.8.</span> <span class="nav-text">编写包的说明文档</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8F%91%E5%B8%83%E5%8C%85"><span class="nav-number">19.10.</span> <span class="nav-text">发布包</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%B3%A8%E5%86%8Cnpm%E8%B4%A6%E5%8F%B7"><span class="nav-number">19.10.1.</span> <span class="nav-text">注册npm账号</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%99%BB%E5%BD%95npm%E8%B4%A6%E5%8F%B7"><span class="nav-number">19.10.2.</span> <span class="nav-text">登录npm账号</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%8A%8A%E5%8C%85%E5%8F%91%E5%B8%83%E5%88%B0npm%E4%B8%8A"><span class="nav-number">19.10.3.</span> <span class="nav-text">把包发布到npm上</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E5%8C%85"><span class="nav-number">19.11.</span> <span class="nav-text">删除包</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97%E7%9A%84%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6"><span class="nav-number">20.</span> <span class="nav-text">模块的加载机制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#express"><span class="nav-number">21.</span> <span class="nav-text">express</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%9D%E8%AF%86express"><span class="nav-number">21.1.</span> <span class="nav-text">初识express</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFexpress"><span class="nav-number">21.1.1.</span> <span class="nav-text">什么是express</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%BF%9B%E4%B8%80%E6%AD%A5%E7%90%86%E8%A7%A3express"><span class="nav-number">21.1.2.</span> <span class="nav-text">进一步理解express</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#express%E8%83%BD%E5%81%9A%E4%BB%80%E4%B9%88"><span class="nav-number">21.1.3.</span> <span class="nav-text">express能做什么</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#express%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="nav-number">21.2.</span> <span class="nav-text">express的基本使用</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%AE%89%E8%A3%85"><span class="nav-number">21.2.1.</span> <span class="nav-text">安装</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E5%9F%BA%E6%9C%AC%E7%9A%84web%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-number">21.2.2.</span> <span class="nav-text">创建基本的web服务器</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%9B%91%E5%90%ACGET%E8%AF%B7%E6%B1%82"><span class="nav-number">21.2.3.</span> <span class="nav-text">监听GET请求</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%9B%91%E5%90%ACPOST%E8%AF%B7%E6%B1%82"><span class="nav-number">21.2.4.</span> <span class="nav-text">监听POST请求</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E6%8A%8A%E5%86%85%E5%AE%B9%E5%93%8D%E5%BA%94%E7%BB%99%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="nav-number">21.2.5.</span> <span class="nav-text">如何把内容响应给客户端</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96URL%E4%B8%AD%E6%90%BA%E5%B8%A6%E7%9A%84%E6%9F%A5%E8%AF%A2%E5%8F%82%E6%95%B0"><span class="nav-number">21.2.6.</span> <span class="nav-text">如何获取URL中携带的查询参数</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96URL%E4%B8%AD%E7%9A%84%E5%8A%A8%E6%80%81%E5%8F%82%E6%95%B0"><span class="nav-number">21.2.7.</span> <span class="nav-text">获取URL中的动态参数</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%89%98%E7%AE%A1%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90"><span class="nav-number">21.3.</span> <span class="nav-text">托管静态资源</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#express-static"><span class="nav-number">21.3.1.</span> <span class="nav-text">express.static()</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%89%98%E7%AE%A1%E5%A4%9A%E4%B8%AA%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E7%9B%AE%E5%BD%95"><span class="nav-number">21.3.2.</span> <span class="nav-text">托管多个静态资源目录</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%8C%82%E8%BD%BD%E8%B7%AF%E5%BE%84%E5%89%8D%E7%BC%80"><span class="nav-number">21.3.3.</span> <span class="nav-text">挂载路径前缀</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#nodemon"><span class="nav-number">21.4.</span> <span class="nav-text">nodemon</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8nodemon"><span class="nav-number">21.4.1.</span> <span class="nav-text">为什么要使用nodemon</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%AE%89%E8%A3%85nodemon"><span class="nav-number">21.4.2.</span> <span class="nav-text">安装nodemon</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8nodemon"><span class="nav-number">21.4.3.</span> <span class="nav-text">使用nodemon</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#express%E8%B7%AF%E7%94%B1"><span class="nav-number">21.5.</span> <span class="nav-text">express路由</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%B7%AF%E7%94%B1"><span class="nav-number">21.5.1.</span> <span class="nav-text">什么是路由</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#express%E4%B8%AD%E7%9A%84%E8%B7%AF%E7%94%B1"><span class="nav-number">21.5.2.</span> <span class="nav-text">express中的路由</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#express%E4%B8%AD%E7%9A%84%E8%B7%AF%E7%94%B1%E7%9A%84%E4%BE%8B%E5%AD%90"><span class="nav-number">21.5.3.</span> <span class="nav-text">express中的路由的例子</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E7%9A%84%E5%8C%B9%E9%85%8D%E8%BF%87%E7%A8%8B"><span class="nav-number">21.5.4.</span> <span class="nav-text">路由的匹配过程</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-number">21.6.</span> <span class="nav-text">路由的使用</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84%E7%94%A8%E6%B3%95"><span class="nav-number">21.6.1.</span> <span class="nav-text">最简单的用法</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97%E5%8C%96%E8%B7%AF%E7%94%B1"><span class="nav-number">21.6.2.</span> <span class="nav-text">模块化路由</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E8%B7%AF%E7%94%B1%E6%A8%A1%E5%9D%97"><span class="nav-number">21.6.3.</span> <span class="nav-text">创建路由模块</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%B3%A8%E5%86%8C%E8%B7%AF%E7%94%B1%E6%A8%A1%E5%9D%97"><span class="nav-number">21.6.4.</span> <span class="nav-text">注册路由模块</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%B8%BA%E8%B7%AF%E7%94%B1%E6%A8%A1%E5%9D%97%E6%B7%BB%E5%8A%A0%E5%89%8D%E7%BC%80"><span class="nav-number">21.6.5.</span> <span class="nav-text">为路由模块添加前缀</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#express%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="nav-number">22.</span> <span class="nav-text">express中间件</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="nav-number">22.1.</span> <span class="nav-text">中间件的概念</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="nav-number">22.1.1.</span> <span class="nav-text">什么是中间件</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#express%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%9A%84%E8%B0%83%E7%94%A8%E6%B5%81%E7%A8%8B"><span class="nav-number">22.1.2.</span> <span class="nav-text">express中间件的调用流程</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#express%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%9A%84%E6%A0%BC%E5%BC%8F"><span class="nav-number">22.1.3.</span> <span class="nav-text">express中间件的格式</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#next%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="nav-number">22.1.4.</span> <span class="nav-text">next函数的作用</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#express%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%9A%84%E5%88%9D%E4%BD%93%E9%AA%8C"><span class="nav-number">22.2.</span> <span class="nav-text">express中间件的初体验</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%87%BD%E6%95%B0"><span class="nav-number">22.2.1.</span> <span class="nav-text">定义中间件函数</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%85%A8%E5%B1%80%E7%94%9F%E6%95%88%E7%9A%84%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="nav-number">22.2.2.</span> <span class="nav-text">全局生效的中间件</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89%E5%85%A8%E5%B1%80%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%9A%84%E7%AE%80%E5%8C%96%E5%BD%A2%E5%BC%8F"><span class="nav-number">22.2.3.</span> <span class="nav-text">定义全局中间件的简化形式</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="nav-number">22.2.4.</span> <span class="nav-text">中间件的作用</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89%E5%A4%9A%E4%B8%AA%E5%85%A8%E5%B1%80%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="nav-number">22.2.5.</span> <span class="nav-text">定义多个全局中间件</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%B1%80%E9%83%A8%E7%94%9F%E6%95%88%E7%9A%84%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="nav-number">22.2.6.</span> <span class="nav-text">局部生效的中间件</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89%E5%A4%9A%E4%B8%AA%E5%B1%80%E9%83%A8%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="nav-number">22.2.7.</span> <span class="nav-text">定义多个局部中间件</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%9A%845%E4%B8%AA%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-number">22.2.8.</span> <span class="nav-text">中间件的5个注意事项</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%9A%84%E5%88%86%E7%B1%BB"><span class="nav-number">22.3.</span> <span class="nav-text">中间件的分类</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%BA%94%E7%94%A8%E7%BA%A7%E5%88%AB%E7%9A%84%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="nav-number">22.3.1.</span> <span class="nav-text">应用级别的中间件</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E7%BA%A7%E5%88%AB%E7%9A%84%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="nav-number">22.3.2.</span> <span class="nav-text">路由级别的中间件</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E9%94%99%E8%AF%AF%E7%BA%A7%E5%88%AB%E7%9A%84%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="nav-number">22.3.3.</span> <span class="nav-text">错误级别的中间件</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#express%E5%86%85%E7%BD%AE%E7%9A%84%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="nav-number">22.3.4.</span> <span class="nav-text">express内置的中间件</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E7%9A%84%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="nav-number">22.3.5.</span> <span class="nav-text">第三方的中间件</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="nav-number">22.4.</span> <span class="nav-text">自定义中间件</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E9%9C%80%E6%B1%82%E6%8F%8F%E8%BF%B0%E4%B8%8E%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4"><span class="nav-number">22.4.1.</span> <span class="nav-text">需求描述与实现步骤</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="nav-number">22.4.2.</span> <span class="nav-text">定义中间件</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%9B%91%E5%90%ACreq%E7%9A%84data%E4%BA%8B%E4%BB%B6"><span class="nav-number">22.4.3.</span> <span class="nav-text">监听req的data事件</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%9B%91%E5%90%ACreq%E7%9A%84end%E4%BA%8B%E4%BB%B6"><span class="nav-number">22.4.4.</span> <span class="nav-text">监听req的end事件</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8querystring%E6%A8%A1%E5%9D%97%E8%A7%A3%E6%9E%90%E8%AF%B7%E6%B1%82%E4%BD%93%E6%95%B0%E6%8D%AE"><span class="nav-number">22.4.5.</span> <span class="nav-text">使用querystring模块解析请求体数据</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%B0%86%E8%A7%A3%E6%9E%90%E5%87%BA%E6%9D%A5%E7%9A%84%E6%95%B0%E6%8D%AE%E5%AF%B9%E8%B1%A1%E6%8C%82%E8%BD%BD%E4%B8%BAreq-body"><span class="nav-number">22.4.6.</span> <span class="nav-text">将解析出来的数据对象挂载为req.body</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%B0%86%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%B0%81%E8%A3%85%E4%B8%BA%E6%A8%A1%E5%9D%97"><span class="nav-number">22.4.7.</span> <span class="nav-text">将自定义中间件封装为模块</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8express%E5%86%99%E6%8E%A5%E5%8F%A3"><span class="nav-number">23.</span> <span class="nav-text">使用express写接口</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-number">23.1.</span> <span class="nav-text">创建基本的服务器</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%9B%E5%BB%BAAPI%E8%B7%AF%E7%94%B1%E6%A8%A1%E5%9D%97"><span class="nav-number">23.2.</span> <span class="nav-text">创建API路由模块</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%BC%96%E5%86%99GET%E6%8E%A5%E5%8F%A3"><span class="nav-number">23.3.</span> <span class="nav-text">编写GET接口</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%BC%96%E5%86%99POST%E6%8E%A5%E5%8F%A3"><span class="nav-number">23.4.</span> <span class="nav-text">编写POST接口</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#CORS%E8%B7%A8%E5%9F%9F%E8%B5%84%E6%BA%90%E5%85%B1%E4%BA%AB"><span class="nav-number">23.5.</span> <span class="nav-text">CORS跨域资源共享</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3%E7%9A%84%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="nav-number">23.5.1.</span> <span class="nav-text">接口的跨域问题</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E6%A1%88"><span class="nav-number">23.5.2.</span> <span class="nav-text">解决跨域问题的两种方案</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8cors%E4%B8%AD%E9%97%B4%E4%BB%B6%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="nav-number">23.5.3.</span> <span class="nav-text">使用cors中间件解决跨域问题</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFcors"><span class="nav-number">23.5.4.</span> <span class="nav-text">什么是cors</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#cors%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-number">23.5.5.</span> <span class="nav-text">cors的注意事项</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#cors%E5%93%8D%E5%BA%94%E5%A4%B4%E9%83%A8-Access-Control-Allow-Origin"><span class="nav-number">23.5.6.</span> <span class="nav-text">cors响应头部-Access-Control-Allow-Origin</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#cors%E5%93%8D%E5%BA%94%E5%A4%B4%E9%83%A8-Access-Control-Allow-Headers"><span class="nav-number">23.5.7.</span> <span class="nav-text">cors响应头部-Access-Control-Allow-Headers</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#cors%E5%93%8D%E5%BA%94%E5%A4%B4%E9%83%A8-Access-Control-Allow-Methods"><span class="nav-number">23.5.8.</span> <span class="nav-text">cors响应头部-Access-Control-Allow-Methods</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#cors%E8%AF%B7%E6%B1%82%E7%9A%84%E5%88%86%E7%B1%BB"><span class="nav-number">23.5.9.</span> <span class="nav-text">cors请求的分类</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%AE%80%E5%8D%95%E8%AF%B7%E6%B1%82"><span class="nav-number">23.5.10.</span> <span class="nav-text">简单请求</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E9%A2%84%E7%9B%91%E8%AF%B7%E6%B1%82"><span class="nav-number">23.5.11.</span> <span class="nav-text">预监请求</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%AE%80%E5%8D%95%E8%AF%B7%E6%B1%82%E5%92%8C%E9%A2%84%E6%A3%80%E6%B5%8B%E8%AF%B7%E6%B1%82%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">23.5.12.</span> <span class="nav-text">简单请求和预检测请求的区别</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#JSONP%E6%8E%A5%E5%8F%A3"><span class="nav-number">23.6.</span> <span class="nav-text">JSONP接口</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%9B%9E%E9%A1%BEJSONP%E7%9A%84%E6%A6%82%E5%BF%B5%E4%B8%8E%E7%89%B9%E7%82%B9"><span class="nav-number">23.6.1.</span> <span class="nav-text">回顾JSONP的概念与特点</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%88%9B%E5%BB%BAJSONP%E6%8E%A5%E5%8F%A3%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-number">23.6.2.</span> <span class="nav-text">创建JSONP接口的注意事项</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0JSONP%E6%8E%A5%E5%8F%A3%E7%9A%84%E6%AD%A5%E9%AA%A4"><span class="nav-number">23.6.3.</span> <span class="nav-text">实现JSONP接口的步骤</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%9C%A8%E7%BD%91%E9%A1%B5%E4%B8%AD%E4%BD%BF%E7%94%A8JQuery%E5%8F%91%E8%B5%B7JSONP%E8%AF%B7%E6%B1%82"><span class="nav-number">23.6.4.</span> <span class="nav-text">在网页中使用JQuery发起JSONP请求</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8E%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81"><span class="nav-number">24.</span> <span class="nav-text">数据库与身份认证</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-number">24.1.</span> <span class="nav-text">数据库的基本概念</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">24.1.1.</span> <span class="nav-text">什么是数据库</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8F%8A%E5%88%86%E7%B1%BB"><span class="nav-number">24.1.2.</span> <span class="nav-text">常见数据库及分类</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%BC%A0%E7%BB%9F%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%84%E7%BB%87%E7%BB%93%E6%9E%84"><span class="nav-number">24.1.3.</span> <span class="nav-text">传统型数据库的数据组织结构</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E5%B9%B6%E9%85%8D%E7%BD%AEMySQL%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">24.2.</span> <span class="nav-text">安装并配置MySQL数据库</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%BA%86%E8%A7%A3%E9%9C%80%E8%A6%81%E5%AE%89%E8%A3%85%E5%93%AA%E4%BA%9BMySQL%E7%9B%B8%E5%85%B3%E7%9A%84%E8%BD%AF%E4%BB%B6"><span class="nav-number">24.2.1.</span> <span class="nav-text">了解需要安装哪些MySQL相关的软件</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#MySQL%E5%9C%A8Mac%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84%E5%AE%89%E8%A3%85"><span class="nav-number">24.2.2.</span> <span class="nav-text">MySQL在Mac环境下的安装</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#MySQL%E5%9C%A8Windows%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84%E5%AE%89%E8%A3%85"><span class="nav-number">24.2.3.</span> <span class="nav-text">MySQL在Windows环境下的安装</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#MySQL%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="nav-number">24.3.</span> <span class="nav-text">MySQL的基本使用</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8MySQL-Workbench%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">24.3.1.</span> <span class="nav-text">使用MySQL Workbench管理数据库</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8SQL%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">24.3.2.</span> <span class="nav-text">使用SQL管理数据库</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#SQL%E7%9A%84SELECT%E8%AF%AD%E5%8F%A5"><span class="nav-number">24.3.3.</span> <span class="nav-text">SQL的SELECT语句</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#SQL%E7%9A%84INSERI-INTO%E8%AF%AD%E5%8F%A5"><span class="nav-number">24.3.4.</span> <span class="nav-text">SQL的INSERI INTO语句</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#SQL%E7%9A%84UPDATE%E8%AF%AD%E5%8F%A5"><span class="nav-number">24.3.5.</span> <span class="nav-text">SQL的UPDATE语句</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#SQL%E4%B8%AD%E7%9A%84DELETE%E8%AF%AD%E5%8F%A5"><span class="nav-number">24.3.6.</span> <span class="nav-text">SQL中的DELETE语句</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#SQL%E7%9A%84WHERE%E5%AD%90%E5%8F%A5"><span class="nav-number">24.3.7.</span> <span class="nav-text">SQL的WHERE子句</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#SQL%E7%9A%84AND%E5%92%8COR%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">24.3.8.</span> <span class="nav-text">SQL的AND和OR运算符</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#SQL%E7%9A%84ORDER-BY%E5%AD%90%E5%8F%A5"><span class="nav-number">24.3.9.</span> <span class="nav-text">SQL的ORDER BY子句</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#SQL%E7%9A%84COUNT-%E5%87%BD%E6%95%B0"><span class="nav-number">24.3.10.</span> <span class="nav-text">SQL的COUNT(*)函数</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%BC%94%E7%A4%BA%E5%A6%82%E4%BD%95%E4%BF%9D%E5%AD%98%E5%92%8C%E6%89%93%E5%BC%80-sql%E7%9A%84%E6%96%87%E4%BB%B6"><span class="nav-number">24.3.11.</span> <span class="nav-text">演示如何保存和打开.sql的文件</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E6%93%8D%E4%BD%9CMySQL"><span class="nav-number">25.</span> <span class="nav-text">在项目中操作MySQL</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%AD%A5%E9%AA%A4"><span class="nav-number">25.1.</span> <span class="nav-text">在项目中操作数据库的步骤</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEmysql%E6%A8%A1%E5%9D%97"><span class="nav-number">25.1.1.</span> <span class="nav-text">安装与配置mysql模块</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%BF%9E%E6%8E%A5%E5%88%B0MySQL%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">25.1.2.</span> <span class="nav-text">连接到MySQL数据库</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E9%80%9A%E8%BF%87mysql%E6%A8%A1%E5%9D%97%E6%89%A7%E8%A1%8CSQL%E8%AF%AD%E5%8F%A5"><span class="nav-number">25.1.3.</span> <span class="nav-text">通过mysql模块执行SQL语句</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%89%8D%E5%90%8E%E7%AB%AF%E7%9A%84%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81"><span class="nav-number">26.</span> <span class="nav-text">前后端的身份认证</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Web%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F"><span class="nav-number">26.1.</span> <span class="nav-text">Web开发模式</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81"><span class="nav-number">26.2.</span> <span class="nav-text">身份认证</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Session%E8%AE%A4%E8%AF%81%E6%9C%BA%E5%88%B6"><span class="nav-number">26.3.</span> <span class="nav-text">Session认证机制</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9C%A8Express%E4%B8%AD%E4%BD%BF%E7%94%A8Session%E8%AE%A4%E8%AF%81"><span class="nav-number">26.4.</span> <span class="nav-text">在Express中使用Session认证</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#JWT%E8%AE%A4%E8%AF%81%E6%9C%BA%E5%88%B6"><span class="nav-number">26.5.</span> <span class="nav-text">JWT认证机制</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9C%A8Express%E4%B8%AD%E4%BD%BF%E7%94%A8JWT"><span class="nav-number">26.6.</span> <span class="nav-text">在Express中使用JWT</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE-%E5%90%8E%E5%8F%B0API%E6%8E%A5%E5%8F%A3%E9%A1%B9%E7%9B%AE"><span class="nav-number">27.</span> <span class="nav-text">项目-后台API接口项目</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E9%A1%B9%E7%9B%AE"><span class="nav-number">27.1.</span> <span class="nav-text">初始化项目</span></a></li></ol></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>



<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/dark-light-toggle.js"></script>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/local-search.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/code-copy.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/lazyload.js"></script>


<div class="post-scripts pjax">
    
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/left-side-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/libs/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/toc.js"></script>
    
</div>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/libs/pjax.min.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            KEEP.refresh();
        });
    });
</script>



</body>
</html>
