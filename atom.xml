<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hexo</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2022-01-19T08:53:55.425Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>John Doe</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>关于HTTP状态码</title>
    <link href="http://example.com/2022/01/19/%E5%85%B3%E4%BA%8EHTTP%E7%8A%B6%E6%80%81%E7%A0%81/"/>
    <id>http://example.com/2022/01/19/%E5%85%B3%E4%BA%8EHTTP%E7%8A%B6%E6%80%81%E7%A0%81/</id>
    <published>2022-01-19T08:34:30.000Z</published>
    <updated>2022-01-19T08:53:55.425Z</updated>
    
    <content type="html"><![CDATA[<p><strong>各类常见状态码</strong>:</p><ol><li><p>2xx(3种)</p><p><strong>200 OK</strong>: 表示从客户端发送给服务器的请求被<strong>正常处理并返回</strong></p><p><strong>204 No Content</strong>: 表示客户端发送给客户端的<strong>请求得到了成功处理</strong>，但在返回的响应报文中不含实体的主体部分(<strong>没有资源可以返回</strong>)</p><p><strong>206 Patial Content</strong>: 表示<strong>客户端进行了范围请求</strong>，并且服务器成功执行了这部分的GET请求，<strong>响应报文中包含由Content-Range指定范围的实体内容</strong></p></li><li><p>3xx(5种)</p><p><strong>301 Moved Permanently</strong>: 永久性重定向，<strong>表示请求的资源被分配了新的URL</strong>，之后应使用更改的URL</p><p><strong>302 Found</strong>: 临时性重定向，表示<strong>请求的资源被分配了新的URL，希望本次访问使用新的UR</strong>L；301与302的区别：前者是永久移动，后者是临时移动(之后可能还会更改URL)</p><p><strong>303 See Other</strong>: 表示<strong>请求的资源被分配了新的URL，应使用GET方法定向获取请求的资源</strong>；302与303的区别：后者明确表示客户端应当采用GET方式获取资源</p><p><strong>304 Not Modified</strong>: 关于这个状态码请见: <a class="link"   href="https://blog.csdn.net/franknotbad/article/details/79399809" >https://blog.csdn.net/franknotbad/article/details/79399809<i class="fas fa-external-link-alt"></i></a></p><p><strong>307 Temporary Redirect</strong>: 临时重定向，与303有着相同的含义，307会遵照浏览器标准不会从POST变成GET；(不同浏览器可能会出现不同的情况)</p></li><li><p>4XX(4种)</p><p><strong>400 Bad Request</strong>: 表示请求报文中存在语法错误</p><p><strong>401 Unauthorized</strong>: 未经许可，需要通过HTTP认证</p><p><strong>403 Forbidden</strong>: 服务器拒绝该次访问(访问权限出现问题)</p><p><strong>404 Not Found</strong>: 表示服务器上无法找到请求的资源，除此之外，也可以在服务器拒绝请求但不想给拒绝原因时使用</p></li><li><p>5xx(2种)</p><p><strong>500 Inter Server Error</strong>: 表示服务器在执行请求时发生了错误，也有可能是web应用存在的bug或某些临时的错误时，<strong>服务器内部错误</strong></p><p><strong>503 Server Unavailable</strong>: 表示服务器暂时处于超负载或正在进行停机维护，无法处理请求，<strong>服务器不可用，服务器当前超负荷</strong></p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;各类常见状态码&lt;/strong&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;2xx(3种)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;200 OK&lt;/strong&gt;: 表示从客户端发送给服务器的请求被&lt;strong&gt;正常处理并返回&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Chrome开发者工具使用技巧总结</title>
    <link href="http://example.com/2022/01/19/Chrome%E5%BC%80%E5%8F%91%E8%80%85%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7%E6%80%BB%E7%BB%93/"/>
    <id>http://example.com/2022/01/19/Chrome%E5%BC%80%E5%8F%91%E8%80%85%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7%E6%80%BB%E7%BB%93/</id>
    <published>2022-01-19T06:34:30.000Z</published>
    <updated>2022-01-19T08:28:41.314Z</updated>
    
    <content type="html"><![CDATA[<h3 id="总览"><a href="#总览" class="headerlink" title="总览"></a>总览</h3><p>浏览器开发者工具在爬虫中常用来进行简单的抓包分析、JS逆向调试，打开方式如下:</p><ol><li>F12</li><li>快捷键 Ctrl+Shift+I</li><li>鼠标右键检查</li><li>点击浏览器右上角三个点 —&gt; 更多工具 —&gt; 开发者工具</li></ol><p>常见禁用开发者工具手段，参考<a class="link"   href="https://blog.csdn.net/cplvfx/article/details/108518077" >这里<i class="fas fa-external-link-alt"></i></a></p><p>关于Chrome开发者工具的官方文档(需要科学上网)，参考<a class="link"   href="https://developer.chrome.com/docs/devtools/" >这里<i class="fas fa-external-link-alt"></i></a></p><p>下面就来看看面板:</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_14-47-10.4dktmerqv360.webp"                      alt="Snipaste_2022-01-19_14-47-10"                ></p><p>上图红框中的项依次表示:</p><ul><li>**Elements(元素面板)**：使用“元素”面板可以通过自由操纵 DOM 和 CSS 来重您网站的布局和设计</li><li>**Console(控制台面板)**：在开发期间，可以使用控制台面板记录诊断信息，或者使用它作为 shell，在页面上与 JavaScript 交互</li><li>**Sources(源代码面板)**：在源代码面板中设置断点来调试 JavaScript ，或者通过 Workspaces（工作区）连接本地文件来使用开发者工具的实时编辑器</li><li>**Network(网络面板)**：从发起网页页面请求 Request 后得到的各个请求资源信息（包括状态、资源类型、大小、所用时间等），并可以根据这个进行网络性能优化</li><li>**Performance(性能面板)**：使用时间轴面板，可以通过记录和查看网站生命周期内发生的各种事件来提高页面运行时的性能</li><li>**Memory(内存面板)**：分析 web 应用或者页面的执行时间以及内存使用情况</li><li>**Application(应用面板)**：记录网站加载的所有资源信息，包括存储数据（Local Storage、Session Storage、IndexedDB、Web SQL、Cookies）、缓存数据、字体、图片、脚本、样式<br>表等</li><li>**Security(安全面板)**：使用安全面板调试混合内容问题，证书问题等等</li><li>**Lighthouse(诊断面板)**：对当前网页进行网络利用情况、网页性能方面的诊断，并给出一些优化建议</li></ul><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_14-54-27.43oofe5suhe0.webp"                      alt="Snipaste_2022-01-19_14-54-27"                ></p><p>上图红框中的按钮表示<strong>元素选择</strong>，可以直接点击页面中的文字、按钮或者图片，会自动跳转到对应的源代码，如下图所示:</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_15-03-40.5h66rcpb0e80.webp"                      alt="Snipaste_2022-01-19_15-03-40"                ></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_14-56-41.2rsyu4e46mg0.webp"                      alt="Snipaste_2022-01-19_14-56-41"                ></p><p>上图红框中的按钮表示<strong>终端模拟</strong>，可以模拟各种终端设备，支持自定义终端，其中Responsive是自适应模式，如下图所示:</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_15-05-14.3o1k9iuz9vw0.webp"                      alt="Snipaste_2022-01-19_15-05-14"                ></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_14-58-51.74ypjc9zwig0.webp"                      alt="Snipaste_2022-01-19_14-58-51"                ></p><p>上图红框中的按钮表示<strong>设置</strong>，开发者工具设置，包括一些外观、快捷置、终端设备、地理位置设置等，如下图所示:</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_15-06-36.5gdxfgwkbk80.webp"                      alt="Snipaste_2022-01-19_15-06-36"                ></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_15-01-05.4rm8l78i1f60.webp"                      alt="Snipaste_2022-01-19_15-01-05"                ></p><p>上图红框中的按钮表示<strong>自定义</strong>，自定义和控制开发者工具，包括调整工具的位置、全局搜索、运行命令、其他工具等，如下图所示:</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_15-07-55.5x31ujq42tg0.webp"                      alt="Snipaste_2022-01-19_15-07-55"                ></p><h3 id="Network面板"><a href="#Network面板" class="headerlink" title="Network面板"></a>Network面板</h3><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_15-12-22.4brce6y1o8w0.webp"                      alt="Snipaste_2022-01-19_15-12-22"                ></p><h4 id="Controls-控制器"><a href="#Controls-控制器" class="headerlink" title="Controls(控制器)"></a>Controls(控制器)</h4><ul><li><strong>Preserve log</strong>：是否在页面重加载后，清除请求列表，勾选表示保留之前的请求列表，不勾选则会在下一次请求的时候清除(Preserve这个单词就表示保留)</li><li><strong>Disable cache</strong>：是否启用缓存，勾选表示不启用缓存，不勾选就表示启用缓存</li></ul><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_15-19-05.6iim5erl8cw0.webp"                      alt="Snipaste_2022-01-19_15-19-05"                ></p><p>上图红框中的按钮表示是否开启抓包，开启抓包这个按钮的状态是红色，未开启则是灰色</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_15-21-07.5su1dma3ghs0.webp"                      alt="Snipaste_2022-01-19_15-21-07"                ></p><p>上图红框中的按钮表示是否清除请求，也就是清除清除列表</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_15-22-47.4a51xghnwxy0.webp"                      alt="Snipaste_2022-01-19_15-22-47"                ></p><p>上图红框中的按钮表示是否隐藏Filter(过滤器)窗格，点击即可关闭过滤器或者打开</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_15-24-48.25tm1s3l3jr4.webp"                      alt="Snipaste_2022-01-19_15-24-48"                ></p><p>上图红框中的按钮表示搜索</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_15-27-54.14h6nq1bj96k.webp"                      alt="Snipaste_2022-01-19_15-27-54"                ></p><p>上图中红框中的按钮表示网络条件(Network conditions)，允许在各种网络环境中测试网站，包括 3G，离线等，还可以自定义限制最大下载和上传流量</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_15-29-51.31w790fpsko0.webp"                      alt="Snipaste_2022-01-19_15-29-51"                ></p><p>上图中红框中的按钮表示导入导出抓包数据(Import/Export HAR file)</p><h4 id="Filter过滤器"><a href="#Filter过滤器" class="headerlink" title="Filter过滤器"></a>Filter过滤器</h4><ul><li><strong>Hide data URLs</strong>: data URLs 指一些嵌入到文档中的小型文件，在请求表里面以 data: 开头的文件就是，如较为常见的 svg 文件；勾选 Hide data URLs复选框即可隐藏此类文件</li><li><strong>All</strong>: 显示所有请求</li><li><strong>XHR</strong>: 全称 XMLHttpRequest，是一种创建 AJAX 请求的 JavaScript API，通常抓取 Ajax 请求可以选择 XHR</li><li><strong>WS</strong>: 全称 WebSocket，是 HTML5 开始提供的一种在单个 TCP 连接上进行全双工通讯的协议</li><li><strong>Manifest</strong>: 安卓开发文件名，属于 AndroidManifest.xml 文件，在简单的 Android 系统的应用中提出了重要的信息码</li><li><strong>Has blocked cookies</strong>: 仅显示具有阻止响应 cookie 的请求</li><li><strong>Blocked Requests</strong>: 只显示被阻止的请求</li></ul><h3 id="断点调试"><a href="#断点调试" class="headerlink" title="断点调试"></a>断点调试</h3><h4 id="常规断点调试"><a href="#常规断点调试" class="headerlink" title="常规断点调试"></a>常规断点调试</h4><p>适用于分析关键函数代码逻辑</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220114/Snipaste_2022-01-14_18-25-32.639vii0gnec0.webp"                      alt="Snipaste_2022-01-14_18-25-32"                ></p><ol><li>Ctrl+Shift+F 或者右上角三个点打开全局搜索，搜索关键字</li><li>定位到可疑代码，点击行号打下断点</li><li>调试代码，分析逻辑，其中console模板可以直接编写 <code>JS </code>代码进行调试</li></ol><p>调试时各个选项的功能:</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_15-45-47.6leht9ux98k0.webp"                      alt="Snipaste_2022-01-19_15-45-47"                ></p><p>上图红框中的按钮表示<strong>执行到下一个断点</strong></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_15-47-14.7btk3za9ev00.webp"                      alt="Snipaste_2022-01-19_15-47-14"                ></p><p>上图红框中的按钮表示<strong>执行下一步，但不会进入所调用的函数内部</strong></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_15-48-53.5evh7hz674o0.webp"                      alt="Snipaste_2022-01-19_15-48-53"                ></p><p>上图红框中的按钮表示<strong>进入所调用的函数内部</strong></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_15-50-11.11adj7zglyeo.webp"                      alt="Snipaste_2022-01-19_15-50-11"                >上图红框中的按钮表示<strong>跳出函数内部</strong></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_15-51-21.6fo0kgumt7c0.webp"                      alt="Snipaste_2022-01-19_15-51-21"                ></p><p>上图红框中的按钮表示<strong>一步步执行代码，遇到有函数调用，则进入函数</strong></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_15-52-47.yhjr8xdnzy8.webp"                      alt="Snipaste_2022-01-19_15-52-47"                ></p><p>上图红框中的按钮表示<strong>停用断点</strong></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_15-53-48.5x7vjemaahc0.webp"                      alt="Snipaste_2022-01-19_15-53-48"                ></p><p>上图红框中的按钮表示<strong>不要在出现异常时暂停</strong></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_15-55-30.56xxkdw88vg0.webp"                      alt="Snipaste_2022-01-19_15-55-30"                ></p><p>下面看看上图红框中的三个功能，这是比较常用的:</p><ul><li><strong>Breakpoints</strong>：可以看到已经埋下的断点，可以看到在哪个函数打下了断点而且在哪一行</li><li>可以看到当前局部或者全局变量的值，可对值进行修改</li><li>可以看到当前代码调用的堆栈信息，代码执行顺序为由下至上</li></ul><h4 id="XHR断点"><a href="#XHR断点" class="headerlink" title="XHR断点"></a>XHR断点</h4><p>匹配 url 中关键词，匹配到则跳转到参数生成处，适用 于url 中的加密参数全局搜索搜不到，可采用这种方式拦截，如下图所示:</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_15-59-52.4ch47tdlul4.webp"                      alt="Snipaste_2022-01-19_15-59-52"                ></p><h4 id="行为断点"><a href="#行为断点" class="headerlink" title="行为断点"></a>行为断点</h4><p>Event Listener Breakpoints，事件侦听器断点，当鼠标点击、移动、键盘按键等行为或者其他事件发生时可以触发断点，比如Mouse —&gt; click，可快速定位点击按钮后，所执行的 JS，如下图所示:</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_16-04-33.4s0bhc62sko0.webp"                      alt="Snipaste_2022-01-19_16-04-33"                ></p><h3 id="插入JS"><a href="#插入JS" class="headerlink" title="插入JS"></a>插入JS</h3><p>在 sources —&gt; snippets 下可以新建 JS 脚本:</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_16-06-53.5k6ee107vlc0.webp"                      alt="Snipaste_2022-01-19_16-06-53"                ></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_16-07-45.437g3r9f4ji0.webp"                      alt="Snipaste_2022-01-19_16-07-45"                ></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_16-09-20.1vhpp9mz6q3k.webp"                      alt="Snipaste_2022-01-19_16-09-20"                ></p><h3 id="无限debugger防调试"><a href="#无限debugger防调试" class="headerlink" title="无限debugger防调试"></a>无限debugger防调试</h3><p>某些页面打开调试工具会出现无限 debugger 的现象</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/20210723145738672.5iw4dmtapyo0.webp"                      alt="20210723145738672"                ></p><h4 id="中间人拦截替换无限debug函数"><a href="#中间人拦截替换无限debug函数" class="headerlink" title="中间人拦截替换无限debug函数"></a>中间人拦截替换无限debug函数</h4><p>查看调用栈，点击第二行跳转到原函数:</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/20210723145738844.7hm7c6wd1ww0.webp"                      alt="20210723145738844"                ></p><p>可以看到红框中的两个函数分别对应debu和gger，连起来就是debugger，在本地重写这个JS，直接将这两个值置空:</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/20210723145738977.5svijrbwsts0.webp"                      alt="20210723145738977"                ></p><p>然后使用插件ReRes，编写规则，遇到此JS，就替换成我们本地经过修改的JS，替换后无限debugger就不存在了:</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/20210723145739102.5wqxulj0i8k0.webp"                      alt="20210723145739102"                ></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/20210723145739251.28luk3jfgv9c.webp"                      alt="20210723145739251"                ></p><h4 id="方法置空"><a href="#方法置空" class="headerlink" title="方法置空"></a>方法置空</h4><p>直接在Console中将无限debugger的函数重写置空也可以破解无限debugger，缺点是刷新后失效</p><p>本总结参考自: <a class="link"   href="https://blog.csdn.net/kdl_csdn/article/details/119035208?spm=1001.2014.3001.5502" >https://blog.csdn.net/kdl_csdn/article/details/119035208?spm=1001.2014.3001.5502<i class="fas fa-external-link-alt"></i></a></p><p>后面还有关于hook的请移步上面的链接</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;总览&quot;&gt;&lt;a href=&quot;#总览&quot; class=&quot;headerlink&quot; title=&quot;总览&quot;&gt;&lt;/a&gt;总览&lt;/h3&gt;&lt;p&gt;浏览器开发者工具在爬虫中常用来进行简单的抓包分析、JS逆向调试，打开方式如下:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;F12&lt;/li&gt;
&lt;li&gt;快捷键 </summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>js逆向市场建筑监督管理平台企业数据</title>
    <link href="http://example.com/2022/01/19/js%E9%80%86%E5%90%91%E5%B8%82%E5%9C%BA%E5%BB%BA%E7%AD%91%E7%9B%91%E7%9D%A3%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0%E4%BC%81%E4%B8%9A%E6%95%B0%E6%8D%AE/"/>
    <id>http://example.com/2022/01/19/js%E9%80%86%E5%90%91%E5%B8%82%E5%9C%BA%E5%BB%BA%E7%AD%91%E7%9B%91%E7%9D%A3%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0%E4%BC%81%E4%B8%9A%E6%95%B0%E6%8D%AE/</id>
    <published>2022-01-19T02:55:30.000Z</published>
    <updated>2022-01-19T04:00:01.101Z</updated>
    
    <content type="html"><![CDATA[<p><strong>逆向目标</strong></p><ul><li>目标: 住房和城乡建设部&amp;全国建筑市场监管公共服务平台的企业数据</li><li>网站主页: <a class="link"   href="http://jzsc.mohurd.gov.cn/data/company" >http://jzsc.mohurd.gov.cn/data/company<i class="fas fa-external-link-alt"></i></a></li><li>需要逆向的参数: 请求返回的加密数据</li></ul><p><strong>逆向过程</strong></p><p>本次的逆向目标是建筑市场监管平台的企业数据，来到全国建筑市场监管公共服务平台首页，依次点击数据服务 —&gt; 企业数据，尝试抓包一下所有企业的数据，可以看到返回的数据是经过加密的:</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_11-01-48.61mi22fvzo40.webp"                      alt="Snipaste_2022-01-19_11-01-48"                ></p><p>这种response一般是该返回json字符串的，这里却进行加密了，所以我们搜索JSON.parse，然后我们定位到疑似加密代码:</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_11-36-36.1kz0rpjl8rb4.webp"                      alt="Snipaste_2022-01-19_11-36-36"                ></p><p>可以看到 e 就是解密后的数据，观察语句 <code>var e = JSON.parse(h(t.data));</code>，直接跟进 h 函数，可以看到很明显的 AES 加密:<br>这里先来了解下<code>js</code>的<code>JSON.parse()</code>函数:</p><p><code>JSON.parse()</code>方法用来解析<code>JSON</code>字符串，<code>JSON.parse()</code>将字符串转成<code>json</code>对象</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220119/Snipaste_2022-01-19_11-44-20.6bfld70nqxg0.webp"                      alt="Snipaste_2022-01-19_11-44-20"                ></p><p>这便是我们需要的加密函数，然后我们把它抠出来:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">h</span>(<span class="params">t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> e = d.a.enc.Hex.parse(t)</span><br><span class="line">    , n = d.a.enc.Base64.stringify(e)</span><br><span class="line">    , a = d.a.AES.decrypt(n, f, &#123;</span><br><span class="line">        <span class="attr">iv</span>: m,</span><br><span class="line">        <span class="attr">mode</span>: d.a.mode.CBC,</span><br><span class="line">        <span class="attr">padding</span>: d.a.pad.Pkcs7</span><br><span class="line">    &#125;)</span><br><span class="line">    , r = a.toString(d.a.enc.Utf8);</span><br><span class="line">    <span class="keyword">return</span> r.toString()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>加密模式为CBC，填充方式为Pkcs7，而缺少的偏移量 m、f 的值，在上面也可以找到:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">f = d.a.enc.Utf8.parse(<span class="string">&quot;jo8j9wGw%6HbxfFn&quot;</span>)</span><br><span class="line">m = d.a.enc.Utf8.parse(<span class="string">&quot;0123456789ABCDEF&quot;</span>)</span><br></pre></td></tr></table></figure><p>我们可以直接引入CryptoJS，重写这个函数即可:</p><p>jzsc_decrypt.js:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引用 crypto-js 加密模块</span></span><br><span class="line"><span class="keyword">var</span> CryptoJS = <span class="built_in">require</span>(<span class="string">&#x27;crypto-js&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getDecryptedData</span>(<span class="params">t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> m = CryptoJS.enc.Utf8.parse(<span class="string">&quot;0123456789ABCDEF&quot;</span>),</span><br><span class="line">        f = CryptoJS.enc.Utf8.parse(<span class="string">&quot;jo8j9wGw%6HbxfFn&quot;</span>),</span><br><span class="line">        e = CryptoJS.enc.Hex.parse(t),</span><br><span class="line">        n = CryptoJS.enc.Base64.stringify(e),</span><br><span class="line">        a = CryptoJS.AES.decrypt(n, f, &#123;</span><br><span class="line">            <span class="attr">iv</span>: m,</span><br><span class="line">            <span class="attr">mode</span>: CryptoJS.mode.CBC,</span><br><span class="line">            <span class="attr">padding</span>: CryptoJS.pad.Pkcs7</span><br><span class="line">    &#125;),</span><br><span class="line">        r = a.toString(CryptoJS.enc.Utf8);</span><br><span class="line">    <span class="keyword">return</span> r.toString()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 测试样例</span></span><br><span class="line"><span class="comment">// var t = &#x27;95780ba094xxxxxxxxxx&#x27;</span></span><br><span class="line"><span class="comment">// console.log(getDecryptedData(t))</span></span><br></pre></td></tr></table></figure><p>jzsc.py:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> execjs</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">data_url = <span class="string">&#x27;http://jzsc.mohurd.gov.cn/api/webApi/dataservice/query/comp/list?pg=%s&amp;pgsz=15&amp;total=450&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_encrypted_data</span>(<span class="params">page</span>):</span></span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&#x27;Host&#x27;</span>: <span class="string">&#x27;jzsc.mohurd.gov.cn&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Referer&#x27;</span>: <span class="string">&#x27;http://jzsc.mohurd.gov.cn/data/company&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    encrypted_data = requests.get(url=data_url % page, headers=headers).text</span><br><span class="line">    <span class="keyword">return</span> encrypted_data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_decrypted_data</span>(<span class="params">encrypted_data</span>):</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;jzsc_mohurd_decrypt.js&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        jzsc_mohurd_js = f.read()</span><br><span class="line">    decrypted_data = execjs.<span class="built_in">compile</span>(jzsc_mohurd_js).call(<span class="string">&#x27;getDecryptedData&#x27;</span>, encrypted_data)</span><br><span class="line">    <span class="keyword">return</span> json.loads(decrypted_data)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="comment"># 30页数据</span></span><br><span class="line">    <span class="keyword">for</span> page <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">30</span>):</span><br><span class="line">        encrypted_data = get_encrypted_data(page)</span><br><span class="line">        decrypted_data = get_decrypted_data(encrypted_data)</span><br><span class="line">        <span class="built_in">print</span>(decrypted_data)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;逆向目标&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;目标: 住房和城乡建设部&amp;amp;全国建筑市场监管公共服务平台的企业数据&lt;/li&gt;
&lt;li&gt;网站主页: &lt;a class=&quot;link&quot;   href=&quot;http://jzsc.mohurd.gov.cn/</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>js逆向37网游登录接口参数</title>
    <link href="http://example.com/2022/01/18/js%E9%80%86%E5%90%9137%E7%BD%91%E6%B8%B8%E7%99%BB%E5%BD%95%E6%8E%A5%E5%8F%A3%E5%8F%82%E6%95%B0/"/>
    <id>http://example.com/2022/01/18/js%E9%80%86%E5%90%9137%E7%BD%91%E6%B8%B8%E7%99%BB%E5%BD%95%E6%8E%A5%E5%8F%A3%E5%8F%82%E6%95%B0/</id>
    <published>2022-01-18T14:21:10.000Z</published>
    <updated>2022-01-18T14:49:14.510Z</updated>
    
    <content type="html"><![CDATA[<p>目标网站: <a class="link"   href="https://www.37.com/" >37网游<i class="fas fa-external-link-alt"></i></a></p><p><strong>抓包分析</strong></p><p>首先我们随便输入一个账号密码，点击登陆，抓包定位到登录接口为: <a class="link"   href="https://my.37.com/api/login.php%EF%BC%8C%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AAGet%E8%AF%B7%E6%B1%82%EF%BC%8C%E7%84%B6%E5%90%8E%E6%88%91%E4%BB%AC%E6%9D%A5%E5%88%86%E6%9E%90%E4%B8%8BPayload%E9%87%8C%E9%9D%A2%E7%9A%84%E5%8F%82%E6%95%B0" >https://my.37.com/api/login.php，这是一个Get请求，然后我们来分析下Payload里面的参数<i class="fas fa-external-link-alt"></i></a>:</p><p><a href="https://imgtu.com/i/7BrqcF"><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s4.ax1x.com/2022/01/18/7BrqcF.png"                      alt="7BrqcF.png"                ></a></p><p><code>callback</code> 是一个回调参数，它的格式为 <code>jQuery + 20位数字 + _ + 13位时间戳</code>，使用 Python 很容易构建；<code>login_account</code> 是登录的账户名；<code>password</code> 是加密后的密码；<code>_</code> 是13位时间戳</p><p><strong>参数逆向</strong></p><p>需要我们逆向的参数就只有一个 password， 我们尝试直接全局搜索此关键字，会发现出来的结果非常多，不利于分析，这里就有一个小技巧，加个等号，搜索 password=，这样就极大地缩短了查找范围，当然也可以搜索 password:，也可以在关键字和符号之间加个空格，还可以搜索 var password 等，这些都是可以尝试的，要具体情况具体分析，一种没有结果就换另一种；在本案例中，我们搜索 <code>password=</code>然后我们定位到了以下结果:</p><p><a href="https://imgtu.com/i/7B6Fwd"><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s4.ax1x.com/2022/01/18/7B6Fwd.png"                      alt="7B6Fwd.png"                ></a></p><p>进入到js文件后我们再次搜索<code>password=</code>，然后我们定位到了<code>h.password = td(f)</code>，疑似加密代码，在此处埋下断点进行调试，可以看到返回的值确实是加密后的密码:</p><p><a href="https://imgtu.com/i/7Bc0v8"><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s4.ax1x.com/2022/01/18/7Bc0v8.png"                      alt="7Bc0v8.png"                ></a></p><p><a href="https://imgtu.com/i/7Bg6sO"><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s4.ax1x.com/2022/01/18/7Bg6sO.png"                      alt="7Bg6sO.png"                ></a></p><p>鼠标悬停在td函数上，然后我们跳转进入td函数中，可以看到是用到了一个自写的 RSA 加密，很简单明了，我们直接将其复制下来使用 Python 调用即可:<br><a href="https://imgtu.com/i/7B2cpq"><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s4.ax1x.com/2022/01/18/7B2cpq.png"                      alt="7B2cpq.png"                ></a></p><p>encrypt_password_js:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ch = <span class="string">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">__rsa</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> out, i, len;</span><br><span class="line">    <span class="keyword">var</span> c1, c2, c3;</span><br><span class="line">    len = str.length;</span><br><span class="line">    i = <span class="number">0</span>;</span><br><span class="line">    out = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; len) &#123;</span><br><span class="line">        c1 = str.charCodeAt(i++) &amp; <span class="number">0xff</span>;</span><br><span class="line">        <span class="keyword">if</span> (i == len) &#123;</span><br><span class="line">            out += ch.charAt(c1 &gt;&gt; <span class="number">2</span>);</span><br><span class="line">            out += ch.charAt((c1 &amp; <span class="number">0x3</span>) &lt;&lt; <span class="number">4</span>);</span><br><span class="line">            out += <span class="string">&quot;==&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">        c2 = str.charCodeAt(i++);</span><br><span class="line">        <span class="keyword">if</span> (i == len) &#123;</span><br><span class="line">            out += ch.charAt(c1 &gt;&gt; <span class="number">2</span>);</span><br><span class="line">            out += ch.charAt(((c1 &amp; <span class="number">0x3</span>) &lt;&lt; <span class="number">4</span>) | ((c2 &amp; <span class="number">0xF0</span>) &gt;&gt; <span class="number">4</span>));</span><br><span class="line">            out += ch.charAt((c2 &amp; <span class="number">0xF</span>) &lt;&lt; <span class="number">2</span>);</span><br><span class="line">            out += <span class="string">&quot;=&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">        c3 = str.charCodeAt(i++);</span><br><span class="line">        out += ch.charAt(c1 &gt;&gt; <span class="number">2</span>);</span><br><span class="line">        out += ch.charAt(((c1 &amp; <span class="number">0x3</span>) &lt;&lt; <span class="number">4</span>) | ((c2 &amp; <span class="number">0xF0</span>) &gt;&gt; <span class="number">4</span>));</span><br><span class="line">        out += ch.charAt(((c2 &amp; <span class="number">0xF</span>) &lt;&lt; <span class="number">2</span>) | ((c3 &amp; <span class="number">0xC0</span>) &gt;&gt; <span class="number">6</span>));</span><br><span class="line">        out += ch.charAt(c3 &amp; <span class="number">0x3F</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> out</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getEncryptedPassword</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> maxPos = ch.length - <span class="number">2</span></span><br><span class="line">      , w = [];</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">15</span>; i++) &#123;</span><br><span class="line">        w.push(ch.charAt(<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * maxPos)));</span><br><span class="line">        <span class="keyword">if</span> (i === <span class="number">7</span>) &#123;</span><br><span class="line">            w.push(a.substr(<span class="number">0</span>, <span class="number">3</span>))</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (i === <span class="number">12</span>) &#123;</span><br><span class="line">            w.push(a.substr(<span class="number">3</span>))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> __rsa(w.join(<span class="string">&quot;&quot;</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 测试样例</span></span><br><span class="line"><span class="comment">// console.log(getEncryptedPassword(&quot;34343434&quot;))</span></span><br></pre></td></tr></table></figure><p>37_login:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> execjs</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">login_url = <span class="string">&#x27;https://my.37.com/api/login.php&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_encrypted_password</span>(<span class="params">password</span>):</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;37_encrypt.js&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        www_37_js = f.read()</span><br><span class="line">    encrypted_pwd = execjs.<span class="built_in">compile</span>(www_37_js).call(<span class="string">&#x27;getEncryptedPassword&#x27;</span>, password)</span><br><span class="line">    <span class="keyword">return</span> encrypted_pwd</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login</span>(<span class="params">username, encrypted_password</span>):</span></span><br><span class="line">    timestamp = <span class="built_in">str</span>(<span class="built_in">int</span>(time.time() * <span class="number">1000</span>))</span><br><span class="line">    jsonp = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">20</span>):</span><br><span class="line">        jsonp += <span class="built_in">str</span>(random.randint(<span class="number">0</span>, <span class="number">9</span>))</span><br><span class="line">    callback = <span class="string">&#x27;jQuery&#x27;</span> + jsonp + <span class="string">&#x27;_&#x27;</span> + timestamp</span><br><span class="line">    params = &#123;</span><br><span class="line">        <span class="string">&#x27;callback&#x27;</span>: callback,</span><br><span class="line">        <span class="string">&#x27;action&#x27;</span>: <span class="string">&#x27;login&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;login_account&#x27;</span>: username,</span><br><span class="line">        <span class="string">&#x27;password&#x27;</span>: encrypted_password,</span><br><span class="line">        <span class="string">&#x27;ajax&#x27;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="string">&#x27;remember_me&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="string">&#x27;save_state&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="string">&#x27;ltype&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="string">&#x27;tj_from&#x27;</span>: <span class="number">100</span>,</span><br><span class="line">        <span class="string">&#x27;s&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="string">&#x27;tj_way&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="string">&#x27;_&#x27;</span>: timestamp</span><br><span class="line">    &#125;</span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.114 Safari/537.36&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;sec-ch-ua&#x27;</span>: <span class="string">&#x27;&quot; Not;A Brand&quot;;v=&quot;99&quot;, &quot;Google Chrome&quot;;v=&quot;91&quot;, &quot;Chromium&quot;;v=&quot;91&quot;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    response = requests.post(url=login_url, headers=headers, params=params)</span><br><span class="line">    <span class="built_in">print</span>(response.text)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    username = <span class="built_in">input</span>(<span class="string">&#x27;请输入登录账号: &#x27;</span>)</span><br><span class="line">    password = <span class="built_in">input</span>(<span class="string">&#x27;请输入登录密码: &#x27;</span>)</span><br><span class="line">    encrypted_password = get_encrypted_password(password)</span><br><span class="line">    login(username, encrypted_password)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;目标网站: &lt;a class=&quot;link&quot;   href=&quot;https://www.37.com/&quot; &gt;37网游&lt;i class=&quot;fas fa-external-link-alt&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;抓包分析&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>推荐一个关于Go文档以及面试题的网站--来自Go学习群</title>
    <link href="http://example.com/2022/01/18/%E6%8E%A8%E8%8D%90%E4%B8%80%E4%B8%AA%E5%85%B3%E4%BA%8EGo%E6%96%87%E6%A1%A3%E4%BB%A5%E5%8F%8A%E9%9D%A2%E8%AF%95%E9%A2%98%E7%9A%84%E7%BD%91%E7%AB%99--%E6%9D%A5%E8%87%AAGo%E5%AD%A6%E4%B9%A0%E7%BE%A4/"/>
    <id>http://example.com/2022/01/18/%E6%8E%A8%E8%8D%90%E4%B8%80%E4%B8%AA%E5%85%B3%E4%BA%8EGo%E6%96%87%E6%A1%A3%E4%BB%A5%E5%8F%8A%E9%9D%A2%E8%AF%95%E9%A2%98%E7%9A%84%E7%BD%91%E7%AB%99--%E6%9D%A5%E8%87%AAGo%E5%AD%A6%E4%B9%A0%E7%BE%A4/</id>
    <published>2022-01-18T09:20:30.000Z</published>
    <updated>2022-01-17T06:24:54.062Z</updated>
    
    <content type="html"><![CDATA[<p>今天在Go语言中文网的QQ群中发现了一个分享Go文档以及面试题的网站，感觉挺不错的，<a class="link"   href="https://www.topgoer.cn/" >点击跳转<i class="fas fa-external-link-alt"></i></a>:</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220117/Snipaste_2022-01-17_14-22-11.4q114603jaw0.webp"                      alt="Snipaste_2022-01-17_14-22-11"                ></p><p>关于Go面试题，<a class="link"   href="https://www.topgoer.cn/docs/gomianshiti/mianshiti" >点这里直达<i class="fas fa-external-link-alt"></i></a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;今天在Go语言中文网的QQ群中发现了一个分享Go文档以及面试题的网站，感觉挺不错的，&lt;a class=&quot;link&quot;   href=&quot;https://www.topgoer.cn/&quot; &gt;点击跳转&lt;i class=&quot;fas fa-external-link-alt&quot;&gt;&lt;/i&gt;&lt;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>使用jsonpath.jsonpath()来解析json字符串的坑</title>
    <link href="http://example.com/2022/01/18/%E4%BD%BF%E7%94%A8jsonpath.jsonpath()%E6%9D%A5%E8%A7%A3%E6%9E%90json%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%9D%91/"/>
    <id>http://example.com/2022/01/18/%E4%BD%BF%E7%94%A8jsonpath.jsonpath()%E6%9D%A5%E8%A7%A3%E6%9E%90json%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%9D%91/</id>
    <published>2022-01-18T08:54:42.188Z</published>
    <updated>2022-01-18T08:54:17.534Z</updated>
    
    <content type="html"><![CDATA[<p>今天在爬网站的时候，由于页面的detail_url在json字符串中，所以用到了jsonpath.jsonpa()这个方法来解析，这个方法解析字符串是很方便的，但是今天遇到了一个坑，下面来详细说明下:</p><p>首先我们来说下这个方法的使用:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> jsonpath</span><br><span class="line">jsonstr = <span class="string">&#x27;&#123;&quot;ok&quot;:true,&quot;code&quot;:200,&quot;msg&quot;:null,&quot;data&quot;:&#123;&quot;totalHits&quot;:92,&quot;resultList&quot;:[&#123;&quot;summary&quot;:&quot;相关链接 国家烟草专卖局关于印发深化 证照分离 改革进一步激发市场主体发展活力实施方案的通知 国家烟草专卖&quot;,&quot;dreDate&quot;:1638251577000,&quot;dbName&quot;:&quot;cps&quot;,&quot;dreTitle&quot;:&quot;图解：《国家烟草专卖局关于印发深化“证照分离”改革进一步激发市场主体发展活力实施方案的通知》政策解读&quot;,&quot;includeImg&quot;:false,&quot;weight&quot;:null,&quot;docDate&quot;:&quot;2021-11-30&quot;,&quot;title&quot;:&quot;图解：《国家烟草专卖局关于印发深化“证照分离”改革进一步激发市场主体发展活力实施方案的通知》政策解读&quot;,&quot;combins&quot;:0,&quot;domainSiteName&quot;:&quot;中国烟草总公司&quot;,&quot;url&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zmyw/202111/00fd8aac999443c2963d2714c10c26b2.shtml&quot;,&quot;domainSite&quot;:&quot;tobacco.gov.cn&quot;,&quot;reference&quot;:&quot;D69C44FE5971BE1672E2BDE4BA9562BC&quot;,&quot;myValues&quot;:&#123;&quot;INCLUDEIMAGE&quot;:&quot;0&quot;,&quot;DOMAINSITENAME&quot;:&quot;中国烟草总公司&quot;,&quot;SPIDERTIME&quot;:&quot;2021-11-30T06:02:40.050&quot;,&quot;URL&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zmyw/202111/00fd8aac999443c2963d2714c10c26b2.shtml&quot;,&quot;C1&quot;:&quot;政府信息公开&quot;,&quot;C2&quot;:&quot;&quot;,&quot;DRETITLEO&quot;:&quot;图解：《国家烟草专卖局关于印发深化“证照分离”改革进一步激发市场主体发展活力实施方案的通知》政策解读&quot;,&quot;C3&quot;:&quot;&quot;,&quot;C4&quot;:&quot;&quot;,&quot;C5&quot;:&quot;&quot;,&quot;C6&quot;:&quot;&quot;,&quot;SUMMARY&quot;:&quot;相关链接 国家烟草专卖局关于印发深化 证照分离 改革进一步激发市场主体发展活力实施方案的通知        国家烟草专卖&quot;,&quot;C7&quot;:&quot;&quot;,&quot;C8&quot;:&quot;&quot;,&quot;C9&quot;:&quot;&quot;,&quot;DOMAINSITE&quot;:&quot;tobacco.gov.cn&quot;,&quot;WEBSITENAME&quot;:&quot;www.tobacco.gov.cn&quot;,&quot;DREDATE&quot;:&quot;1638251577&quot;,&quot;L1&quot;:&quot;政府信息公开&quot;,&quot;L2&quot;:&quot;法定主动公开内容&quot;,&quot;L3&quot;:&quot;政策解读&quot;,&quot;L4&quot;:&quot;专卖业务&quot;,&quot;L5&quot;:&quot;&quot;,&quot;L6&quot;:&quot;&quot;,&quot;N9&quot;:&quot;1&quot;,&quot;DREDBNAME&quot;:&quot;cps&quot;,&quot;FILETYPE&quot;:&quot;.html&quot;,&quot;L7&quot;:&quot;&quot;,&quot;L8&quot;:&quot;&quot;,&quot;MD5URL&quot;:&quot;E43D6D583F742C59F73173EA305E0B8D&quot;,&quot;L9&quot;:&quot;开普接口同步&quot;,&quot;DRETITLE&quot;:&quot;图解 国家烟草专卖局关于印发深化 证照分离 改革进一步激发市场主体发展活力实施方案的通知 政策解读&quot;,&quot;MD5TITLE&quot;:&quot;F1DEDFBA3D25A848EFAA312948A6E771&quot;,&quot;QUICKDESCRIPTION&quot;:&quot;   相关链接 国家烟草专卖局关于印发深化 证照分离 改革进一步激发市场主体发展活力实施方案的通知        国家烟草专卖局关于印发深化 证照分离 改革进一步激发市场主体发展活力实施方案的通知 政策解读&quot;,&quot;_INDEX&quot;:&quot;cps_new0&quot;,&quot;_TYPE&quot;:&quot;_doc&quot;,&quot;_ID&quot;:&quot;D69C44FE5971BE1672E2BDE4BA9562BC&quot;,&quot;WEBSITE&quot;:&quot;www.tobacco.gov.cn&quot;&#125;,&quot;indexDate&quot;:&quot;2021-11-30 13:52:57&quot;,&quot;encodeUrl&quot;:&quot;816D9628B2B6451D752E6EE8E2E94092FDDB37D65E32473A22AB54CCC441042E29E654EF36AC5EEFFF56BD21DF28EFF7BBA4B400CF734F62934AE927F760C40E902559609C9965735295CA877351025F6E5833E95ACFB8C8&quot;,&quot;snapshot&quot;:&quot;&quot;&#125;,&#123;&quot;summary&quot;:&quot;一 背景依据 今年5月 国务院印发了 关于深化 证照分离 改革进一步激发市场主体发展活力的通知 国发 2021 7号&quot;,&quot;dreDate&quot;:1637803246000,&quot;dbName&quot;:&quot;cps&quot;,&quot;dreTitle&quot;:&quot;《国家烟草专卖局关于印发深化“证照分离”改革进一步激发市场主体发展活力实施方案的通知》政策解读&quot;,&quot;includeImg&quot;:false,&quot;weight&quot;:null,&quot;docDate&quot;:&quot;2021-11-25&quot;,&quot;title&quot;:&quot;《国家烟草专卖局关于印发深化“证照分离”改革进一步激发市场主体发展活力实施方案的通知》政策解读&quot;,&quot;combins&quot;:0,&quot;domainSiteName&quot;:&quot;中国烟草总公司&quot;,&quot;url&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zmyw/202111/6b0064505b89450b8c965781ba24d1dd.shtml&quot;,&quot;domainSite&quot;:&quot;tobacco.gov.cn&quot;,&quot;reference&quot;:&quot;C4B055582B5865A17CEABA4703757497&quot;,&quot;myValues&quot;:&#123;&quot;INCLUDEIMAGE&quot;:&quot;0&quot;,&quot;DOMAINSITENAME&quot;:&quot;中国烟草总公司&quot;,&quot;SPIDERTIME&quot;:&quot;2021-11-30T06:02:40.057&quot;,&quot;URL&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zmyw/202111/6b0064505b89450b8c965781ba24d1dd.shtml&quot;,&quot;C1&quot;:&quot;政府信息公开&quot;,&quot;C2&quot;:&quot;&quot;,&quot;DRETITLEO&quot;:&quot;《国家烟草专卖局关于印发深化“证照分离”改革进一步激发市场主体发展活力实施方案的通知》政策解读&quot;,&quot;C3&quot;:&quot;&quot;,&quot;C4&quot;:&quot;&quot;,&quot;C5&quot;:&quot;&quot;,&quot;C6&quot;:&quot;&quot;,&quot;SUMMARY&quot;:&quot;一 背景依据  今年5月 国务院印发了 关于深化 证照分离 改革进一步激发市场主体发展活力的通知  国发 2021 7号&quot;,&quot;C7&quot;:&quot;&quot;,&quot;C8&quot;:&quot;&quot;,&quot;C9&quot;:&quot;&quot;,&quot;DOMAINSITE&quot;:&quot;tobacco.gov.cn&quot;,&quot;WEBSITENAME&quot;:&quot;www.tobacco.gov.cn&quot;,&quot;DREDATE&quot;:&quot;1637803246&quot;,&quot;L1&quot;:&quot;政府信息公开&quot;,&quot;L2&quot;:&quot;法定主动公开内容&quot;,&quot;L3&quot;:&quot;政策解读&quot;,&quot;L4&quot;:&quot;专卖业务&quot;,&quot;L5&quot;:&quot;&quot;,&quot;L6&quot;:&quot;&quot;,&quot;N9&quot;:&quot;1&quot;,&quot;DREDBNAME&quot;:&quot;cps&quot;,&quot;FILETYPE&quot;:&quot;.html&quot;,&quot;L7&quot;:&quot;&quot;,&quot;L8&quot;:&quot;&quot;,&quot;MD5URL&quot;:&quot;D68F3CF9C6B9B7E6EF504BE93A98B68A&quot;,&quot;L9&quot;:&quot;开普接口同步&quot;,&quot;DRETITLE&quot;:&quot;国家烟草专卖局关于印发深化 证照分离 改革进一步激发市场主体发展活力实施方案的通知 政策解读&quot;,&quot;MD5TITLE&quot;:&quot;9093B824D4212053CA21B413450F4E30&quot;,&quot;QUICKDESCRIPTION&quot;:&quot;一 背景依据  今年5月 国务院印发了 关于深化 证照分离 改革进一步激发市场主体发展活力的通知  国发 2021 7号 以下简称 通知   明确了 证照分离 改革的主要目标 基本内容 配套措施 并对如何创新和加强事中事后监管等提出了要求 按照 通知 要求 国务院有关部门要制定实施方案 对中央层面设定的涉企经营许可事项逐项细化改革举措 并向社会公布 根据上述要求 我们结合烟草行业实际 制定印发了 深化 证照分离 改革进一步激发市场主体发展活力实施方案  以下简称 实施方案    二  实施方案 &quot;,&quot;_INDEX&quot;:&quot;cps_new0&quot;,&quot;_TYPE&quot;:&quot;_doc&quot;,&quot;_ID&quot;:&quot;C4B055582B5865A17CEABA4703757497&quot;,&quot;WEBSITE&quot;:&quot;www.tobacco.gov.cn&quot;&#125;,&quot;indexDate&quot;:&quot;2021-11-25 09:20:46&quot;,&quot;encodeUrl&quot;:&quot;816D9628B2B6451D752E6EE8E2E94092FDDB37D65E32473A22AB54CCC441042E29E654EF36AC5EEF1E2CD4BBE7A913209BC2F508952E92BD99DEAF78EA8C4AEC55DF4C4FE058EF85F016BE7F7F856C8F6E5833E95ACFB8C8&quot;,&quot;snapshot&quot;:&quot;&quot;&#125;,&#123;&quot;summary&quot;:&quot;相关链接 国家烟草专卖局关于印发 新时代国家烟草专卖局对口支援兴国县实施方案 的通知 国家烟草专卖局关于&quot;,&quot;dreDate&quot;:1631779320000,&quot;dbName&quot;:&quot;cps&quot;,&quot;dreTitle&quot;:&quot;图解：《国家烟草专卖局关于印发＜新时代国家烟草专卖局对口支援兴国县实施方案＞的通知》的政策解读&quot;,&quot;includeImg&quot;:false,&quot;weight&quot;:null,&quot;docDate&quot;:&quot;2021-09-16&quot;,&quot;title&quot;:&quot;图解：《国家烟草专卖局关于印发＜新时代国家烟草专卖局对口支援兴国县实施方案＞的通知》的政策解读&quot;,&quot;combins&quot;:0,&quot;domainSiteName&quot;:&quot;中国烟草总公司&quot;,&quot;url&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zhyw/202109/1c6b919c5e3e4a508dda8e07df480eb8.shtml&quot;,&quot;domainSite&quot;:&quot;tobacco.gov.cn&quot;,&quot;reference&quot;:&quot;3A6748BC7FAFEB972C7748DFAC3312AD&quot;,&quot;myValues&quot;:&#123;&quot;INCLUDEIMAGE&quot;:&quot;0&quot;,&quot;DOMAINSITENAME&quot;:&quot;中国烟草总公司&quot;,&quot;SPIDERTIME&quot;:&quot;2021-09-28T01:32:00.007&quot;,&quot;URL&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zhyw/202109/1c6b919c5e3e4a508dda8e07df480eb8.shtml&quot;,&quot;C1&quot;:&quot;政府信息公开&quot;,&quot;C2&quot;:&quot;&quot;,&quot;DRETITLEO&quot;:&quot;图解：《国家烟草专卖局关于印发＜新时代国家烟草专卖局对口支援兴国县实施方案＞的通知》的政策解读&quot;,&quot;C3&quot;:&quot;&quot;,&quot;C4&quot;:&quot;&quot;,&quot;C5&quot;:&quot;&quot;,&quot;C6&quot;:&quot;&quot;,&quot;SUMMARY&quot;:&quot;相关链接 国家烟草专卖局关于印发 新时代国家烟草专卖局对口支援兴国县实施方案 的通知         国家烟草专卖局关于&quot;,&quot;C7&quot;:&quot;&quot;,&quot;C8&quot;:&quot;&quot;,&quot;C9&quot;:&quot;&quot;,&quot;DOMAINSITE&quot;:&quot;tobacco.gov.cn&quot;,&quot;WEBSITENAME&quot;:&quot;www.tobacco.gov.cn&quot;,&quot;DREDATE&quot;:&quot;1631779320&quot;,&quot;L1&quot;:&quot;政府信息公开&quot;,&quot;L2&quot;:&quot;法定主动公开内容&quot;,&quot;L3&quot;:&quot;政策解读&quot;,&quot;L4&quot;:&quot;综合业务&quot;,&quot;L5&quot;:&quot;&quot;,&quot;L6&quot;:&quot;&quot;,&quot;N9&quot;:&quot;1&quot;,&quot;DREDBNAME&quot;:&quot;cps&quot;,&quot;FILETYPE&quot;:&quot;.html&quot;,&quot;L7&quot;:&quot;&quot;,&quot;L8&quot;:&quot;&quot;,&quot;MD5URL&quot;:&quot;0852298E65D012FECB8DB7E323453781&quot;,&quot;L9&quot;:&quot;开普接口同步&quot;,&quot;DRETITLE&quot;:&quot;图解 国家烟草专卖局关于印发＜新时代国家烟草专卖局对口支援兴国县实施方案＞的通知 的政策解读&quot;,&quot;MD5TITLE&quot;:&quot;F2FCA05339837A57685F3687C7A643DE&quot;,&quot;QUICKDESCRIPTION&quot;:&quot;      相关链接 国家烟草专卖局关于印发 新时代国家烟草专卖局对口支援兴国县实施方案 的通知         国家烟草专卖局关于印发的通知 的政策解读    &quot;,&quot;_INDEX&quot;:&quot;cps_new0&quot;,&quot;_TYPE&quot;:&quot;_doc&quot;,&quot;_ID&quot;:&quot;3A6748BC7FAFEB972C7748DFAC3312AD&quot;,&quot;WEBSITE&quot;:&quot;www.tobacco.gov.cn&quot;&#125;,&quot;indexDate&quot;:&quot;2021-09-16 16:02:00&quot;,&quot;encodeUrl&quot;:&quot;816D9628B2B6451D752E6EE8E2E94092FDDB37D65E32473A22AB54CCC441042E0D9CD9DD7D6C287A8A32719516DE22DD9E0C33F4BC6BCA48459DFF88F7A6F1D99BA5617CB7EA9E0AF69BCAA7D2CF59616E5833E95ACFB8C8&quot;,&quot;snapshot&quot;:&quot;&quot;&#125;,&#123;&quot;summary&quot;:&quot;一 国家烟草专卖局关于印发的通知 背景是什么 答 2020年 革命老区兴国县在国家烟草专卖局的助力下 成功脱贫摘帽并&quot;,&quot;dreDate&quot;:1630890520000,&quot;dbName&quot;:&quot;cps&quot;,&quot;dreTitle&quot;:&quot;《国家烟草专卖局关于印发＜新时代国家烟草专卖局对口支援兴国县实施方案＞的通知》的政策解读&quot;,&quot;includeImg&quot;:false,&quot;weight&quot;:null,&quot;docDate&quot;:&quot;2021-09-06&quot;,&quot;title&quot;:&quot;《国家烟草专卖局关于印发＜新时代国家烟草专卖局对口支援兴国县实施方案＞的通知》的政策解读&quot;,&quot;combins&quot;:0,&quot;domainSiteName&quot;:&quot;中国烟草总公司&quot;,&quot;url&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zhyw/202109/df15e15f738b4c6bb108690f1eebc6ba.shtml&quot;,&quot;domainSite&quot;:&quot;tobacco.gov.cn&quot;,&quot;reference&quot;:&quot;436700871BF74E853A04248AB5167423&quot;,&quot;myValues&quot;:&#123;&quot;INCLUDEIMAGE&quot;:&quot;0&quot;,&quot;DOMAINSITENAME&quot;:&quot;中国烟草总公司&quot;,&quot;SPIDERTIME&quot;:&quot;2021-09-28T01:17:00.010&quot;,&quot;URL&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zhyw/202109/df15e15f738b4c6bb108690f1eebc6ba.shtml&quot;,&quot;C1&quot;:&quot;政府信息公开&quot;,&quot;C2&quot;:&quot;&quot;,&quot;DRETITLEO&quot;:&quot;《国家烟草专卖局关于印发＜新时代国家烟草专卖局对口支援兴国县实施方案＞的通知》的政策解读&quot;,&quot;C3&quot;:&quot;&quot;,&quot;C4&quot;:&quot;&quot;,&quot;C5&quot;:&quot;&quot;,&quot;C6&quot;:&quot;&quot;,&quot;SUMMARY&quot;:&quot;一  国家烟草专卖局关于印发的通知 背景是什么  答 2020年 革命老区兴国县在国家烟草专卖局的助力下 成功脱贫摘帽并&quot;,&quot;C7&quot;:&quot;&quot;,&quot;C8&quot;:&quot;&quot;,&quot;C9&quot;:&quot;&quot;,&quot;DOMAINSITE&quot;:&quot;tobacco.gov.cn&quot;,&quot;WEBSITENAME&quot;:&quot;www.tobacco.gov.cn&quot;,&quot;DREDATE&quot;:&quot;1630890520&quot;,&quot;L1&quot;:&quot;政府信息公开&quot;,&quot;L2&quot;:&quot;法定主动公开内容&quot;,&quot;L3&quot;:&quot;政策解读&quot;,&quot;L4&quot;:&quot;综合业务&quot;,&quot;L5&quot;:&quot;&quot;,&quot;L6&quot;:&quot;&quot;,&quot;N9&quot;:&quot;1&quot;,&quot;DREDBNAME&quot;:&quot;cps&quot;,&quot;FILETYPE&quot;:&quot;.html&quot;,&quot;L7&quot;:&quot;&quot;,&quot;L8&quot;:&quot;&quot;,&quot;MD5URL&quot;:&quot;5B80A8582470AD3838DE267467BF3FF5&quot;,&quot;L9&quot;:&quot;开普接口同步&quot;,&quot;DRETITLE&quot;:&quot;国家烟草专卖局关于印发＜新时代国家烟草专卖局对口支援兴国县实施方案＞的通知 的政策解读&quot;,&quot;MD5TITLE&quot;:&quot;B9B077DAC99F25BDC32271D874861AC6&quot;,&quot;QUICKDESCRIPTION&quot;:&quot;  一  国家烟草专卖局关于印发的通知 背景是什么  答 2020年 革命老区兴国县在国家烟草专卖局的助力下 成功脱贫摘帽并迈入了小康社会 正扬帆启航 向第二个百年奋斗目标进军 革命老区是党和人民军队的根 是中国人民选择中国共产党的历史见证 兴国县是赣南等原中央苏区核心区域 位于多省交界地区 为中国革命作出了巨大贡献和牺牲 目前仍属于欠发达地区 全面建设社会主义现代化国家 实现中华民族伟大复兴 最艰巨最繁重的任务依然在农村 最广泛最深厚的基础依然在农村  对口支援是党中央 国务院确定的乡村振兴重&quot;,&quot;_INDEX&quot;:&quot;cps_new0&quot;,&quot;_TYPE&quot;:&quot;_doc&quot;,&quot;_ID&quot;:&quot;436700871BF74E853A04248AB5167423&quot;,&quot;WEBSITE&quot;:&quot;www.tobacco.gov.cn&quot;&#125;,&quot;indexDate&quot;:&quot;2021-09-06 09:08:40&quot;,&quot;encodeUrl&quot;:&quot;816D9628B2B6451D752E6EE8E2E94092FDDB37D65E32473A22AB54CCC441042E0D9CD9DD7D6C287A01BDE8575BB794709865B07DFDD9B03BCFD688859E397CDDA36164114DBD3FF13C9D6C4CD5F466176E5833E95ACFB8C8&quot;,&quot;snapshot&quot;:&quot;&quot;&#125;,&#123;&quot;summary&quot;:&quot;相关链接 国家烟草专卖局关于印发涉案烟草制品价格管理规定的通知 涉案烟草制品价格管理规&quot;,&quot;dreDate&quot;:1625459828000,&quot;dbName&quot;:&quot;cps&quot;,&quot;dreTitle&quot;:&quot;图解：《涉案烟草制品价格管理规定》政策解读&quot;,&quot;includeImg&quot;:false,&quot;weight&quot;:null,&quot;docDate&quot;:&quot;2021-07-05&quot;,&quot;title&quot;:&quot;图解：《涉案烟草制品价格管理规定》政策解读&quot;,&quot;combins&quot;:0,&quot;domainSiteName&quot;:&quot;中国烟草总公司&quot;,&quot;url&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zhyw/202107/6feaebb9c9804b12831f963c8f351265.shtml&quot;,&quot;domainSite&quot;:&quot;tobacco.gov.cn&quot;,&quot;reference&quot;:&quot;B8F39E42862E282FCD5A1869C2F4DE62&quot;,&quot;myValues&quot;:&#123;&quot;INCLUDEIMAGE&quot;:&quot;0&quot;,&quot;DOMAINSITENAME&quot;:&quot;中国烟草总公司&quot;,&quot;SPIDERTIME&quot;:&quot;2021-07-05T04:45:00.044&quot;,&quot;URL&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zhyw/202107/6feaebb9c9804b12831f963c8f351265.shtml&quot;,&quot;C1&quot;:&quot;政府信息公开&quot;,&quot;C2&quot;:&quot;&quot;,&quot;DRETITLEO&quot;:&quot;图解：《涉案烟草制品价格管理规定》政策解读&quot;,&quot;C3&quot;:&quot;&quot;,&quot;C4&quot;:&quot;&quot;,&quot;C5&quot;:&quot;&quot;,&quot;C6&quot;:&quot;&quot;,&quot;SUMMARY&quot;:&quot;相关链接  国家烟草专卖局关于印发涉案烟草制品价格管理规定的通知                 涉案烟草制品价格管理规&quot;,&quot;C7&quot;:&quot;&quot;,&quot;C8&quot;:&quot;&quot;,&quot;C9&quot;:&quot;&quot;,&quot;DOMAINSITE&quot;:&quot;tobacco.gov.cn&quot;,&quot;WEBSITENAME&quot;:&quot;www.tobacco.gov.cn&quot;,&quot;DREDATE&quot;:&quot;1625459828&quot;,&quot;L1&quot;:&quot;政府信息公开&quot;,&quot;L2&quot;:&quot;法定主动公开内容&quot;,&quot;L3&quot;:&quot;政策解读&quot;,&quot;L4&quot;:&quot;综合业务&quot;,&quot;L5&quot;:&quot;&quot;,&quot;L6&quot;:&quot;&quot;,&quot;N9&quot;:&quot;1&quot;,&quot;DREDBNAME&quot;:&quot;cps&quot;,&quot;FILETYPE&quot;:&quot;.html&quot;,&quot;L7&quot;:&quot;&quot;,&quot;L8&quot;:&quot;&quot;,&quot;MD5URL&quot;:&quot;D1F434D44B1CD8A2F863E9A40096E0A9&quot;,&quot;L9&quot;:&quot;开普接口同步&quot;,&quot;DRETITLE&quot;:&quot;图解 涉案烟草制品价格管理规定 政策解读&quot;,&quot;MD5TITLE&quot;:&quot;F11D3EB1CBD11B69B1269442A11CB467&quot;,&quot;QUICKDESCRIPTION&quot;:&quot;    相关链接  国家烟草专卖局关于印发涉案烟草制品价格管理规定的通知                 涉案烟草制品价格管理规定 政策解读 &quot;,&quot;_INDEX&quot;:&quot;cps_new0&quot;,&quot;_TYPE&quot;:&quot;_doc&quot;,&quot;_ID&quot;:&quot;B8F39E42862E282FCD5A1869C2F4DE62&quot;,&quot;WEBSITE&quot;:&quot;www.tobacco.gov.cn&quot;&#125;,&quot;indexDate&quot;:&quot;2021-07-05 12:37:08&quot;,&quot;encodeUrl&quot;:&quot;816D9628B2B6451D752E6EE8E2E94092FDDB37D65E32473A22AB54CCC441042E0D9CD9DD7D6C287A4D2643F7D93F49167FF59D48DE8B2DEEFED96E74DA43B0BB3ADB3FFBEC1E8628A5AB9504D6783C766E5833E95ACFB8C8&quot;,&quot;snapshot&quot;:&quot;&quot;&#125;,&#123;&quot;summary&quot;:&quot;相关链接 保护未成年人免受烟侵害 守护成长 专项行动方案 政策解读 相关链接 国家烟草专卖局 国家市场监管总局关于&quot;,&quot;dreDate&quot;:1624932097000,&quot;dbName&quot;:&quot;cps&quot;,&quot;dreTitle&quot;:&quot;图解：《保护未成年人免受烟侵害“守护成长”专项行动方案》政策解读&quot;,&quot;includeImg&quot;:false,&quot;weight&quot;:null,&quot;docDate&quot;:&quot;2021-06-29&quot;,&quot;title&quot;:&quot;图解：《保护未成年人免受烟侵害“守护成长”专项行动方案》政策解读&quot;,&quot;combins&quot;:0,&quot;domainSiteName&quot;:&quot;中国烟草总公司&quot;,&quot;url&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zmyw/202106/bb6c082ac38443bc9e8b8db6fcbf7f89.shtml&quot;,&quot;domainSite&quot;:&quot;tobacco.gov.cn&quot;,&quot;reference&quot;:&quot;6121A012BD2698C252B9A4168F78389A&quot;,&quot;myValues&quot;:&#123;&quot;INCLUDEIMAGE&quot;:&quot;0&quot;,&quot;DOMAINSITENAME&quot;:&quot;中国烟草总公司&quot;,&quot;SPIDERTIME&quot;:&quot;2021-06-29T02:45:40.059&quot;,&quot;URL&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zmyw/202106/bb6c082ac38443bc9e8b8db6fcbf7f89.shtml&quot;,&quot;C1&quot;:&quot;政府信息公开&quot;,&quot;C2&quot;:&quot;&quot;,&quot;DRETITLEO&quot;:&quot;图解：《保护未成年人免受烟侵害“守护成长”专项行动方案》政策解读&quot;,&quot;C3&quot;:&quot;&quot;,&quot;C4&quot;:&quot;&quot;,&quot;C5&quot;:&quot;&quot;,&quot;C6&quot;:&quot;&quot;,&quot;SUMMARY&quot;:&quot;相关链接  保护未成年人免受烟侵害 守护成长 专项行动方案 政策解读   相关链接 国家烟草专卖局 国家市场监管总局关于&quot;,&quot;C7&quot;:&quot;&quot;,&quot;C8&quot;:&quot;&quot;,&quot;C9&quot;:&quot;&quot;,&quot;DOMAINSITE&quot;:&quot;tobacco.gov.cn&quot;,&quot;WEBSITENAME&quot;:&quot;www.tobacco.gov.cn&quot;,&quot;DREDATE&quot;:&quot;1624932097&quot;,&quot;L1&quot;:&quot;政府信息公开&quot;,&quot;L2&quot;:&quot;法定主动公开内容&quot;,&quot;L3&quot;:&quot;政策解读&quot;,&quot;L4&quot;:&quot;专卖业务&quot;,&quot;L5&quot;:&quot;&quot;,&quot;L6&quot;:&quot;&quot;,&quot;N9&quot;:&quot;1&quot;,&quot;DREDBNAME&quot;:&quot;cps&quot;,&quot;FILETYPE&quot;:&quot;.html&quot;,&quot;L7&quot;:&quot;&quot;,&quot;L8&quot;:&quot;&quot;,&quot;MD5URL&quot;:&quot;C0698BD368F189D3EDA7BFD3A57A26C5&quot;,&quot;L9&quot;:&quot;开普接口同步&quot;,&quot;DRETITLE&quot;:&quot;图解 保护未成年人免受烟侵害 守护成长 专项行动方案 政策解读&quot;,&quot;MD5TITLE&quot;:&quot;C440B225898302466CF9078A7F27D89A&quot;,&quot;QUICKDESCRIPTION&quot;:&quot;      相关链接  保护未成年人免受烟侵害 守护成长 专项行动方案 政策解读   相关链接 国家烟草专卖局 国家市场监管总局关于印发保护未成年人免受烟侵害 守护成长 专项行动方案的通知 &quot;,&quot;_INDEX&quot;:&quot;cps_new0&quot;,&quot;_TYPE&quot;:&quot;_doc&quot;,&quot;_ID&quot;:&quot;6121A012BD2698C252B9A4168F78389A&quot;,&quot;WEBSITE&quot;:&quot;www.tobacco.gov.cn&quot;&#125;,&quot;indexDate&quot;:&quot;2021-06-29 10:01:37&quot;,&quot;encodeUrl&quot;:&quot;816D9628B2B6451D752E6EE8E2E94092FDDB37D65E32473A22AB54CCC441042E29E654EF36AC5EEFDCF30FB9AE09DE8D24D24F9A34728E67B057421018963278E1AC3305CE48020012DDFDB9FD88CD5A6E5833E95ACFB8C8&quot;,&quot;snapshot&quot;:&quot;&quot;&#125;,&#123;&quot;summary&quot;:&quot;一 修订背景 过程和目的 2011年 为贯彻落实 最高人民法院最高人民检察院关于办理非法生产 销售烟草专卖品等刑事案件具&quot;,&quot;dreDate&quot;:1624259104000,&quot;dbName&quot;:&quot;cps&quot;,&quot;dreTitle&quot;:&quot;《涉案烟草制品价格管理规定》政策解读&quot;,&quot;includeImg&quot;:false,&quot;weight&quot;:null,&quot;docDate&quot;:&quot;2021-06-21&quot;,&quot;title&quot;:&quot;《涉案烟草制品价格管理规定》政策解读&quot;,&quot;combins&quot;:0,&quot;domainSiteName&quot;:&quot;中国烟草总公司&quot;,&quot;url&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zhyw/202106/49522d0974f54727aceabc98ba244b2b.shtml&quot;,&quot;domainSite&quot;:&quot;tobacco.gov.cn&quot;,&quot;reference&quot;:&quot;C5541A612CB84ED024376AA3BBAA5277&quot;,&quot;myValues&quot;:&#123;&quot;INCLUDEIMAGE&quot;:&quot;0&quot;,&quot;DOMAINSITENAME&quot;:&quot;中国烟草总公司&quot;,&quot;SPIDERTIME&quot;:&quot;2021-07-05T04:45:40.069&quot;,&quot;URL&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zhyw/202106/49522d0974f54727aceabc98ba244b2b.shtml&quot;,&quot;C1&quot;:&quot;政府信息公开&quot;,&quot;C2&quot;:&quot;&quot;,&quot;DRETITLEO&quot;:&quot;《涉案烟草制品价格管理规定》政策解读&quot;,&quot;C3&quot;:&quot;&quot;,&quot;C4&quot;:&quot;&quot;,&quot;C5&quot;:&quot;&quot;,&quot;C6&quot;:&quot;&quot;,&quot;SUMMARY&quot;:&quot;一 修订背景 过程和目的 2011年 为贯彻落实 最高人民法院最高人民检察院关于办理非法生产 销售烟草专卖品等刑事案件具&quot;,&quot;C7&quot;:&quot;&quot;,&quot;C8&quot;:&quot;&quot;,&quot;C9&quot;:&quot;&quot;,&quot;DOMAINSITE&quot;:&quot;tobacco.gov.cn&quot;,&quot;WEBSITENAME&quot;:&quot;www.tobacco.gov.cn&quot;,&quot;DREDATE&quot;:&quot;1624259104&quot;,&quot;L1&quot;:&quot;政府信息公开&quot;,&quot;L2&quot;:&quot;法定主动公开内容&quot;,&quot;L3&quot;:&quot;政策解读&quot;,&quot;L4&quot;:&quot;综合业务&quot;,&quot;L5&quot;:&quot;&quot;,&quot;L6&quot;:&quot;&quot;,&quot;N9&quot;:&quot;1&quot;,&quot;DREDBNAME&quot;:&quot;cps&quot;,&quot;FILETYPE&quot;:&quot;.html&quot;,&quot;L7&quot;:&quot;&quot;,&quot;L8&quot;:&quot;&quot;,&quot;MD5URL&quot;:&quot;7002C5756236B5DD0F02D62D798148E8&quot;,&quot;L9&quot;:&quot;开普接口同步&quot;,&quot;DRETITLE&quot;:&quot;涉案烟草制品价格管理规定 政策解读&quot;,&quot;MD5TITLE&quot;:&quot;25886DE15FC2C299BD648B6ED4EB7AF6&quot;,&quot;QUICKDESCRIPTION&quot;:&quot; 一 修订背景 过程和目的 2011年 为贯彻落实 最高人民法院最高人民检察院关于办理非法生产 销售烟草专卖品等刑事案件具体应用法律若干问题的解释  法释 2010 7号 要求 国家烟草专卖局印发了 国家烟草专卖局关于印发涉案卷烟价格管理规定的通知  国烟计 2011 73号  提升了涉案卷烟价格管理工作的水平 随着烟草行业发展的变化 在工作实践中存在现行的管理规定无法全面涵盖各种情况 同时部分条款也不够清晰等问题 有必要进行修订完善 通过开展调研和集中座谈 向社会公开征求意见 充分听取 吸纳行&quot;,&quot;_INDEX&quot;:&quot;cps_new0&quot;,&quot;_TYPE&quot;:&quot;_doc&quot;,&quot;_ID&quot;:&quot;C5541A612CB84ED024376AA3BBAA5277&quot;,&quot;WEBSITE&quot;:&quot;www.tobacco.gov.cn&quot;&#125;,&quot;indexDate&quot;:&quot;2021-06-21 15:05:04&quot;,&quot;encodeUrl&quot;:&quot;816D9628B2B6451D752E6EE8E2E94092FDDB37D65E32473A22AB54CCC441042E0D9CD9DD7D6C287A32E51F0BD012ADB53FD65FD6C02468C0D32C633A2B76E33DCD13C032462544EE5E225D74C58E4CAD6E5833E95ACFB8C8&quot;,&quot;snapshot&quot;:&quot;&quot;&#125;,&#123;&quot;summary&quot;:&quot;为贯彻落实新修订的 中华人民共和国未成年人保护法 关于保护未成年人免受烟 含电子烟 下同 侵害的规定 依法保障和维护未成&quot;,&quot;dreDate&quot;:1623984409000,&quot;dbName&quot;:&quot;cps&quot;,&quot;dreTitle&quot;:&quot;《保护未成年人免受烟侵害“守护成长”专项行动方案》政策解读&quot;,&quot;includeImg&quot;:false,&quot;weight&quot;:null,&quot;docDate&quot;:&quot;2021-06-18&quot;,&quot;title&quot;:&quot;《保护未成年人免受烟侵害“守护成长”专项行动方案》政策解读&quot;,&quot;combins&quot;:0,&quot;domainSiteName&quot;:&quot;中国烟草总公司&quot;,&quot;url&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zmyw/202106/47402742590d4e5e9d570894b38d93d8.shtml&quot;,&quot;domainSite&quot;:&quot;tobacco.gov.cn&quot;,&quot;reference&quot;:&quot;C4FC16F3515CB836A83C5E362A4C869B&quot;,&quot;myValues&quot;:&#123;&quot;INCLUDEIMAGE&quot;:&quot;0&quot;,&quot;DOMAINSITENAME&quot;:&quot;中国烟草总公司&quot;,&quot;SPIDERTIME&quot;:&quot;2021-06-29T02:30:40.054&quot;,&quot;URL&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zmyw/202106/47402742590d4e5e9d570894b38d93d8.shtml&quot;,&quot;C1&quot;:&quot;政府信息公开&quot;,&quot;C2&quot;:&quot;&quot;,&quot;DRETITLEO&quot;:&quot;《保护未成年人免受烟侵害“守护成长”专项行动方案》政策解读&quot;,&quot;C3&quot;:&quot;&quot;,&quot;C4&quot;:&quot;&quot;,&quot;C5&quot;:&quot;&quot;,&quot;C6&quot;:&quot;&quot;,&quot;SUMMARY&quot;:&quot;为贯彻落实新修订的 中华人民共和国未成年人保护法 关于保护未成年人免受烟 含电子烟 下同 侵害的规定 依法保障和维护未成&quot;,&quot;C7&quot;:&quot;&quot;,&quot;C8&quot;:&quot;&quot;,&quot;C9&quot;:&quot;&quot;,&quot;DOMAINSITE&quot;:&quot;tobacco.gov.cn&quot;,&quot;WEBSITENAME&quot;:&quot;www.tobacco.gov.cn&quot;,&quot;DREDATE&quot;:&quot;1623984409&quot;,&quot;L1&quot;:&quot;政府信息公开&quot;,&quot;L2&quot;:&quot;法定主动公开内容&quot;,&quot;L3&quot;:&quot;政策解读&quot;,&quot;L4&quot;:&quot;专卖业务&quot;,&quot;L5&quot;:&quot;&quot;,&quot;L6&quot;:&quot;&quot;,&quot;N9&quot;:&quot;1&quot;,&quot;DREDBNAME&quot;:&quot;cps&quot;,&quot;FILETYPE&quot;:&quot;.html&quot;,&quot;L7&quot;:&quot;&quot;,&quot;L8&quot;:&quot;&quot;,&quot;MD5URL&quot;:&quot;A8F96BDC17B46ACB767331CF53EC1430&quot;,&quot;L9&quot;:&quot;开普接口同步&quot;,&quot;DRETITLE&quot;:&quot;保护未成年人免受烟侵害 守护成长 专项行动方案 政策解读&quot;,&quot;MD5TITLE&quot;:&quot;B6A19CDEF5C13FAAAE5E9CF5280C17B8&quot;,&quot;QUICKDESCRIPTION&quot;:&quot; 为贯彻落实新修订的 中华人民共和国未成年人保护法 关于保护未成年人免受烟 含电子烟 下同 侵害的规定 依法保障和维护未成年人身体健康和合法权益 国家烟草专卖局和国家市场监督管理总局决定联合开展保护未成年人免受烟侵害 守护成长 专项行动 并发布了 保护未成年人免受烟侵害 守护成长 专项行动方案  国烟专 2021 89号  就专项行动的总体要求 主要任务 时间安排和工作要求进行了部署 提出了明确要求  一 开展专项行动的背景和目的 党中央 国务院高度重视未成年人保护工作 尤其关注烟对未成年人身心&quot;,&quot;_INDEX&quot;:&quot;cps_new0&quot;,&quot;_TYPE&quot;:&quot;_doc&quot;,&quot;_ID&quot;:&quot;C4FC16F3515CB836A83C5E362A4C869B&quot;,&quot;WEBSITE&quot;:&quot;www.tobacco.gov.cn&quot;&#125;,&quot;indexDate&quot;:&quot;2021-06-18 10:46:49&quot;,&quot;encodeUrl&quot;:&quot;816D9628B2B6451D752E6EE8E2E94092FDDB37D65E32473A22AB54CCC441042E29E654EF36AC5EEF0B5DF92276C560F2DE2DCABBE79E9D732B11513224560F9F49099F430584CE572011B9DF6CD6D65B6E5833E95ACFB8C8&quot;,&quot;snapshot&quot;:&quot;&quot;&#125;,&#123;&quot;summary&quot;:&quot;相关链接 国家烟草专卖局2021年政务公开工作要点&quot;,&quot;dreDate&quot;:1622615267000,&quot;dbName&quot;:&quot;cps&quot;,&quot;dreTitle&quot;:&quot;图解：《国家烟草专卖局2021年政务公开工作要点》&quot;,&quot;includeImg&quot;:false,&quot;weight&quot;:null,&quot;docDate&quot;:&quot;2021-06-02&quot;,&quot;title&quot;:&quot;图解：《国家烟草专卖局2021年政务公开工作要点》&quot;,&quot;combins&quot;:0,&quot;domainSiteName&quot;:&quot;中国烟草总公司&quot;,&quot;url&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zhyw/202106/b3c779abbb4846eea148ce1186ca61da.shtml&quot;,&quot;domainSite&quot;:&quot;tobacco.gov.cn&quot;,&quot;reference&quot;:&quot;F0D77E403013A9DCFB534903E89DC5DE&quot;,&quot;myValues&quot;:&#123;&quot;INCLUDEIMAGE&quot;:&quot;0&quot;,&quot;DOMAINSITENAME&quot;:&quot;中国烟草总公司&quot;,&quot;SPIDERTIME&quot;:&quot;2021-06-24T10:58:39.549&quot;,&quot;URL&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zhyw/202106/b3c779abbb4846eea148ce1186ca61da.shtml&quot;,&quot;C1&quot;:&quot;政府信息公开&quot;,&quot;C2&quot;:&quot;&quot;,&quot;C3&quot;:&quot;&quot;,&quot;DRETITLEO&quot;:&quot;图解：《国家烟草专卖局2021年政务公开工作要点》&quot;,&quot;C4&quot;:&quot;&quot;,&quot;C5&quot;:&quot;&quot;,&quot;C6&quot;:&quot;&quot;,&quot;SUMMARY&quot;:&quot;相关链接  国家烟草专卖局2021年政务公开工作要点&quot;,&quot;C7&quot;:&quot;&quot;,&quot;C8&quot;:&quot;&quot;,&quot;C9&quot;:&quot;&quot;,&quot;DOMAINSITE&quot;:&quot;tobacco.gov.cn&quot;,&quot;WEBSITENAME&quot;:&quot;www.tobacco.gov.cn&quot;,&quot;DREDATE&quot;:&quot;1622615267&quot;,&quot;L1&quot;:&quot;政府信息公开&quot;,&quot;L2&quot;:&quot;法定主动公开内容&quot;,&quot;L3&quot;:&quot;政策解读&quot;,&quot;L4&quot;:&quot;综合业务&quot;,&quot;L5&quot;:&quot;&quot;,&quot;L6&quot;:&quot;&quot;,&quot;DREDBNAME&quot;:&quot;cps&quot;,&quot;FILETYPE&quot;:&quot;.html&quot;,&quot;L7&quot;:&quot;&quot;,&quot;N9&quot;:&quot;1&quot;,&quot;L8&quot;:&quot;&quot;,&quot;MD5URL&quot;:&quot;FFA8E61BF4EBCF8F48A4DFC849D33454&quot;,&quot;L9&quot;:&quot;开普接口同步&quot;,&quot;DRETITLE&quot;:&quot;图解 国家烟草专卖局2021年政务公开工作要点&quot;,&quot;MD5TITLE&quot;:&quot;B157D8F349E113F9D5F4A4F20CDC616A&quot;,&quot;QUICKDESCRIPTION&quot;:&quot;    相关链接  国家烟草专卖局2021年政务公开工作要点 &quot;,&quot;_INDEX&quot;:&quot;cps_new0&quot;,&quot;_TYPE&quot;:&quot;_doc&quot;,&quot;_ID&quot;:&quot;F0D77E403013A9DCFB534903E89DC5DE&quot;,&quot;WEBSITE&quot;:&quot;www.tobacco.gov.cn&quot;&#125;,&quot;indexDate&quot;:&quot;2021-06-02 14:27:47&quot;,&quot;encodeUrl&quot;:&quot;816D9628B2B6451D752E6EE8E2E94092FDDB37D65E32473A22AB54CCC441042E0D9CD9DD7D6C287A8CE6DB033156C9BD0224CD11F0C2D97E95B04CD2BC9939187A8577F81E0C121D246FBD8609E652C76E5833E95ACFB8C8&quot;,&quot;snapshot&quot;:&quot;&quot;&#125;,&#123;&quot;summary&quot;:&quot;相关链接 国家烟草专卖局关于印发政府信息公开工作办法的通知 国家烟草专卖局政府信息公开办法 解读说明&quot;,&quot;dreDate&quot;:1620887499000,&quot;dbName&quot;:&quot;cps&quot;,&quot;dreTitle&quot;:&quot;图解：《国家烟草专卖局政府信息公开办法》解读说明&quot;,&quot;includeImg&quot;:false,&quot;weight&quot;:null,&quot;docDate&quot;:&quot;2021-05-13&quot;,&quot;title&quot;:&quot;图解：《国家烟草专卖局政府信息公开办法》解读说明&quot;,&quot;combins&quot;:0,&quot;domainSiteName&quot;:&quot;中国烟草总公司&quot;,&quot;url&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zhyw/202105/982c1e243ac74e8d93ff8433c286aa28.shtml&quot;,&quot;domainSite&quot;:&quot;tobacco.gov.cn&quot;,&quot;reference&quot;:&quot;B5B2AF9A5F591B806C10CB6CC7F87AD6&quot;,&quot;myValues&quot;:&#123;&quot;INCLUDEIMAGE&quot;:&quot;0&quot;,&quot;DOMAINSITENAME&quot;:&quot;中国烟草总公司&quot;,&quot;SPIDERTIME&quot;:&quot;2021-06-24T10:58:39.395&quot;,&quot;URL&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zhyw/202105/982c1e243ac74e8d93ff8433c286aa28.shtml&quot;,&quot;C1&quot;:&quot;政府信息公开&quot;,&quot;C2&quot;:&quot;&quot;,&quot;C3&quot;:&quot;&quot;,&quot;DRETITLEO&quot;:&quot;图解：《国家烟草专卖局政府信息公开办法》解读说明&quot;,&quot;C4&quot;:&quot;&quot;,&quot;C5&quot;:&quot;&quot;,&quot;C6&quot;:&quot;&quot;,&quot;SUMMARY&quot;:&quot;相关链接 国家烟草专卖局关于印发政府信息公开工作办法的通知         国家烟草专卖局政府信息公开办法 解读说明&quot;,&quot;C7&quot;:&quot;&quot;,&quot;C8&quot;:&quot;&quot;,&quot;C9&quot;:&quot;&quot;,&quot;DOMAINSITE&quot;:&quot;tobacco.gov.cn&quot;,&quot;WEBSITENAME&quot;:&quot;www.tobacco.gov.cn&quot;,&quot;DREDATE&quot;:&quot;1620887499&quot;,&quot;L1&quot;:&quot;政府信息公开&quot;,&quot;L2&quot;:&quot;法定主动公开内容&quot;,&quot;L3&quot;:&quot;政策解读&quot;,&quot;L4&quot;:&quot;综合业务&quot;,&quot;L5&quot;:&quot;&quot;,&quot;L6&quot;:&quot;&quot;,&quot;DREDBNAME&quot;:&quot;cps&quot;,&quot;FILETYPE&quot;:&quot;.html&quot;,&quot;L7&quot;:&quot;&quot;,&quot;N9&quot;:&quot;1&quot;,&quot;L8&quot;:&quot;&quot;,&quot;MD5URL&quot;:&quot;D8C41078776891CD8F9618E8D744D84E&quot;,&quot;L9&quot;:&quot;开普接口同步&quot;,&quot;DRETITLE&quot;:&quot;图解 国家烟草专卖局政府信息公开办法 解读说明&quot;,&quot;MD5TITLE&quot;:&quot;1D83886A4B409229532D25315E5B8F96&quot;,&quot;QUICKDESCRIPTION&quot;:&quot;    相关链接 国家烟草专卖局关于印发政府信息公开工作办法的通知         国家烟草专卖局政府信息公开办法 解读说明&quot;,&quot;_INDEX&quot;:&quot;cps_new0&quot;,&quot;_TYPE&quot;:&quot;_doc&quot;,&quot;_ID&quot;:&quot;B5B2AF9A5F591B806C10CB6CC7F87AD6&quot;,&quot;WEBSITE&quot;:&quot;www.tobacco.gov.cn&quot;&#125;,&quot;indexDate&quot;:&quot;2021-05-13 14:31:39&quot;,&quot;encodeUrl&quot;:&quot;816D9628B2B6451D752E6EE8E2E94092FDDB37D65E32473A22AB54CCC441042E0D9CD9DD7D6C287A848ACD56F03E88B6D0338752E0E6073C30CAAB2420459C2F009F84B28CC2059BF21D3E3EE050FF5E6E5833E95ACFB8C8&quot;,&quot;snapshot&quot;:&quot;&quot;&#125;]&#125;&#125;&#x27;</span></span><br><span class="line">res = json.json(jsonstr, <span class="string">&#x27;$..url&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(res)</span><br></pre></td></tr></table></figure><p>其实就两步，第一导入<code>jsonpath</code>，然后使用<code>jsonpath.jsonpath()</code>解析</p><p>但是这里需要注意上面代码中的<code>jsonstr</code>，是需要经过转换的，它这里只接受字典对象，而不接受字符串对象，<code>json</code>是字符串，我们需要用<code>json.loads()</code>把<code>json</code>这个字符串对象转化为<code>Python</code>字典对象，但是我在测试的时候又发现一点错误，如下所示:<br><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220117/Snipaste_2022-01-18_16-48-50.2eb1pzbzzwcg.webp"                      alt="Snipaste_2022-01-18_16-48-50"                ></p><p>这个报错我搜索了下，说是需要在代码的最开头加入以下代码:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br></pre></td></tr></table></figure><p>加上这个表示这个.py文件由utf-8编码，可是编辑器默认的编码就是utf-8，不管了，反正遇到这个报错就加上即可;</p><p>完整代码如下:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> jsonpath</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line">jsonstr = <span class="string">&#x27;&#123;&quot;ok&quot;:true,&quot;code&quot;:200,&quot;msg&quot;:null,&quot;data&quot;:&#123;&quot;totalHits&quot;:92,&quot;resultList&quot;:[&#123;&quot;summary&quot;:&quot;相关链接 国家烟草专卖局关于印发深化 证照分离 改革进一步激发市场主体发展活力实施方案的通知 国家烟草专卖&quot;,&quot;dreDate&quot;:1638251577000,&quot;dbName&quot;:&quot;cps&quot;,&quot;dreTitle&quot;:&quot;图解：《国家烟草专卖局关于印发深化“证照分离”改革进一步激发市场主体发展活力实施方案的通知》政策解读&quot;,&quot;includeImg&quot;:false,&quot;weight&quot;:null,&quot;docDate&quot;:&quot;2021-11-30&quot;,&quot;title&quot;:&quot;图解：《国家烟草专卖局关于印发深化“证照分离”改革进一步激发市场主体发展活力实施方案的通知》政策解读&quot;,&quot;combins&quot;:0,&quot;domainSiteName&quot;:&quot;中国烟草总公司&quot;,&quot;url&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zmyw/202111/00fd8aac999443c2963d2714c10c26b2.shtml&quot;,&quot;domainSite&quot;:&quot;tobacco.gov.cn&quot;,&quot;reference&quot;:&quot;D69C44FE5971BE1672E2BDE4BA9562BC&quot;,&quot;myValues&quot;:&#123;&quot;INCLUDEIMAGE&quot;:&quot;0&quot;,&quot;DOMAINSITENAME&quot;:&quot;中国烟草总公司&quot;,&quot;SPIDERTIME&quot;:&quot;2021-11-30T06:02:40.050&quot;,&quot;URL&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zmyw/202111/00fd8aac999443c2963d2714c10c26b2.shtml&quot;,&quot;C1&quot;:&quot;政府信息公开&quot;,&quot;C2&quot;:&quot;&quot;,&quot;DRETITLEO&quot;:&quot;图解：《国家烟草专卖局关于印发深化“证照分离”改革进一步激发市场主体发展活力实施方案的通知》政策解读&quot;,&quot;C3&quot;:&quot;&quot;,&quot;C4&quot;:&quot;&quot;,&quot;C5&quot;:&quot;&quot;,&quot;C6&quot;:&quot;&quot;,&quot;SUMMARY&quot;:&quot;相关链接 国家烟草专卖局关于印发深化 证照分离 改革进一步激发市场主体发展活力实施方案的通知        国家烟草专卖&quot;,&quot;C7&quot;:&quot;&quot;,&quot;C8&quot;:&quot;&quot;,&quot;C9&quot;:&quot;&quot;,&quot;DOMAINSITE&quot;:&quot;tobacco.gov.cn&quot;,&quot;WEBSITENAME&quot;:&quot;www.tobacco.gov.cn&quot;,&quot;DREDATE&quot;:&quot;1638251577&quot;,&quot;L1&quot;:&quot;政府信息公开&quot;,&quot;L2&quot;:&quot;法定主动公开内容&quot;,&quot;L3&quot;:&quot;政策解读&quot;,&quot;L4&quot;:&quot;专卖业务&quot;,&quot;L5&quot;:&quot;&quot;,&quot;L6&quot;:&quot;&quot;,&quot;N9&quot;:&quot;1&quot;,&quot;DREDBNAME&quot;:&quot;cps&quot;,&quot;FILETYPE&quot;:&quot;.html&quot;,&quot;L7&quot;:&quot;&quot;,&quot;L8&quot;:&quot;&quot;,&quot;MD5URL&quot;:&quot;E43D6D583F742C59F73173EA305E0B8D&quot;,&quot;L9&quot;:&quot;开普接口同步&quot;,&quot;DRETITLE&quot;:&quot;图解 国家烟草专卖局关于印发深化 证照分离 改革进一步激发市场主体发展活力实施方案的通知 政策解读&quot;,&quot;MD5TITLE&quot;:&quot;F1DEDFBA3D25A848EFAA312948A6E771&quot;,&quot;QUICKDESCRIPTION&quot;:&quot;   相关链接 国家烟草专卖局关于印发深化 证照分离 改革进一步激发市场主体发展活力实施方案的通知        国家烟草专卖局关于印发深化 证照分离 改革进一步激发市场主体发展活力实施方案的通知 政策解读&quot;,&quot;_INDEX&quot;:&quot;cps_new0&quot;,&quot;_TYPE&quot;:&quot;_doc&quot;,&quot;_ID&quot;:&quot;D69C44FE5971BE1672E2BDE4BA9562BC&quot;,&quot;WEBSITE&quot;:&quot;www.tobacco.gov.cn&quot;&#125;,&quot;indexDate&quot;:&quot;2021-11-30 13:52:57&quot;,&quot;encodeUrl&quot;:&quot;816D9628B2B6451D752E6EE8E2E94092FDDB37D65E32473A22AB54CCC441042E29E654EF36AC5EEFFF56BD21DF28EFF7BBA4B400CF734F62934AE927F760C40E902559609C9965735295CA877351025F6E5833E95ACFB8C8&quot;,&quot;snapshot&quot;:&quot;&quot;&#125;,&#123;&quot;summary&quot;:&quot;一 背景依据 今年5月 国务院印发了 关于深化 证照分离 改革进一步激发市场主体发展活力的通知 国发 2021 7号&quot;,&quot;dreDate&quot;:1637803246000,&quot;dbName&quot;:&quot;cps&quot;,&quot;dreTitle&quot;:&quot;《国家烟草专卖局关于印发深化“证照分离”改革进一步激发市场主体发展活力实施方案的通知》政策解读&quot;,&quot;includeImg&quot;:false,&quot;weight&quot;:null,&quot;docDate&quot;:&quot;2021-11-25&quot;,&quot;title&quot;:&quot;《国家烟草专卖局关于印发深化“证照分离”改革进一步激发市场主体发展活力实施方案的通知》政策解读&quot;,&quot;combins&quot;:0,&quot;domainSiteName&quot;:&quot;中国烟草总公司&quot;,&quot;url&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zmyw/202111/6b0064505b89450b8c965781ba24d1dd.shtml&quot;,&quot;domainSite&quot;:&quot;tobacco.gov.cn&quot;,&quot;reference&quot;:&quot;C4B055582B5865A17CEABA4703757497&quot;,&quot;myValues&quot;:&#123;&quot;INCLUDEIMAGE&quot;:&quot;0&quot;,&quot;DOMAINSITENAME&quot;:&quot;中国烟草总公司&quot;,&quot;SPIDERTIME&quot;:&quot;2021-11-30T06:02:40.057&quot;,&quot;URL&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zmyw/202111/6b0064505b89450b8c965781ba24d1dd.shtml&quot;,&quot;C1&quot;:&quot;政府信息公开&quot;,&quot;C2&quot;:&quot;&quot;,&quot;DRETITLEO&quot;:&quot;《国家烟草专卖局关于印发深化“证照分离”改革进一步激发市场主体发展活力实施方案的通知》政策解读&quot;,&quot;C3&quot;:&quot;&quot;,&quot;C4&quot;:&quot;&quot;,&quot;C5&quot;:&quot;&quot;,&quot;C6&quot;:&quot;&quot;,&quot;SUMMARY&quot;:&quot;一 背景依据  今年5月 国务院印发了 关于深化 证照分离 改革进一步激发市场主体发展活力的通知  国发 2021 7号&quot;,&quot;C7&quot;:&quot;&quot;,&quot;C8&quot;:&quot;&quot;,&quot;C9&quot;:&quot;&quot;,&quot;DOMAINSITE&quot;:&quot;tobacco.gov.cn&quot;,&quot;WEBSITENAME&quot;:&quot;www.tobacco.gov.cn&quot;,&quot;DREDATE&quot;:&quot;1637803246&quot;,&quot;L1&quot;:&quot;政府信息公开&quot;,&quot;L2&quot;:&quot;法定主动公开内容&quot;,&quot;L3&quot;:&quot;政策解读&quot;,&quot;L4&quot;:&quot;专卖业务&quot;,&quot;L5&quot;:&quot;&quot;,&quot;L6&quot;:&quot;&quot;,&quot;N9&quot;:&quot;1&quot;,&quot;DREDBNAME&quot;:&quot;cps&quot;,&quot;FILETYPE&quot;:&quot;.html&quot;,&quot;L7&quot;:&quot;&quot;,&quot;L8&quot;:&quot;&quot;,&quot;MD5URL&quot;:&quot;D68F3CF9C6B9B7E6EF504BE93A98B68A&quot;,&quot;L9&quot;:&quot;开普接口同步&quot;,&quot;DRETITLE&quot;:&quot;国家烟草专卖局关于印发深化 证照分离 改革进一步激发市场主体发展活力实施方案的通知 政策解读&quot;,&quot;MD5TITLE&quot;:&quot;9093B824D4212053CA21B413450F4E30&quot;,&quot;QUICKDESCRIPTION&quot;:&quot;一 背景依据  今年5月 国务院印发了 关于深化 证照分离 改革进一步激发市场主体发展活力的通知  国发 2021 7号 以下简称 通知   明确了 证照分离 改革的主要目标 基本内容 配套措施 并对如何创新和加强事中事后监管等提出了要求 按照 通知 要求 国务院有关部门要制定实施方案 对中央层面设定的涉企经营许可事项逐项细化改革举措 并向社会公布 根据上述要求 我们结合烟草行业实际 制定印发了 深化 证照分离 改革进一步激发市场主体发展活力实施方案  以下简称 实施方案    二  实施方案 &quot;,&quot;_INDEX&quot;:&quot;cps_new0&quot;,&quot;_TYPE&quot;:&quot;_doc&quot;,&quot;_ID&quot;:&quot;C4B055582B5865A17CEABA4703757497&quot;,&quot;WEBSITE&quot;:&quot;www.tobacco.gov.cn&quot;&#125;,&quot;indexDate&quot;:&quot;2021-11-25 09:20:46&quot;,&quot;encodeUrl&quot;:&quot;816D9628B2B6451D752E6EE8E2E94092FDDB37D65E32473A22AB54CCC441042E29E654EF36AC5EEF1E2CD4BBE7A913209BC2F508952E92BD99DEAF78EA8C4AEC55DF4C4FE058EF85F016BE7F7F856C8F6E5833E95ACFB8C8&quot;,&quot;snapshot&quot;:&quot;&quot;&#125;,&#123;&quot;summary&quot;:&quot;相关链接 国家烟草专卖局关于印发 新时代国家烟草专卖局对口支援兴国县实施方案 的通知 国家烟草专卖局关于&quot;,&quot;dreDate&quot;:1631779320000,&quot;dbName&quot;:&quot;cps&quot;,&quot;dreTitle&quot;:&quot;图解：《国家烟草专卖局关于印发＜新时代国家烟草专卖局对口支援兴国县实施方案＞的通知》的政策解读&quot;,&quot;includeImg&quot;:false,&quot;weight&quot;:null,&quot;docDate&quot;:&quot;2021-09-16&quot;,&quot;title&quot;:&quot;图解：《国家烟草专卖局关于印发＜新时代国家烟草专卖局对口支援兴国县实施方案＞的通知》的政策解读&quot;,&quot;combins&quot;:0,&quot;domainSiteName&quot;:&quot;中国烟草总公司&quot;,&quot;url&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zhyw/202109/1c6b919c5e3e4a508dda8e07df480eb8.shtml&quot;,&quot;domainSite&quot;:&quot;tobacco.gov.cn&quot;,&quot;reference&quot;:&quot;3A6748BC7FAFEB972C7748DFAC3312AD&quot;,&quot;myValues&quot;:&#123;&quot;INCLUDEIMAGE&quot;:&quot;0&quot;,&quot;DOMAINSITENAME&quot;:&quot;中国烟草总公司&quot;,&quot;SPIDERTIME&quot;:&quot;2021-09-28T01:32:00.007&quot;,&quot;URL&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zhyw/202109/1c6b919c5e3e4a508dda8e07df480eb8.shtml&quot;,&quot;C1&quot;:&quot;政府信息公开&quot;,&quot;C2&quot;:&quot;&quot;,&quot;DRETITLEO&quot;:&quot;图解：《国家烟草专卖局关于印发＜新时代国家烟草专卖局对口支援兴国县实施方案＞的通知》的政策解读&quot;,&quot;C3&quot;:&quot;&quot;,&quot;C4&quot;:&quot;&quot;,&quot;C5&quot;:&quot;&quot;,&quot;C6&quot;:&quot;&quot;,&quot;SUMMARY&quot;:&quot;相关链接 国家烟草专卖局关于印发 新时代国家烟草专卖局对口支援兴国县实施方案 的通知         国家烟草专卖局关于&quot;,&quot;C7&quot;:&quot;&quot;,&quot;C8&quot;:&quot;&quot;,&quot;C9&quot;:&quot;&quot;,&quot;DOMAINSITE&quot;:&quot;tobacco.gov.cn&quot;,&quot;WEBSITENAME&quot;:&quot;www.tobacco.gov.cn&quot;,&quot;DREDATE&quot;:&quot;1631779320&quot;,&quot;L1&quot;:&quot;政府信息公开&quot;,&quot;L2&quot;:&quot;法定主动公开内容&quot;,&quot;L3&quot;:&quot;政策解读&quot;,&quot;L4&quot;:&quot;综合业务&quot;,&quot;L5&quot;:&quot;&quot;,&quot;L6&quot;:&quot;&quot;,&quot;N9&quot;:&quot;1&quot;,&quot;DREDBNAME&quot;:&quot;cps&quot;,&quot;FILETYPE&quot;:&quot;.html&quot;,&quot;L7&quot;:&quot;&quot;,&quot;L8&quot;:&quot;&quot;,&quot;MD5URL&quot;:&quot;0852298E65D012FECB8DB7E323453781&quot;,&quot;L9&quot;:&quot;开普接口同步&quot;,&quot;DRETITLE&quot;:&quot;图解 国家烟草专卖局关于印发＜新时代国家烟草专卖局对口支援兴国县实施方案＞的通知 的政策解读&quot;,&quot;MD5TITLE&quot;:&quot;F2FCA05339837A57685F3687C7A643DE&quot;,&quot;QUICKDESCRIPTION&quot;:&quot;      相关链接 国家烟草专卖局关于印发 新时代国家烟草专卖局对口支援兴国县实施方案 的通知         国家烟草专卖局关于印发的通知 的政策解读    &quot;,&quot;_INDEX&quot;:&quot;cps_new0&quot;,&quot;_TYPE&quot;:&quot;_doc&quot;,&quot;_ID&quot;:&quot;3A6748BC7FAFEB972C7748DFAC3312AD&quot;,&quot;WEBSITE&quot;:&quot;www.tobacco.gov.cn&quot;&#125;,&quot;indexDate&quot;:&quot;2021-09-16 16:02:00&quot;,&quot;encodeUrl&quot;:&quot;816D9628B2B6451D752E6EE8E2E94092FDDB37D65E32473A22AB54CCC441042E0D9CD9DD7D6C287A8A32719516DE22DD9E0C33F4BC6BCA48459DFF88F7A6F1D99BA5617CB7EA9E0AF69BCAA7D2CF59616E5833E95ACFB8C8&quot;,&quot;snapshot&quot;:&quot;&quot;&#125;,&#123;&quot;summary&quot;:&quot;一 国家烟草专卖局关于印发的通知 背景是什么 答 2020年 革命老区兴国县在国家烟草专卖局的助力下 成功脱贫摘帽并&quot;,&quot;dreDate&quot;:1630890520000,&quot;dbName&quot;:&quot;cps&quot;,&quot;dreTitle&quot;:&quot;《国家烟草专卖局关于印发＜新时代国家烟草专卖局对口支援兴国县实施方案＞的通知》的政策解读&quot;,&quot;includeImg&quot;:false,&quot;weight&quot;:null,&quot;docDate&quot;:&quot;2021-09-06&quot;,&quot;title&quot;:&quot;《国家烟草专卖局关于印发＜新时代国家烟草专卖局对口支援兴国县实施方案＞的通知》的政策解读&quot;,&quot;combins&quot;:0,&quot;domainSiteName&quot;:&quot;中国烟草总公司&quot;,&quot;url&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zhyw/202109/df15e15f738b4c6bb108690f1eebc6ba.shtml&quot;,&quot;domainSite&quot;:&quot;tobacco.gov.cn&quot;,&quot;reference&quot;:&quot;436700871BF74E853A04248AB5167423&quot;,&quot;myValues&quot;:&#123;&quot;INCLUDEIMAGE&quot;:&quot;0&quot;,&quot;DOMAINSITENAME&quot;:&quot;中国烟草总公司&quot;,&quot;SPIDERTIME&quot;:&quot;2021-09-28T01:17:00.010&quot;,&quot;URL&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zhyw/202109/df15e15f738b4c6bb108690f1eebc6ba.shtml&quot;,&quot;C1&quot;:&quot;政府信息公开&quot;,&quot;C2&quot;:&quot;&quot;,&quot;DRETITLEO&quot;:&quot;《国家烟草专卖局关于印发＜新时代国家烟草专卖局对口支援兴国县实施方案＞的通知》的政策解读&quot;,&quot;C3&quot;:&quot;&quot;,&quot;C4&quot;:&quot;&quot;,&quot;C5&quot;:&quot;&quot;,&quot;C6&quot;:&quot;&quot;,&quot;SUMMARY&quot;:&quot;一  国家烟草专卖局关于印发的通知 背景是什么  答 2020年 革命老区兴国县在国家烟草专卖局的助力下 成功脱贫摘帽并&quot;,&quot;C7&quot;:&quot;&quot;,&quot;C8&quot;:&quot;&quot;,&quot;C9&quot;:&quot;&quot;,&quot;DOMAINSITE&quot;:&quot;tobacco.gov.cn&quot;,&quot;WEBSITENAME&quot;:&quot;www.tobacco.gov.cn&quot;,&quot;DREDATE&quot;:&quot;1630890520&quot;,&quot;L1&quot;:&quot;政府信息公开&quot;,&quot;L2&quot;:&quot;法定主动公开内容&quot;,&quot;L3&quot;:&quot;政策解读&quot;,&quot;L4&quot;:&quot;综合业务&quot;,&quot;L5&quot;:&quot;&quot;,&quot;L6&quot;:&quot;&quot;,&quot;N9&quot;:&quot;1&quot;,&quot;DREDBNAME&quot;:&quot;cps&quot;,&quot;FILETYPE&quot;:&quot;.html&quot;,&quot;L7&quot;:&quot;&quot;,&quot;L8&quot;:&quot;&quot;,&quot;MD5URL&quot;:&quot;5B80A8582470AD3838DE267467BF3FF5&quot;,&quot;L9&quot;:&quot;开普接口同步&quot;,&quot;DRETITLE&quot;:&quot;国家烟草专卖局关于印发＜新时代国家烟草专卖局对口支援兴国县实施方案＞的通知 的政策解读&quot;,&quot;MD5TITLE&quot;:&quot;B9B077DAC99F25BDC32271D874861AC6&quot;,&quot;QUICKDESCRIPTION&quot;:&quot;  一  国家烟草专卖局关于印发的通知 背景是什么  答 2020年 革命老区兴国县在国家烟草专卖局的助力下 成功脱贫摘帽并迈入了小康社会 正扬帆启航 向第二个百年奋斗目标进军 革命老区是党和人民军队的根 是中国人民选择中国共产党的历史见证 兴国县是赣南等原中央苏区核心区域 位于多省交界地区 为中国革命作出了巨大贡献和牺牲 目前仍属于欠发达地区 全面建设社会主义现代化国家 实现中华民族伟大复兴 最艰巨最繁重的任务依然在农村 最广泛最深厚的基础依然在农村  对口支援是党中央 国务院确定的乡村振兴重&quot;,&quot;_INDEX&quot;:&quot;cps_new0&quot;,&quot;_TYPE&quot;:&quot;_doc&quot;,&quot;_ID&quot;:&quot;436700871BF74E853A04248AB5167423&quot;,&quot;WEBSITE&quot;:&quot;www.tobacco.gov.cn&quot;&#125;,&quot;indexDate&quot;:&quot;2021-09-06 09:08:40&quot;,&quot;encodeUrl&quot;:&quot;816D9628B2B6451D752E6EE8E2E94092FDDB37D65E32473A22AB54CCC441042E0D9CD9DD7D6C287A01BDE8575BB794709865B07DFDD9B03BCFD688859E397CDDA36164114DBD3FF13C9D6C4CD5F466176E5833E95ACFB8C8&quot;,&quot;snapshot&quot;:&quot;&quot;&#125;,&#123;&quot;summary&quot;:&quot;相关链接 国家烟草专卖局关于印发涉案烟草制品价格管理规定的通知 涉案烟草制品价格管理规&quot;,&quot;dreDate&quot;:1625459828000,&quot;dbName&quot;:&quot;cps&quot;,&quot;dreTitle&quot;:&quot;图解：《涉案烟草制品价格管理规定》政策解读&quot;,&quot;includeImg&quot;:false,&quot;weight&quot;:null,&quot;docDate&quot;:&quot;2021-07-05&quot;,&quot;title&quot;:&quot;图解：《涉案烟草制品价格管理规定》政策解读&quot;,&quot;combins&quot;:0,&quot;domainSiteName&quot;:&quot;中国烟草总公司&quot;,&quot;url&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zhyw/202107/6feaebb9c9804b12831f963c8f351265.shtml&quot;,&quot;domainSite&quot;:&quot;tobacco.gov.cn&quot;,&quot;reference&quot;:&quot;B8F39E42862E282FCD5A1869C2F4DE62&quot;,&quot;myValues&quot;:&#123;&quot;INCLUDEIMAGE&quot;:&quot;0&quot;,&quot;DOMAINSITENAME&quot;:&quot;中国烟草总公司&quot;,&quot;SPIDERTIME&quot;:&quot;2021-07-05T04:45:00.044&quot;,&quot;URL&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zhyw/202107/6feaebb9c9804b12831f963c8f351265.shtml&quot;,&quot;C1&quot;:&quot;政府信息公开&quot;,&quot;C2&quot;:&quot;&quot;,&quot;DRETITLEO&quot;:&quot;图解：《涉案烟草制品价格管理规定》政策解读&quot;,&quot;C3&quot;:&quot;&quot;,&quot;C4&quot;:&quot;&quot;,&quot;C5&quot;:&quot;&quot;,&quot;C6&quot;:&quot;&quot;,&quot;SUMMARY&quot;:&quot;相关链接  国家烟草专卖局关于印发涉案烟草制品价格管理规定的通知                 涉案烟草制品价格管理规&quot;,&quot;C7&quot;:&quot;&quot;,&quot;C8&quot;:&quot;&quot;,&quot;C9&quot;:&quot;&quot;,&quot;DOMAINSITE&quot;:&quot;tobacco.gov.cn&quot;,&quot;WEBSITENAME&quot;:&quot;www.tobacco.gov.cn&quot;,&quot;DREDATE&quot;:&quot;1625459828&quot;,&quot;L1&quot;:&quot;政府信息公开&quot;,&quot;L2&quot;:&quot;法定主动公开内容&quot;,&quot;L3&quot;:&quot;政策解读&quot;,&quot;L4&quot;:&quot;综合业务&quot;,&quot;L5&quot;:&quot;&quot;,&quot;L6&quot;:&quot;&quot;,&quot;N9&quot;:&quot;1&quot;,&quot;DREDBNAME&quot;:&quot;cps&quot;,&quot;FILETYPE&quot;:&quot;.html&quot;,&quot;L7&quot;:&quot;&quot;,&quot;L8&quot;:&quot;&quot;,&quot;MD5URL&quot;:&quot;D1F434D44B1CD8A2F863E9A40096E0A9&quot;,&quot;L9&quot;:&quot;开普接口同步&quot;,&quot;DRETITLE&quot;:&quot;图解 涉案烟草制品价格管理规定 政策解读&quot;,&quot;MD5TITLE&quot;:&quot;F11D3EB1CBD11B69B1269442A11CB467&quot;,&quot;QUICKDESCRIPTION&quot;:&quot;    相关链接  国家烟草专卖局关于印发涉案烟草制品价格管理规定的通知                 涉案烟草制品价格管理规定 政策解读 &quot;,&quot;_INDEX&quot;:&quot;cps_new0&quot;,&quot;_TYPE&quot;:&quot;_doc&quot;,&quot;_ID&quot;:&quot;B8F39E42862E282FCD5A1869C2F4DE62&quot;,&quot;WEBSITE&quot;:&quot;www.tobacco.gov.cn&quot;&#125;,&quot;indexDate&quot;:&quot;2021-07-05 12:37:08&quot;,&quot;encodeUrl&quot;:&quot;816D9628B2B6451D752E6EE8E2E94092FDDB37D65E32473A22AB54CCC441042E0D9CD9DD7D6C287A4D2643F7D93F49167FF59D48DE8B2DEEFED96E74DA43B0BB3ADB3FFBEC1E8628A5AB9504D6783C766E5833E95ACFB8C8&quot;,&quot;snapshot&quot;:&quot;&quot;&#125;,&#123;&quot;summary&quot;:&quot;相关链接 保护未成年人免受烟侵害 守护成长 专项行动方案 政策解读 相关链接 国家烟草专卖局 国家市场监管总局关于&quot;,&quot;dreDate&quot;:1624932097000,&quot;dbName&quot;:&quot;cps&quot;,&quot;dreTitle&quot;:&quot;图解：《保护未成年人免受烟侵害“守护成长”专项行动方案》政策解读&quot;,&quot;includeImg&quot;:false,&quot;weight&quot;:null,&quot;docDate&quot;:&quot;2021-06-29&quot;,&quot;title&quot;:&quot;图解：《保护未成年人免受烟侵害“守护成长”专项行动方案》政策解读&quot;,&quot;combins&quot;:0,&quot;domainSiteName&quot;:&quot;中国烟草总公司&quot;,&quot;url&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zmyw/202106/bb6c082ac38443bc9e8b8db6fcbf7f89.shtml&quot;,&quot;domainSite&quot;:&quot;tobacco.gov.cn&quot;,&quot;reference&quot;:&quot;6121A012BD2698C252B9A4168F78389A&quot;,&quot;myValues&quot;:&#123;&quot;INCLUDEIMAGE&quot;:&quot;0&quot;,&quot;DOMAINSITENAME&quot;:&quot;中国烟草总公司&quot;,&quot;SPIDERTIME&quot;:&quot;2021-06-29T02:45:40.059&quot;,&quot;URL&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zmyw/202106/bb6c082ac38443bc9e8b8db6fcbf7f89.shtml&quot;,&quot;C1&quot;:&quot;政府信息公开&quot;,&quot;C2&quot;:&quot;&quot;,&quot;DRETITLEO&quot;:&quot;图解：《保护未成年人免受烟侵害“守护成长”专项行动方案》政策解读&quot;,&quot;C3&quot;:&quot;&quot;,&quot;C4&quot;:&quot;&quot;,&quot;C5&quot;:&quot;&quot;,&quot;C6&quot;:&quot;&quot;,&quot;SUMMARY&quot;:&quot;相关链接  保护未成年人免受烟侵害 守护成长 专项行动方案 政策解读   相关链接 国家烟草专卖局 国家市场监管总局关于&quot;,&quot;C7&quot;:&quot;&quot;,&quot;C8&quot;:&quot;&quot;,&quot;C9&quot;:&quot;&quot;,&quot;DOMAINSITE&quot;:&quot;tobacco.gov.cn&quot;,&quot;WEBSITENAME&quot;:&quot;www.tobacco.gov.cn&quot;,&quot;DREDATE&quot;:&quot;1624932097&quot;,&quot;L1&quot;:&quot;政府信息公开&quot;,&quot;L2&quot;:&quot;法定主动公开内容&quot;,&quot;L3&quot;:&quot;政策解读&quot;,&quot;L4&quot;:&quot;专卖业务&quot;,&quot;L5&quot;:&quot;&quot;,&quot;L6&quot;:&quot;&quot;,&quot;N9&quot;:&quot;1&quot;,&quot;DREDBNAME&quot;:&quot;cps&quot;,&quot;FILETYPE&quot;:&quot;.html&quot;,&quot;L7&quot;:&quot;&quot;,&quot;L8&quot;:&quot;&quot;,&quot;MD5URL&quot;:&quot;C0698BD368F189D3EDA7BFD3A57A26C5&quot;,&quot;L9&quot;:&quot;开普接口同步&quot;,&quot;DRETITLE&quot;:&quot;图解 保护未成年人免受烟侵害 守护成长 专项行动方案 政策解读&quot;,&quot;MD5TITLE&quot;:&quot;C440B225898302466CF9078A7F27D89A&quot;,&quot;QUICKDESCRIPTION&quot;:&quot;      相关链接  保护未成年人免受烟侵害 守护成长 专项行动方案 政策解读   相关链接 国家烟草专卖局 国家市场监管总局关于印发保护未成年人免受烟侵害 守护成长 专项行动方案的通知 &quot;,&quot;_INDEX&quot;:&quot;cps_new0&quot;,&quot;_TYPE&quot;:&quot;_doc&quot;,&quot;_ID&quot;:&quot;6121A012BD2698C252B9A4168F78389A&quot;,&quot;WEBSITE&quot;:&quot;www.tobacco.gov.cn&quot;&#125;,&quot;indexDate&quot;:&quot;2021-06-29 10:01:37&quot;,&quot;encodeUrl&quot;:&quot;816D9628B2B6451D752E6EE8E2E94092FDDB37D65E32473A22AB54CCC441042E29E654EF36AC5EEFDCF30FB9AE09DE8D24D24F9A34728E67B057421018963278E1AC3305CE48020012DDFDB9FD88CD5A6E5833E95ACFB8C8&quot;,&quot;snapshot&quot;:&quot;&quot;&#125;,&#123;&quot;summary&quot;:&quot;一 修订背景 过程和目的 2011年 为贯彻落实 最高人民法院最高人民检察院关于办理非法生产 销售烟草专卖品等刑事案件具&quot;,&quot;dreDate&quot;:1624259104000,&quot;dbName&quot;:&quot;cps&quot;,&quot;dreTitle&quot;:&quot;《涉案烟草制品价格管理规定》政策解读&quot;,&quot;includeImg&quot;:false,&quot;weight&quot;:null,&quot;docDate&quot;:&quot;2021-06-21&quot;,&quot;title&quot;:&quot;《涉案烟草制品价格管理规定》政策解读&quot;,&quot;combins&quot;:0,&quot;domainSiteName&quot;:&quot;中国烟草总公司&quot;,&quot;url&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zhyw/202106/49522d0974f54727aceabc98ba244b2b.shtml&quot;,&quot;domainSite&quot;:&quot;tobacco.gov.cn&quot;,&quot;reference&quot;:&quot;C5541A612CB84ED024376AA3BBAA5277&quot;,&quot;myValues&quot;:&#123;&quot;INCLUDEIMAGE&quot;:&quot;0&quot;,&quot;DOMAINSITENAME&quot;:&quot;中国烟草总公司&quot;,&quot;SPIDERTIME&quot;:&quot;2021-07-05T04:45:40.069&quot;,&quot;URL&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zhyw/202106/49522d0974f54727aceabc98ba244b2b.shtml&quot;,&quot;C1&quot;:&quot;政府信息公开&quot;,&quot;C2&quot;:&quot;&quot;,&quot;DRETITLEO&quot;:&quot;《涉案烟草制品价格管理规定》政策解读&quot;,&quot;C3&quot;:&quot;&quot;,&quot;C4&quot;:&quot;&quot;,&quot;C5&quot;:&quot;&quot;,&quot;C6&quot;:&quot;&quot;,&quot;SUMMARY&quot;:&quot;一 修订背景 过程和目的 2011年 为贯彻落实 最高人民法院最高人民检察院关于办理非法生产 销售烟草专卖品等刑事案件具&quot;,&quot;C7&quot;:&quot;&quot;,&quot;C8&quot;:&quot;&quot;,&quot;C9&quot;:&quot;&quot;,&quot;DOMAINSITE&quot;:&quot;tobacco.gov.cn&quot;,&quot;WEBSITENAME&quot;:&quot;www.tobacco.gov.cn&quot;,&quot;DREDATE&quot;:&quot;1624259104&quot;,&quot;L1&quot;:&quot;政府信息公开&quot;,&quot;L2&quot;:&quot;法定主动公开内容&quot;,&quot;L3&quot;:&quot;政策解读&quot;,&quot;L4&quot;:&quot;综合业务&quot;,&quot;L5&quot;:&quot;&quot;,&quot;L6&quot;:&quot;&quot;,&quot;N9&quot;:&quot;1&quot;,&quot;DREDBNAME&quot;:&quot;cps&quot;,&quot;FILETYPE&quot;:&quot;.html&quot;,&quot;L7&quot;:&quot;&quot;,&quot;L8&quot;:&quot;&quot;,&quot;MD5URL&quot;:&quot;7002C5756236B5DD0F02D62D798148E8&quot;,&quot;L9&quot;:&quot;开普接口同步&quot;,&quot;DRETITLE&quot;:&quot;涉案烟草制品价格管理规定 政策解读&quot;,&quot;MD5TITLE&quot;:&quot;25886DE15FC2C299BD648B6ED4EB7AF6&quot;,&quot;QUICKDESCRIPTION&quot;:&quot; 一 修订背景 过程和目的 2011年 为贯彻落实 最高人民法院最高人民检察院关于办理非法生产 销售烟草专卖品等刑事案件具体应用法律若干问题的解释  法释 2010 7号 要求 国家烟草专卖局印发了 国家烟草专卖局关于印发涉案卷烟价格管理规定的通知  国烟计 2011 73号  提升了涉案卷烟价格管理工作的水平 随着烟草行业发展的变化 在工作实践中存在现行的管理规定无法全面涵盖各种情况 同时部分条款也不够清晰等问题 有必要进行修订完善 通过开展调研和集中座谈 向社会公开征求意见 充分听取 吸纳行&quot;,&quot;_INDEX&quot;:&quot;cps_new0&quot;,&quot;_TYPE&quot;:&quot;_doc&quot;,&quot;_ID&quot;:&quot;C5541A612CB84ED024376AA3BBAA5277&quot;,&quot;WEBSITE&quot;:&quot;www.tobacco.gov.cn&quot;&#125;,&quot;indexDate&quot;:&quot;2021-06-21 15:05:04&quot;,&quot;encodeUrl&quot;:&quot;816D9628B2B6451D752E6EE8E2E94092FDDB37D65E32473A22AB54CCC441042E0D9CD9DD7D6C287A32E51F0BD012ADB53FD65FD6C02468C0D32C633A2B76E33DCD13C032462544EE5E225D74C58E4CAD6E5833E95ACFB8C8&quot;,&quot;snapshot&quot;:&quot;&quot;&#125;,&#123;&quot;summary&quot;:&quot;为贯彻落实新修订的 中华人民共和国未成年人保护法 关于保护未成年人免受烟 含电子烟 下同 侵害的规定 依法保障和维护未成&quot;,&quot;dreDate&quot;:1623984409000,&quot;dbName&quot;:&quot;cps&quot;,&quot;dreTitle&quot;:&quot;《保护未成年人免受烟侵害“守护成长”专项行动方案》政策解读&quot;,&quot;includeImg&quot;:false,&quot;weight&quot;:null,&quot;docDate&quot;:&quot;2021-06-18&quot;,&quot;title&quot;:&quot;《保护未成年人免受烟侵害“守护成长”专项行动方案》政策解读&quot;,&quot;combins&quot;:0,&quot;domainSiteName&quot;:&quot;中国烟草总公司&quot;,&quot;url&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zmyw/202106/47402742590d4e5e9d570894b38d93d8.shtml&quot;,&quot;domainSite&quot;:&quot;tobacco.gov.cn&quot;,&quot;reference&quot;:&quot;C4FC16F3515CB836A83C5E362A4C869B&quot;,&quot;myValues&quot;:&#123;&quot;INCLUDEIMAGE&quot;:&quot;0&quot;,&quot;DOMAINSITENAME&quot;:&quot;中国烟草总公司&quot;,&quot;SPIDERTIME&quot;:&quot;2021-06-29T02:30:40.054&quot;,&quot;URL&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zmyw/202106/47402742590d4e5e9d570894b38d93d8.shtml&quot;,&quot;C1&quot;:&quot;政府信息公开&quot;,&quot;C2&quot;:&quot;&quot;,&quot;DRETITLEO&quot;:&quot;《保护未成年人免受烟侵害“守护成长”专项行动方案》政策解读&quot;,&quot;C3&quot;:&quot;&quot;,&quot;C4&quot;:&quot;&quot;,&quot;C5&quot;:&quot;&quot;,&quot;C6&quot;:&quot;&quot;,&quot;SUMMARY&quot;:&quot;为贯彻落实新修订的 中华人民共和国未成年人保护法 关于保护未成年人免受烟 含电子烟 下同 侵害的规定 依法保障和维护未成&quot;,&quot;C7&quot;:&quot;&quot;,&quot;C8&quot;:&quot;&quot;,&quot;C9&quot;:&quot;&quot;,&quot;DOMAINSITE&quot;:&quot;tobacco.gov.cn&quot;,&quot;WEBSITENAME&quot;:&quot;www.tobacco.gov.cn&quot;,&quot;DREDATE&quot;:&quot;1623984409&quot;,&quot;L1&quot;:&quot;政府信息公开&quot;,&quot;L2&quot;:&quot;法定主动公开内容&quot;,&quot;L3&quot;:&quot;政策解读&quot;,&quot;L4&quot;:&quot;专卖业务&quot;,&quot;L5&quot;:&quot;&quot;,&quot;L6&quot;:&quot;&quot;,&quot;N9&quot;:&quot;1&quot;,&quot;DREDBNAME&quot;:&quot;cps&quot;,&quot;FILETYPE&quot;:&quot;.html&quot;,&quot;L7&quot;:&quot;&quot;,&quot;L8&quot;:&quot;&quot;,&quot;MD5URL&quot;:&quot;A8F96BDC17B46ACB767331CF53EC1430&quot;,&quot;L9&quot;:&quot;开普接口同步&quot;,&quot;DRETITLE&quot;:&quot;保护未成年人免受烟侵害 守护成长 专项行动方案 政策解读&quot;,&quot;MD5TITLE&quot;:&quot;B6A19CDEF5C13FAAAE5E9CF5280C17B8&quot;,&quot;QUICKDESCRIPTION&quot;:&quot; 为贯彻落实新修订的 中华人民共和国未成年人保护法 关于保护未成年人免受烟 含电子烟 下同 侵害的规定 依法保障和维护未成年人身体健康和合法权益 国家烟草专卖局和国家市场监督管理总局决定联合开展保护未成年人免受烟侵害 守护成长 专项行动 并发布了 保护未成年人免受烟侵害 守护成长 专项行动方案  国烟专 2021 89号  就专项行动的总体要求 主要任务 时间安排和工作要求进行了部署 提出了明确要求  一 开展专项行动的背景和目的 党中央 国务院高度重视未成年人保护工作 尤其关注烟对未成年人身心&quot;,&quot;_INDEX&quot;:&quot;cps_new0&quot;,&quot;_TYPE&quot;:&quot;_doc&quot;,&quot;_ID&quot;:&quot;C4FC16F3515CB836A83C5E362A4C869B&quot;,&quot;WEBSITE&quot;:&quot;www.tobacco.gov.cn&quot;&#125;,&quot;indexDate&quot;:&quot;2021-06-18 10:46:49&quot;,&quot;encodeUrl&quot;:&quot;816D9628B2B6451D752E6EE8E2E94092FDDB37D65E32473A22AB54CCC441042E29E654EF36AC5EEF0B5DF92276C560F2DE2DCABBE79E9D732B11513224560F9F49099F430584CE572011B9DF6CD6D65B6E5833E95ACFB8C8&quot;,&quot;snapshot&quot;:&quot;&quot;&#125;,&#123;&quot;summary&quot;:&quot;相关链接 国家烟草专卖局2021年政务公开工作要点&quot;,&quot;dreDate&quot;:1622615267000,&quot;dbName&quot;:&quot;cps&quot;,&quot;dreTitle&quot;:&quot;图解：《国家烟草专卖局2021年政务公开工作要点》&quot;,&quot;includeImg&quot;:false,&quot;weight&quot;:null,&quot;docDate&quot;:&quot;2021-06-02&quot;,&quot;title&quot;:&quot;图解：《国家烟草专卖局2021年政务公开工作要点》&quot;,&quot;combins&quot;:0,&quot;domainSiteName&quot;:&quot;中国烟草总公司&quot;,&quot;url&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zhyw/202106/b3c779abbb4846eea148ce1186ca61da.shtml&quot;,&quot;domainSite&quot;:&quot;tobacco.gov.cn&quot;,&quot;reference&quot;:&quot;F0D77E403013A9DCFB534903E89DC5DE&quot;,&quot;myValues&quot;:&#123;&quot;INCLUDEIMAGE&quot;:&quot;0&quot;,&quot;DOMAINSITENAME&quot;:&quot;中国烟草总公司&quot;,&quot;SPIDERTIME&quot;:&quot;2021-06-24T10:58:39.549&quot;,&quot;URL&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zhyw/202106/b3c779abbb4846eea148ce1186ca61da.shtml&quot;,&quot;C1&quot;:&quot;政府信息公开&quot;,&quot;C2&quot;:&quot;&quot;,&quot;C3&quot;:&quot;&quot;,&quot;DRETITLEO&quot;:&quot;图解：《国家烟草专卖局2021年政务公开工作要点》&quot;,&quot;C4&quot;:&quot;&quot;,&quot;C5&quot;:&quot;&quot;,&quot;C6&quot;:&quot;&quot;,&quot;SUMMARY&quot;:&quot;相关链接  国家烟草专卖局2021年政务公开工作要点&quot;,&quot;C7&quot;:&quot;&quot;,&quot;C8&quot;:&quot;&quot;,&quot;C9&quot;:&quot;&quot;,&quot;DOMAINSITE&quot;:&quot;tobacco.gov.cn&quot;,&quot;WEBSITENAME&quot;:&quot;www.tobacco.gov.cn&quot;,&quot;DREDATE&quot;:&quot;1622615267&quot;,&quot;L1&quot;:&quot;政府信息公开&quot;,&quot;L2&quot;:&quot;法定主动公开内容&quot;,&quot;L3&quot;:&quot;政策解读&quot;,&quot;L4&quot;:&quot;综合业务&quot;,&quot;L5&quot;:&quot;&quot;,&quot;L6&quot;:&quot;&quot;,&quot;DREDBNAME&quot;:&quot;cps&quot;,&quot;FILETYPE&quot;:&quot;.html&quot;,&quot;L7&quot;:&quot;&quot;,&quot;N9&quot;:&quot;1&quot;,&quot;L8&quot;:&quot;&quot;,&quot;MD5URL&quot;:&quot;FFA8E61BF4EBCF8F48A4DFC849D33454&quot;,&quot;L9&quot;:&quot;开普接口同步&quot;,&quot;DRETITLE&quot;:&quot;图解 国家烟草专卖局2021年政务公开工作要点&quot;,&quot;MD5TITLE&quot;:&quot;B157D8F349E113F9D5F4A4F20CDC616A&quot;,&quot;QUICKDESCRIPTION&quot;:&quot;    相关链接  国家烟草专卖局2021年政务公开工作要点 &quot;,&quot;_INDEX&quot;:&quot;cps_new0&quot;,&quot;_TYPE&quot;:&quot;_doc&quot;,&quot;_ID&quot;:&quot;F0D77E403013A9DCFB534903E89DC5DE&quot;,&quot;WEBSITE&quot;:&quot;www.tobacco.gov.cn&quot;&#125;,&quot;indexDate&quot;:&quot;2021-06-02 14:27:47&quot;,&quot;encodeUrl&quot;:&quot;816D9628B2B6451D752E6EE8E2E94092FDDB37D65E32473A22AB54CCC441042E0D9CD9DD7D6C287A8CE6DB033156C9BD0224CD11F0C2D97E95B04CD2BC9939187A8577F81E0C121D246FBD8609E652C76E5833E95ACFB8C8&quot;,&quot;snapshot&quot;:&quot;&quot;&#125;,&#123;&quot;summary&quot;:&quot;相关链接 国家烟草专卖局关于印发政府信息公开工作办法的通知 国家烟草专卖局政府信息公开办法 解读说明&quot;,&quot;dreDate&quot;:1620887499000,&quot;dbName&quot;:&quot;cps&quot;,&quot;dreTitle&quot;:&quot;图解：《国家烟草专卖局政府信息公开办法》解读说明&quot;,&quot;includeImg&quot;:false,&quot;weight&quot;:null,&quot;docDate&quot;:&quot;2021-05-13&quot;,&quot;title&quot;:&quot;图解：《国家烟草专卖局政府信息公开办法》解读说明&quot;,&quot;combins&quot;:0,&quot;domainSiteName&quot;:&quot;中国烟草总公司&quot;,&quot;url&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zhyw/202105/982c1e243ac74e8d93ff8433c286aa28.shtml&quot;,&quot;domainSite&quot;:&quot;tobacco.gov.cn&quot;,&quot;reference&quot;:&quot;B5B2AF9A5F591B806C10CB6CC7F87AD6&quot;,&quot;myValues&quot;:&#123;&quot;INCLUDEIMAGE&quot;:&quot;0&quot;,&quot;DOMAINSITENAME&quot;:&quot;中国烟草总公司&quot;,&quot;SPIDERTIME&quot;:&quot;2021-06-24T10:58:39.395&quot;,&quot;URL&quot;:&quot;http://www.tobacco.gov.cn/gjyc/zhyw/202105/982c1e243ac74e8d93ff8433c286aa28.shtml&quot;,&quot;C1&quot;:&quot;政府信息公开&quot;,&quot;C2&quot;:&quot;&quot;,&quot;C3&quot;:&quot;&quot;,&quot;DRETITLEO&quot;:&quot;图解：《国家烟草专卖局政府信息公开办法》解读说明&quot;,&quot;C4&quot;:&quot;&quot;,&quot;C5&quot;:&quot;&quot;,&quot;C6&quot;:&quot;&quot;,&quot;SUMMARY&quot;:&quot;相关链接 国家烟草专卖局关于印发政府信息公开工作办法的通知         国家烟草专卖局政府信息公开办法 解读说明&quot;,&quot;C7&quot;:&quot;&quot;,&quot;C8&quot;:&quot;&quot;,&quot;C9&quot;:&quot;&quot;,&quot;DOMAINSITE&quot;:&quot;tobacco.gov.cn&quot;,&quot;WEBSITENAME&quot;:&quot;www.tobacco.gov.cn&quot;,&quot;DREDATE&quot;:&quot;1620887499&quot;,&quot;L1&quot;:&quot;政府信息公开&quot;,&quot;L2&quot;:&quot;法定主动公开内容&quot;,&quot;L3&quot;:&quot;政策解读&quot;,&quot;L4&quot;:&quot;综合业务&quot;,&quot;L5&quot;:&quot;&quot;,&quot;L6&quot;:&quot;&quot;,&quot;DREDBNAME&quot;:&quot;cps&quot;,&quot;FILETYPE&quot;:&quot;.html&quot;,&quot;L7&quot;:&quot;&quot;,&quot;N9&quot;:&quot;1&quot;,&quot;L8&quot;:&quot;&quot;,&quot;MD5URL&quot;:&quot;D8C41078776891CD8F9618E8D744D84E&quot;,&quot;L9&quot;:&quot;开普接口同步&quot;,&quot;DRETITLE&quot;:&quot;图解 国家烟草专卖局政府信息公开办法 解读说明&quot;,&quot;MD5TITLE&quot;:&quot;1D83886A4B409229532D25315E5B8F96&quot;,&quot;QUICKDESCRIPTION&quot;:&quot;    相关链接 国家烟草专卖局关于印发政府信息公开工作办法的通知         国家烟草专卖局政府信息公开办法 解读说明&quot;,&quot;_INDEX&quot;:&quot;cps_new0&quot;,&quot;_TYPE&quot;:&quot;_doc&quot;,&quot;_ID&quot;:&quot;B5B2AF9A5F591B806C10CB6CC7F87AD6&quot;,&quot;WEBSITE&quot;:&quot;www.tobacco.gov.cn&quot;&#125;,&quot;indexDate&quot;:&quot;2021-05-13 14:31:39&quot;,&quot;encodeUrl&quot;:&quot;816D9628B2B6451D752E6EE8E2E94092FDDB37D65E32473A22AB54CCC441042E0D9CD9DD7D6C287A848ACD56F03E88B6D0338752E0E6073C30CAAB2420459C2F009F84B28CC2059BF21D3E3EE050FF5E6E5833E95ACFB8C8&quot;,&quot;snapshot&quot;:&quot;&quot;&#125;]&#125;&#125;&#x27;</span></span><br><span class="line">res = jsonpath.jsonpath(json.loads(jsonstr), <span class="string">&quot;$..url&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(res)</span><br></pre></td></tr></table></figure><p>运行结果:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&#x27;http://www.tobacco.gov.cn/gjyc/zmyw/202111/00fd8aac999443c2963d2714c10c26b2.shtml&#x27;</span>, <span class="string">&#x27;http://www.tobacco.gov.cn/gjyc/zmyw/202111/6b0064505b89450b8c965781ba24d1dd.shtml&#x27;</span>, <span class="string">&#x27;http://www.tobacco.gov.cn/gjyc/zhyw/202109/1c6b919c5e3e4a508dda8e07df480eb8.shtml&#x27;</span>, <span class="string">&#x27;http://www.tobacco.gov.cn/gjyc/zhyw/202109/df15e15f738b4c6bb108690f1eebc6ba.shtml&#x27;</span>, <span class="string">&#x27;http://www.tobacco.gov.cn/gjyc/zhyw/202107/6feaebb9c9804b12831f963c8f351265.shtml&#x27;</span>, <span class="string">&#x27;http://www.tobacco.gov.cn/gjyc/zmyw/202106/bb6c082ac38443bc9e8b8db6fcbf7f89.shtml&#x27;</span>, <span class="string">&#x27;http://www.tobacco.gov.cn/gjyc/zhyw/202106/49522d0974f54727aceabc98ba244b2b.shtml&#x27;</span>, <span class="string">&#x27;http://www.tobacco.gov.cn/gjyc/zmyw/202106/47402742590d4e5e9d570894b38d93d8.shtml&#x27;</span>, <span class="string">&#x27;http://www.tobacco.gov.cn/gjyc/zhyw/202106/b3c779abbb4846eea148ce1186ca61da.shtml&#x27;</span>, <span class="string">&#x27;http://www.tobacco.gov.cn/gjyc/zhyw/202105/982c1e243ac74e8d93ff8433c286aa28.shtml&#x27;</span>]</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;今天在爬网站的时候，由于页面的detail_url在json字符串中，所以用到了jsonpath.jsonpa()这个方法来解析，这个方法解析字符串是很方便的，但是今天遇到了一个坑，下面来详细说明下:&lt;/p&gt;
&lt;p&gt;首先我们来说下这个方法的使用:&lt;/p&gt;
&lt;figure c</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Python获取本机IP、Mac地址和计算机名</title>
    <link href="http://example.com/2022/01/18/Python%E8%8E%B7%E5%8F%96%E6%9C%AC%E6%9C%BAIP%E3%80%81mac%E5%9C%B0%E5%9D%80%E3%80%81%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%90%8D/"/>
    <id>http://example.com/2022/01/18/Python%E8%8E%B7%E5%8F%96%E6%9C%AC%E6%9C%BAIP%E3%80%81mac%E5%9C%B0%E5%9D%80%E3%80%81%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%90%8D/</id>
    <published>2022-01-18T01:06:30.000Z</published>
    <updated>2022-01-18T01:17:37.714Z</updated>
    
    <content type="html"><![CDATA[<p>获得本机Mac地址:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> uuid</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_mac_address</span>():</span> </span><br><span class="line">    mac=uuid.UUID(<span class="built_in">int</span> = uuid.getnode()).<span class="built_in">hex</span>[-<span class="number">12</span>:] </span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;:&quot;</span>.join([mac[e:e+<span class="number">2</span>] <span class="keyword">for</span> e <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">11</span>,<span class="number">2</span>)])</span><br></pre></td></tr></table></figure><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220117/Snipaste_2022-01-18_09-12-58.4d2sxwbsox00.webp"                      alt="Snipaste_2022-01-18_09-12-58"                ></p><p>获得本机IP(内网IP)和计算机名:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="comment">#获取本机电脑名</span></span><br><span class="line">myname = socket.getfqdn(socket.gethostname())</span><br><span class="line"><span class="comment">#获取本机ip</span></span><br><span class="line">myaddr = socket.gethostbyname(myname)</span><br><span class="line"><span class="built_in">print</span> (myname)</span><br><span class="line"><span class="built_in">print</span> (myaddr)</span><br></pre></td></tr></table></figure><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220117/Snipaste_2022-01-18_09-16-43.24q861f1g5fk.webp"                      alt="Snipaste_2022-01-18_09-16-43"                ></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;获得本机Mac地址:&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/s</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Python爬虫框架Scrapy的运行流程详解</title>
    <link href="http://example.com/2022/01/17/Python%E7%88%AC%E8%99%AB%E6%A1%86%E6%9E%B6Scrapy%E7%9A%84%E8%BF%90%E8%A1%8C%E6%B5%81%E7%A8%8B%E8%AF%A6%E8%A7%A3/"/>
    <id>http://example.com/2022/01/17/Python%E7%88%AC%E8%99%AB%E6%A1%86%E6%9E%B6Scrapy%E7%9A%84%E8%BF%90%E8%A1%8C%E6%B5%81%E7%A8%8B%E8%AF%A6%E8%A7%A3/</id>
    <published>2022-01-17T07:29:30.000Z</published>
    <updated>2022-01-17T08:03:19.290Z</updated>
    
    <content type="html"><![CDATA[<p>首先来看看Scrapy框架的介绍:</p><p>Scrapy是用纯Python语言实现的一个为爬取网站数据、提取结构性数据而编写的应用框架，Scrapy使用了Twisted异步网络框架来处理网络通信，可以加快我们的下载速度，不用自己去实现异步框架，并且包含了各种中间件接口，可以灵活地实现各种需求；Scrapy可以应用在包括数据挖掘、信息处理或存储历史数据等一系列的程序中，其最初是为页面抓取(更确切地说是网络抓取)而设计的，也可以应用于获取API所返回的数据(例如Amazon Associates Web Services)或者通用的网络爬虫</p><p>Scrapy框架的安装方法:</p><ol><li><p>通过anaconda安装: 通过anaconda→environments→最右边界面的第一个选项all，在搜索框里搜索scrapy→选择安装</p></li><li><p>在terminal或者cmd中使用pip安装:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install scrapy</span><br></pre></td></tr></table></figure></li></ol><p>Scrapy内部实现了包括并发请求、免登录、URL去重等很多复杂操作，用户不需要明白Scrapy内部具体的爬取策略，只需要根据自己的需求去编写小部分的代码，就能抓取到所需要的数据</p><p>Scrapy框架整体流程图如下所示:</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220117/Snipaste_2022-01-17_15-35-02.5sgg7iybmc00.webp"                      alt="Snipaste_2022-01-17_15-35-02"                ></p><p>上图所表达的大致意思为: 首先从初始URL开始，<strong>调度器</strong>(Scheduler)会将其交给<strong>下载器</strong>(Downloader)，下载器向<strong>网络服务器</strong>(Internet)发送服务请求以进行下载，得到响应后将下载的数据交给<strong>爬虫</strong>(Spider，爬虫会对网页进行分析，分析出来的结果有两种：一种是需要进一步抓取的链接，这些链接会被传回调度器；另一种是需要保存的数据，它们则被送到<strong>项目管道</strong>（Item Pipeline），Item会定义数据格式，最后由Pipeline对数据进行清洗、去重等处理，继而存储到文件或数据库，这里面的<strong>引擎是负责统筹协调</strong></p><p>Scrapy框架内组件及其作用:</p><ul><li><strong>爬虫中间件</strong>(Spider Middleware):位于Scrapy引擎和爬虫之间的框架，主要用于处理爬虫的请求输入和响应输出</li><li><strong>调度器中间件</strong>(Scheduler Middleware): 位于Scrapy引擎和调度器之间的框架，主要用于处理从Scrapy引擎发送到调度器的请求和响应</li><li><strong>调度器：</strong>用来接收引擎发过来的请求，压入队列中，并在引擎再次请求的时候返回。它就像是一个URL的优先队列，由它来决定下一个要抓取的网址是什么，同时在这里会去除重复的网址</li><li><strong>下载器中间件</strong>(Downloader Middleware): 位于Scrapy引擎和下载器之间的框架，主要用于处理Scrapy引擎与下载器之间的请求及响应; 代理IP和用户代理可以在这里设置</li><li><strong>下载器：</strong>用于下载网页内容，并将网页内容返回给爬虫</li><li><strong>Scrapy引擎</strong>(ScrapyEngine): 用来控制整个系统的数据处理流程，并进行事务处理的触发</li><li>爬虫主要是干活的，用于从特定网页中提取自己需要的信息，即所谓的项目(又称实体); 也可以从中提取URL，让Scrapy继续爬取下一个页面</li><li><strong>项目管道：</strong>负责处理爬虫从网页中爬取的项目，主要的功能就是持久化项目(保存数据)、验证项目的有效性、清除不需要的信息。当页面被爬虫解析后，将被送到项目管道，并经过几个特定的次序来处理其数据</li></ul><p>Scrapy框架运行流程如下:</p><ol><li>引擎从调度器中取出一个URL用于接下来的抓取</li><li>引擎把URL封装成一个请求（request）传给下载器</li><li>下载器把资源下载下来，并封装成一个响应(response)</li><li>爬虫解析响应</li><li>解析出的是项目，则交给项目管道进行进一步的处理(持久化存储)</li><li>解析出的是链接URL，则把URL交给调度器等待下一步的抓取</li></ol><p>Scrapy框架数据流向:</p><p>Scrapy数据流是由执行流程的核心引擎来控制的，如下图所示:<br><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220117/Snipaste_2022-01-17_15-49-23.t7exlb838v4.webp"                      alt="Snipaste_2022-01-17_15-49-23"                ></p><ol><li>引擎打开网站，找到处理该网站的爬虫并要求该爬虫请求第一个要爬取的URL(入口URL)</li><li>引擎从爬虫中获取到第一个要爬取的URL，并在调度器中以请求调度</li><li>引擎向调度器请求下一个要爬取的URL</li><li>调度器返回下一个要爬取的URL给引擎，引擎通过下载中间件转给下载器</li><li>一旦页面下载完毕，下载器便会生成一个该页面的响应，并通过下载器中间件将其发送给引擎</li><li>引擎从下载器中接收到响应并通过爬虫中间件发送给爬虫处理</li><li>爬虫处理响应，并返回爬取到的项目及新的请求给引擎</li><li>引擎将爬虫爬取到的项目传给项目管道，将爬虫返回的请求传给调度器</li><li>从第2步重复直到调度器中没有更多的请求，引擎便会关闭该网站</li></ol><p>Scrapy框架中的Selector</p><p>当我们取得了网页的响应之后，最关键的就是如何从繁杂的网页中把我们需要的数据提取出来，Python中常用以下模块来处理HTTP文本解析问题</p><ul><li><strong>BeautifulSoup</strong>: 作为程序员间非常流行的网页分析库，它通常基于HTML代码的结构来构造一个Python对象，对不良标记的处理也非常合理，但它有一个缺点，就是“慢”</li><li><strong>lxml</strong>: 一个基于ElementTree的Python化的XML解析库</li></ul><p>我们可以在Scrapy中使用任意熟悉的网页数据提取工具，如上面的两种，但是，Scrapy本身也为我们提供了一套提取数据的机制，我们称之为选择器Selector，它通过特定的XPath或者CSS表达式来选择HTML文件中的某个部分</p><p><strong>XPath</strong>是一门用来在XML文件中选择节点的语言，也可以用在HTML上。<strong>CSS</strong>是一门将HTML文档样式化的语言。选择器由它定义，并与特定的HTML元素的样式相关连</p><p>Selector是基于lxml来构建的，支持XPath选择器、CSS选择器以及正则表达式，功能全面、解析速度快且和准确度高</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;首先来看看Scrapy框架的介绍:&lt;/p&gt;
&lt;p&gt;Scrapy是用纯Python语言实现的一个为爬取网站数据、提取结构性数据而编写的应用框架，Scrapy使用了Twisted异步网络框架来处理网络通信，可以加快我们的下载速度，不用自己去实现异步框架，并且包含了各种中间件接口</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>js逆向模拟登录搜狐案例--关于md5但未解决cookie版</title>
    <link href="http://example.com/2022/01/17/js%E9%80%86%E5%90%91%E6%A8%A1%E6%8B%9F%E7%99%BB%E5%BD%95%E6%90%9C%E7%8B%90%E6%A1%88%E4%BE%8B/"/>
    <id>http://example.com/2022/01/17/js%E9%80%86%E5%90%91%E6%A8%A1%E6%8B%9F%E7%99%BB%E5%BD%95%E6%90%9C%E7%8B%90%E6%A1%88%E4%BE%8B/</id>
    <published>2022-01-17T06:20:30.000Z</published>
    <updated>2022-01-19T02:50:44.778Z</updated>
    
    <content type="html"><![CDATA[<p>需求: js逆向模拟登录<a class="link"   href="https://www.sohu.com/" >搜狐网<i class="fas fa-external-link-alt"></i></a></p><p>首先我们点击登录打开登录框，抓包找接口，发现POST接口:<a class="link"   href="https://v4.passport.sohu.com/i/login/116005%EF%BC%8C%E5%85%B6%E4%B8%AD%E7%9A%84Payload%E4%B8%8B%E9%9D%A2%E7%9A%84Form" >https://v4.passport.sohu.com/i/login/116005，其中的Payload下面的Form<i class="fas fa-external-link-alt"></i></a> Data中的userid是输入的用户名，password是加密后的密码:</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220117/Snipaste_2022-01-17_16-25-32.1ukmoiv9izq8.webp"                      alt="Snipaste_2022-01-17_16-25-32"                ></p><p>没有找到调用对象，那么CTRL+F全局搜索password:</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220117/Snipaste_2022-01-17_16-28-07.3t02t9swmka0.webp"                      alt="Snipaste_2022-01-17_16-28-07"                ></p><p>这里搜出了三个，大家觉得会是在哪个，其中有一个passport什么什么.js，我猜测就是在这里面，因为passport意为护照，就是表示通行证，所以我猜测就在这里面有我们想要的东西</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220117/Snipaste_2022-01-17_16-35-45.1tlkrlg2diqo.webp"                      alt="Snipaste_2022-01-17_16-35-45"                ></p><p>(不好意思哈，上图标错了)按路径找到这个文件后，进去我们再搜索password</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220117/Snipaste_2022-01-17_16-46-53.6uyfgq96oyk0.webp"                      alt="Snipaste_2022-01-17_16-46-53"                ></p><p>上图红框中的已经很明显了哈，是一个MD5加密，我们打断点然后跳转到md5函数中:<br><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220117/Snipaste_2022-01-17_16-50-56.1wr7cs9cxbls.webp"                      alt="Snipaste_2022-01-17_16-50-56"                ></p><p>我们新建一个html文件然后把上图的md5函数复制到html文件中，单单复制一个函数能在浏览器中运行嘛，答案是不能的，所以我们起码要加个body，然后把md5:去点，然后在function后面加个md5:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">md5</span>(<span class="params">args</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">hex_md5</span>(<span class="params">s</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> binl2hex(core_md5(str2binl(s), s.length * chrsz))</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">core_md5</span>(<span class="params">x, len</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                x[len &gt;&gt; <span class="number">5</span>] |= <span class="number">128</span> &lt;&lt; len % <span class="number">32</span>,</span></span><br><span class="line"><span class="javascript">                x[<span class="number">14</span> + (len + <span class="number">64</span> &gt;&gt;&gt; <span class="number">9</span> &lt;&lt; <span class="number">4</span>)] = len;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span> (<span class="keyword">var</span> a = <span class="number">1732584193</span>, b = -<span class="number">271733879</span>, c = -<span class="number">1732584194</span>, d = <span class="number">271733878</span>, i = <span class="number">0</span>; i &lt; x.length; i += <span class="number">16</span>) &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> olda = a</span></span><br><span class="line"><span class="javascript">                      , oldb = b</span></span><br><span class="line"><span class="javascript">                      , oldc = c</span></span><br><span class="line"><span class="javascript">                      , oldd = d;</span></span><br><span class="line"><span class="javascript">                    a = md5_ff(a, b, c, d, x[i + <span class="number">0</span>], <span class="number">7</span>, -<span class="number">680876936</span>),</span></span><br><span class="line"><span class="javascript">                    d = md5_ff(d, a, b, c, x[i + <span class="number">1</span>], <span class="number">12</span>, -<span class="number">389564586</span>),</span></span><br><span class="line"><span class="javascript">                    c = md5_ff(c, d, a, b, x[i + <span class="number">2</span>], <span class="number">17</span>, <span class="number">606105819</span>),</span></span><br><span class="line"><span class="javascript">                    b = md5_ff(b, c, d, a, x[i + <span class="number">3</span>], <span class="number">22</span>, -<span class="number">1044525330</span>),</span></span><br><span class="line"><span class="javascript">                    a = md5_ff(a, b, c, d, x[i + <span class="number">4</span>], <span class="number">7</span>, -<span class="number">176418897</span>),</span></span><br><span class="line"><span class="javascript">                    d = md5_ff(d, a, b, c, x[i + <span class="number">5</span>], <span class="number">12</span>, <span class="number">1200080426</span>),</span></span><br><span class="line"><span class="javascript">                    c = md5_ff(c, d, a, b, x[i + <span class="number">6</span>], <span class="number">17</span>, -<span class="number">1473231341</span>),</span></span><br><span class="line"><span class="javascript">                    b = md5_ff(b, c, d, a, x[i + <span class="number">7</span>], <span class="number">22</span>, -<span class="number">45705983</span>),</span></span><br><span class="line"><span class="javascript">                    a = md5_ff(a, b, c, d, x[i + <span class="number">8</span>], <span class="number">7</span>, <span class="number">1770035416</span>),</span></span><br><span class="line"><span class="javascript">                    d = md5_ff(d, a, b, c, x[i + <span class="number">9</span>], <span class="number">12</span>, -<span class="number">1958414417</span>),</span></span><br><span class="line"><span class="javascript">                    c = md5_ff(c, d, a, b, x[i + <span class="number">10</span>], <span class="number">17</span>, -<span class="number">42063</span>),</span></span><br><span class="line"><span class="javascript">                    b = md5_ff(b, c, d, a, x[i + <span class="number">11</span>], <span class="number">22</span>, -<span class="number">1990404162</span>),</span></span><br><span class="line"><span class="javascript">                    a = md5_ff(a, b, c, d, x[i + <span class="number">12</span>], <span class="number">7</span>, <span class="number">1804603682</span>),</span></span><br><span class="line"><span class="javascript">                    d = md5_ff(d, a, b, c, x[i + <span class="number">13</span>], <span class="number">12</span>, -<span class="number">40341101</span>),</span></span><br><span class="line"><span class="javascript">                    c = md5_ff(c, d, a, b, x[i + <span class="number">14</span>], <span class="number">17</span>, -<span class="number">1502002290</span>),</span></span><br><span class="line"><span class="javascript">                    b = md5_ff(b, c, d, a, x[i + <span class="number">15</span>], <span class="number">22</span>, <span class="number">1236535329</span>),</span></span><br><span class="line"><span class="javascript">                    a = md5_gg(a, b, c, d, x[i + <span class="number">1</span>], <span class="number">5</span>, -<span class="number">165796510</span>),</span></span><br><span class="line"><span class="javascript">                    d = md5_gg(d, a, b, c, x[i + <span class="number">6</span>], <span class="number">9</span>, -<span class="number">1069501632</span>),</span></span><br><span class="line"><span class="javascript">                    c = md5_gg(c, d, a, b, x[i + <span class="number">11</span>], <span class="number">14</span>, <span class="number">643717713</span>),</span></span><br><span class="line"><span class="javascript">                    b = md5_gg(b, c, d, a, x[i + <span class="number">0</span>], <span class="number">20</span>, -<span class="number">373897302</span>),</span></span><br><span class="line"><span class="javascript">                    a = md5_gg(a, b, c, d, x[i + <span class="number">5</span>], <span class="number">5</span>, -<span class="number">701558691</span>),</span></span><br><span class="line"><span class="javascript">                    d = md5_gg(d, a, b, c, x[i + <span class="number">10</span>], <span class="number">9</span>, <span class="number">38016083</span>),</span></span><br><span class="line"><span class="javascript">                    c = md5_gg(c, d, a, b, x[i + <span class="number">15</span>], <span class="number">14</span>, -<span class="number">660478335</span>),</span></span><br><span class="line"><span class="javascript">                    b = md5_gg(b, c, d, a, x[i + <span class="number">4</span>], <span class="number">20</span>, -<span class="number">405537848</span>),</span></span><br><span class="line"><span class="javascript">                    a = md5_gg(a, b, c, d, x[i + <span class="number">9</span>], <span class="number">5</span>, <span class="number">568446438</span>),</span></span><br><span class="line"><span class="javascript">                    d = md5_gg(d, a, b, c, x[i + <span class="number">14</span>], <span class="number">9</span>, -<span class="number">1019803690</span>),</span></span><br><span class="line"><span class="javascript">                    c = md5_gg(c, d, a, b, x[i + <span class="number">3</span>], <span class="number">14</span>, -<span class="number">187363961</span>),</span></span><br><span class="line"><span class="javascript">                    b = md5_gg(b, c, d, a, x[i + <span class="number">8</span>], <span class="number">20</span>, <span class="number">1163531501</span>),</span></span><br><span class="line"><span class="javascript">                    a = md5_gg(a, b, c, d, x[i + <span class="number">13</span>], <span class="number">5</span>, -<span class="number">1444681467</span>),</span></span><br><span class="line"><span class="javascript">                    d = md5_gg(d, a, b, c, x[i + <span class="number">2</span>], <span class="number">9</span>, -<span class="number">51403784</span>),</span></span><br><span class="line"><span class="javascript">                    c = md5_gg(c, d, a, b, x[i + <span class="number">7</span>], <span class="number">14</span>, <span class="number">1735328473</span>),</span></span><br><span class="line"><span class="javascript">                    b = md5_gg(b, c, d, a, x[i + <span class="number">12</span>], <span class="number">20</span>, -<span class="number">1926607734</span>),</span></span><br><span class="line"><span class="javascript">                    a = md5_hh(a, b, c, d, x[i + <span class="number">5</span>], <span class="number">4</span>, -<span class="number">378558</span>),</span></span><br><span class="line"><span class="javascript">                    d = md5_hh(d, a, b, c, x[i + <span class="number">8</span>], <span class="number">11</span>, -<span class="number">2022574463</span>),</span></span><br><span class="line"><span class="javascript">                    c = md5_hh(c, d, a, b, x[i + <span class="number">11</span>], <span class="number">16</span>, <span class="number">1839030562</span>),</span></span><br><span class="line"><span class="javascript">                    b = md5_hh(b, c, d, a, x[i + <span class="number">14</span>], <span class="number">23</span>, -<span class="number">35309556</span>),</span></span><br><span class="line"><span class="javascript">                    a = md5_hh(a, b, c, d, x[i + <span class="number">1</span>], <span class="number">4</span>, -<span class="number">1530992060</span>),</span></span><br><span class="line"><span class="javascript">                    d = md5_hh(d, a, b, c, x[i + <span class="number">4</span>], <span class="number">11</span>, <span class="number">1272893353</span>),</span></span><br><span class="line"><span class="javascript">                    c = md5_hh(c, d, a, b, x[i + <span class="number">7</span>], <span class="number">16</span>, -<span class="number">155497632</span>),</span></span><br><span class="line"><span class="javascript">                    b = md5_hh(b, c, d, a, x[i + <span class="number">10</span>], <span class="number">23</span>, -<span class="number">1094730640</span>),</span></span><br><span class="line"><span class="javascript">                    a = md5_hh(a, b, c, d, x[i + <span class="number">13</span>], <span class="number">4</span>, <span class="number">681279174</span>),</span></span><br><span class="line"><span class="javascript">                    d = md5_hh(d, a, b, c, x[i + <span class="number">0</span>], <span class="number">11</span>, -<span class="number">358537222</span>),</span></span><br><span class="line"><span class="javascript">                    c = md5_hh(c, d, a, b, x[i + <span class="number">3</span>], <span class="number">16</span>, -<span class="number">722521979</span>),</span></span><br><span class="line"><span class="javascript">                    b = md5_hh(b, c, d, a, x[i + <span class="number">6</span>], <span class="number">23</span>, <span class="number">76029189</span>),</span></span><br><span class="line"><span class="javascript">                    a = md5_hh(a, b, c, d, x[i + <span class="number">9</span>], <span class="number">4</span>, -<span class="number">640364487</span>),</span></span><br><span class="line"><span class="javascript">                    d = md5_hh(d, a, b, c, x[i + <span class="number">12</span>], <span class="number">11</span>, -<span class="number">421815835</span>),</span></span><br><span class="line"><span class="javascript">                    c = md5_hh(c, d, a, b, x[i + <span class="number">15</span>], <span class="number">16</span>, <span class="number">530742520</span>),</span></span><br><span class="line"><span class="javascript">                    b = md5_hh(b, c, d, a, x[i + <span class="number">2</span>], <span class="number">23</span>, -<span class="number">995338651</span>),</span></span><br><span class="line"><span class="javascript">                    a = md5_ii(a, b, c, d, x[i + <span class="number">0</span>], <span class="number">6</span>, -<span class="number">198630844</span>),</span></span><br><span class="line"><span class="javascript">                    d = md5_ii(d, a, b, c, x[i + <span class="number">7</span>], <span class="number">10</span>, <span class="number">1126891415</span>),</span></span><br><span class="line"><span class="javascript">                    c = md5_ii(c, d, a, b, x[i + <span class="number">14</span>], <span class="number">15</span>, -<span class="number">1416354905</span>),</span></span><br><span class="line"><span class="javascript">                    b = md5_ii(b, c, d, a, x[i + <span class="number">5</span>], <span class="number">21</span>, -<span class="number">57434055</span>),</span></span><br><span class="line"><span class="javascript">                    a = md5_ii(a, b, c, d, x[i + <span class="number">12</span>], <span class="number">6</span>, <span class="number">1700485571</span>),</span></span><br><span class="line"><span class="javascript">                    d = md5_ii(d, a, b, c, x[i + <span class="number">3</span>], <span class="number">10</span>, -<span class="number">1894986606</span>),</span></span><br><span class="line"><span class="javascript">                    c = md5_ii(c, d, a, b, x[i + <span class="number">10</span>], <span class="number">15</span>, -<span class="number">1051523</span>),</span></span><br><span class="line"><span class="javascript">                    b = md5_ii(b, c, d, a, x[i + <span class="number">1</span>], <span class="number">21</span>, -<span class="number">2054922799</span>),</span></span><br><span class="line"><span class="javascript">                    a = md5_ii(a, b, c, d, x[i + <span class="number">8</span>], <span class="number">6</span>, <span class="number">1873313359</span>),</span></span><br><span class="line"><span class="javascript">                    d = md5_ii(d, a, b, c, x[i + <span class="number">15</span>], <span class="number">10</span>, -<span class="number">30611744</span>),</span></span><br><span class="line"><span class="javascript">                    c = md5_ii(c, d, a, b, x[i + <span class="number">6</span>], <span class="number">15</span>, -<span class="number">1560198380</span>),</span></span><br><span class="line"><span class="javascript">                    b = md5_ii(b, c, d, a, x[i + <span class="number">13</span>], <span class="number">21</span>, <span class="number">1309151649</span>),</span></span><br><span class="line"><span class="javascript">                    a = md5_ii(a, b, c, d, x[i + <span class="number">4</span>], <span class="number">6</span>, -<span class="number">145523070</span>),</span></span><br><span class="line"><span class="javascript">                    d = md5_ii(d, a, b, c, x[i + <span class="number">11</span>], <span class="number">10</span>, -<span class="number">1120210379</span>),</span></span><br><span class="line"><span class="javascript">                    c = md5_ii(c, d, a, b, x[i + <span class="number">2</span>], <span class="number">15</span>, <span class="number">718787259</span>),</span></span><br><span class="line"><span class="javascript">                    b = md5_ii(b, c, d, a, x[i + <span class="number">9</span>], <span class="number">21</span>, -<span class="number">343485551</span>),</span></span><br><span class="line"><span class="javascript">                    a = safe_add(a, olda),</span></span><br><span class="line"><span class="javascript">                    b = safe_add(b, oldb),</span></span><br><span class="line"><span class="javascript">                    c = safe_add(c, oldc),</span></span><br><span class="line"><span class="javascript">                    d = safe_add(d, oldd)</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> <span class="built_in">Array</span>(a, b, c, d)</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">md5_cmn</span>(<span class="params">q, a, b, x, s, t</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s), b)</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">md5_ff</span>(<span class="params">a, b, c, d, x, s, t</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> md5_cmn(b &amp; c | ~b &amp; d, a, b, x, s, t)</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">md5_gg</span>(<span class="params">a, b, c, d, x, s, t</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> md5_cmn(b &amp; d | c &amp; ~d, a, b, x, s, t)</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">md5_hh</span>(<span class="params">a, b, c, d, x, s, t</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> md5_cmn(b ^ c ^ d, a, b, x, s, t)</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">md5_ii</span>(<span class="params">a, b, c, d, x, s, t</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> md5_cmn(c ^ (b | ~d), a, b, x, s, t)</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">safe_add</span>(<span class="params">x, y</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> lsw = (<span class="number">65535</span> &amp; x) + (<span class="number">65535</span> &amp; y);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> (x &gt;&gt; <span class="number">16</span>) + (y &gt;&gt; <span class="number">16</span>) + (lsw &gt;&gt; <span class="number">16</span>) &lt;&lt; <span class="number">16</span> | <span class="number">65535</span> &amp; lsw</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">bit_rol</span>(<span class="params">num, cnt</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> num &lt;&lt; cnt | num &gt;&gt;&gt; <span class="number">32</span> - cnt</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">str2binl</span>(<span class="params">str</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span> (<span class="keyword">var</span> bin = <span class="built_in">Array</span>(), mask = (<span class="number">1</span> &lt;&lt; chrsz) - <span class="number">1</span>, i = <span class="number">0</span>; i &lt; str.length * chrsz; i += chrsz)</span></span><br><span class="line"><span class="javascript">                    bin[i &gt;&gt; <span class="number">5</span>] |= (str.charCodeAt(i / chrsz) &amp; mask) &lt;&lt; i % <span class="number">32</span>;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> bin</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">binl2hex</span>(<span class="params">binarray</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span> (<span class="keyword">var</span> hex_tab = hexcase ? <span class="string">&quot;0123456789ABCDEF&quot;</span> : <span class="string">&quot;0123456789abcdef&quot;</span>, str = <span class="string">&quot;&quot;</span>, i = <span class="number">0</span>; i &lt; <span class="number">4</span> * binarray.length; i++)</span></span><br><span class="line"><span class="javascript">                    str += hex_tab.charAt(binarray[i &gt;&gt; <span class="number">2</span>] &gt;&gt; i % <span class="number">4</span> * <span class="number">8</span> + <span class="number">4</span> &amp; <span class="number">15</span>) + hex_tab.charAt(binarray[i &gt;&gt; <span class="number">2</span>] &gt;&gt; i % <span class="number">4</span> * <span class="number">8</span> &amp; <span class="number">15</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> str</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> hexcase = <span class="number">0</span></span></span><br><span class="line"><span class="javascript">              , chrsz = <span class="number">8</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> hex_md5(args)</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>然后我们在浏览器中的consle执行下md5函数:<br><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220117/Snipaste_2022-01-17_17-05-33.3gkr7zx5t020.webp"                      alt="Snipaste_2022-01-17_17-05-33"                ></p><p>对比下之前payload中的fomdata中的加密password，会发现长度是一样的，只不过时间不一样然后结果就不一样</p><p>那下面我们就来登录下:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line">unction <span class="function"><span class="title">md5</span>(<span class="params">args</span>)</span> &#123;</span><br><span class="line">            <span class="function"><span class="keyword">function</span> <span class="title">hex_md5</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> binl2hex(core_md5(str2binl(s), s.length * chrsz))</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="function"><span class="keyword">function</span> <span class="title">core_md5</span>(<span class="params">x, len</span>) </span>&#123;</span><br><span class="line">                x[len &gt;&gt; <span class="number">5</span>] |= <span class="number">128</span> &lt;&lt; len % <span class="number">32</span>,</span><br><span class="line">                x[<span class="number">14</span> + (len + <span class="number">64</span> &gt;&gt;&gt; <span class="number">9</span> &lt;&lt; <span class="number">4</span>)] = len;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> a = <span class="number">1732584193</span>, b = -<span class="number">271733879</span>, c = -<span class="number">1732584194</span>, d = <span class="number">271733878</span>, i = <span class="number">0</span>; i &lt; x.length; i += <span class="number">16</span>) &#123;</span><br><span class="line">                    <span class="keyword">var</span> olda = a</span><br><span class="line">                      , oldb = b</span><br><span class="line">                      , oldc = c</span><br><span class="line">                      , oldd = d;</span><br><span class="line">                    a = md5_ff(a, b, c, d, x[i + <span class="number">0</span>], <span class="number">7</span>, -<span class="number">680876936</span>),</span><br><span class="line">                    d = md5_ff(d, a, b, c, x[i + <span class="number">1</span>], <span class="number">12</span>, -<span class="number">389564586</span>),</span><br><span class="line">                    c = md5_ff(c, d, a, b, x[i + <span class="number">2</span>], <span class="number">17</span>, <span class="number">606105819</span>),</span><br><span class="line">                    b = md5_ff(b, c, d, a, x[i + <span class="number">3</span>], <span class="number">22</span>, -<span class="number">1044525330</span>),</span><br><span class="line">                    a = md5_ff(a, b, c, d, x[i + <span class="number">4</span>], <span class="number">7</span>, -<span class="number">176418897</span>),</span><br><span class="line">                    d = md5_ff(d, a, b, c, x[i + <span class="number">5</span>], <span class="number">12</span>, <span class="number">1200080426</span>),</span><br><span class="line">                    c = md5_ff(c, d, a, b, x[i + <span class="number">6</span>], <span class="number">17</span>, -<span class="number">1473231341</span>),</span><br><span class="line">                    b = md5_ff(b, c, d, a, x[i + <span class="number">7</span>], <span class="number">22</span>, -<span class="number">45705983</span>),</span><br><span class="line">                    a = md5_ff(a, b, c, d, x[i + <span class="number">8</span>], <span class="number">7</span>, <span class="number">1770035416</span>),</span><br><span class="line">                    d = md5_ff(d, a, b, c, x[i + <span class="number">9</span>], <span class="number">12</span>, -<span class="number">1958414417</span>),</span><br><span class="line">                    c = md5_ff(c, d, a, b, x[i + <span class="number">10</span>], <span class="number">17</span>, -<span class="number">42063</span>),</span><br><span class="line">                    b = md5_ff(b, c, d, a, x[i + <span class="number">11</span>], <span class="number">22</span>, -<span class="number">1990404162</span>),</span><br><span class="line">                    a = md5_ff(a, b, c, d, x[i + <span class="number">12</span>], <span class="number">7</span>, <span class="number">1804603682</span>),</span><br><span class="line">                    d = md5_ff(d, a, b, c, x[i + <span class="number">13</span>], <span class="number">12</span>, -<span class="number">40341101</span>),</span><br><span class="line">                    c = md5_ff(c, d, a, b, x[i + <span class="number">14</span>], <span class="number">17</span>, -<span class="number">1502002290</span>),</span><br><span class="line">                    b = md5_ff(b, c, d, a, x[i + <span class="number">15</span>], <span class="number">22</span>, <span class="number">1236535329</span>),</span><br><span class="line">                    a = md5_gg(a, b, c, d, x[i + <span class="number">1</span>], <span class="number">5</span>, -<span class="number">165796510</span>),</span><br><span class="line">                    d = md5_gg(d, a, b, c, x[i + <span class="number">6</span>], <span class="number">9</span>, -<span class="number">1069501632</span>),</span><br><span class="line">                    c = md5_gg(c, d, a, b, x[i + <span class="number">11</span>], <span class="number">14</span>, <span class="number">643717713</span>),</span><br><span class="line">                    b = md5_gg(b, c, d, a, x[i + <span class="number">0</span>], <span class="number">20</span>, -<span class="number">373897302</span>),</span><br><span class="line">                    a = md5_gg(a, b, c, d, x[i + <span class="number">5</span>], <span class="number">5</span>, -<span class="number">701558691</span>),</span><br><span class="line">                    d = md5_gg(d, a, b, c, x[i + <span class="number">10</span>], <span class="number">9</span>, <span class="number">38016083</span>),</span><br><span class="line">                    c = md5_gg(c, d, a, b, x[i + <span class="number">15</span>], <span class="number">14</span>, -<span class="number">660478335</span>),</span><br><span class="line">                    b = md5_gg(b, c, d, a, x[i + <span class="number">4</span>], <span class="number">20</span>, -<span class="number">405537848</span>),</span><br><span class="line">                    a = md5_gg(a, b, c, d, x[i + <span class="number">9</span>], <span class="number">5</span>, <span class="number">568446438</span>),</span><br><span class="line">                    d = md5_gg(d, a, b, c, x[i + <span class="number">14</span>], <span class="number">9</span>, -<span class="number">1019803690</span>),</span><br><span class="line">                    c = md5_gg(c, d, a, b, x[i + <span class="number">3</span>], <span class="number">14</span>, -<span class="number">187363961</span>),</span><br><span class="line">                    b = md5_gg(b, c, d, a, x[i + <span class="number">8</span>], <span class="number">20</span>, <span class="number">1163531501</span>),</span><br><span class="line">                    a = md5_gg(a, b, c, d, x[i + <span class="number">13</span>], <span class="number">5</span>, -<span class="number">1444681467</span>),</span><br><span class="line">                    d = md5_gg(d, a, b, c, x[i + <span class="number">2</span>], <span class="number">9</span>, -<span class="number">51403784</span>),</span><br><span class="line">                    c = md5_gg(c, d, a, b, x[i + <span class="number">7</span>], <span class="number">14</span>, <span class="number">1735328473</span>),</span><br><span class="line">                    b = md5_gg(b, c, d, a, x[i + <span class="number">12</span>], <span class="number">20</span>, -<span class="number">1926607734</span>),</span><br><span class="line">                    a = md5_hh(a, b, c, d, x[i + <span class="number">5</span>], <span class="number">4</span>, -<span class="number">378558</span>),</span><br><span class="line">                    d = md5_hh(d, a, b, c, x[i + <span class="number">8</span>], <span class="number">11</span>, -<span class="number">2022574463</span>),</span><br><span class="line">                    c = md5_hh(c, d, a, b, x[i + <span class="number">11</span>], <span class="number">16</span>, <span class="number">1839030562</span>),</span><br><span class="line">                    b = md5_hh(b, c, d, a, x[i + <span class="number">14</span>], <span class="number">23</span>, -<span class="number">35309556</span>),</span><br><span class="line">                    a = md5_hh(a, b, c, d, x[i + <span class="number">1</span>], <span class="number">4</span>, -<span class="number">1530992060</span>),</span><br><span class="line">                    d = md5_hh(d, a, b, c, x[i + <span class="number">4</span>], <span class="number">11</span>, <span class="number">1272893353</span>),</span><br><span class="line">                    c = md5_hh(c, d, a, b, x[i + <span class="number">7</span>], <span class="number">16</span>, -<span class="number">155497632</span>),</span><br><span class="line">                    b = md5_hh(b, c, d, a, x[i + <span class="number">10</span>], <span class="number">23</span>, -<span class="number">1094730640</span>),</span><br><span class="line">                    a = md5_hh(a, b, c, d, x[i + <span class="number">13</span>], <span class="number">4</span>, <span class="number">681279174</span>),</span><br><span class="line">                    d = md5_hh(d, a, b, c, x[i + <span class="number">0</span>], <span class="number">11</span>, -<span class="number">358537222</span>),</span><br><span class="line">                    c = md5_hh(c, d, a, b, x[i + <span class="number">3</span>], <span class="number">16</span>, -<span class="number">722521979</span>),</span><br><span class="line">                    b = md5_hh(b, c, d, a, x[i + <span class="number">6</span>], <span class="number">23</span>, <span class="number">76029189</span>),</span><br><span class="line">                    a = md5_hh(a, b, c, d, x[i + <span class="number">9</span>], <span class="number">4</span>, -<span class="number">640364487</span>),</span><br><span class="line">                    d = md5_hh(d, a, b, c, x[i + <span class="number">12</span>], <span class="number">11</span>, -<span class="number">421815835</span>),</span><br><span class="line">                    c = md5_hh(c, d, a, b, x[i + <span class="number">15</span>], <span class="number">16</span>, <span class="number">530742520</span>),</span><br><span class="line">                    b = md5_hh(b, c, d, a, x[i + <span class="number">2</span>], <span class="number">23</span>, -<span class="number">995338651</span>),</span><br><span class="line">                    a = md5_ii(a, b, c, d, x[i + <span class="number">0</span>], <span class="number">6</span>, -<span class="number">198630844</span>),</span><br><span class="line">                    d = md5_ii(d, a, b, c, x[i + <span class="number">7</span>], <span class="number">10</span>, <span class="number">1126891415</span>),</span><br><span class="line">                    c = md5_ii(c, d, a, b, x[i + <span class="number">14</span>], <span class="number">15</span>, -<span class="number">1416354905</span>),</span><br><span class="line">                    b = md5_ii(b, c, d, a, x[i + <span class="number">5</span>], <span class="number">21</span>, -<span class="number">57434055</span>),</span><br><span class="line">                    a = md5_ii(a, b, c, d, x[i + <span class="number">12</span>], <span class="number">6</span>, <span class="number">1700485571</span>),</span><br><span class="line">                    d = md5_ii(d, a, b, c, x[i + <span class="number">3</span>], <span class="number">10</span>, -<span class="number">1894986606</span>),</span><br><span class="line">                    c = md5_ii(c, d, a, b, x[i + <span class="number">10</span>], <span class="number">15</span>, -<span class="number">1051523</span>),</span><br><span class="line">                    b = md5_ii(b, c, d, a, x[i + <span class="number">1</span>], <span class="number">21</span>, -<span class="number">2054922799</span>),</span><br><span class="line">                    a = md5_ii(a, b, c, d, x[i + <span class="number">8</span>], <span class="number">6</span>, <span class="number">1873313359</span>),</span><br><span class="line">                    d = md5_ii(d, a, b, c, x[i + <span class="number">15</span>], <span class="number">10</span>, -<span class="number">30611744</span>),</span><br><span class="line">                    c = md5_ii(c, d, a, b, x[i + <span class="number">6</span>], <span class="number">15</span>, -<span class="number">1560198380</span>),</span><br><span class="line">                    b = md5_ii(b, c, d, a, x[i + <span class="number">13</span>], <span class="number">21</span>, <span class="number">1309151649</span>),</span><br><span class="line">                    a = md5_ii(a, b, c, d, x[i + <span class="number">4</span>], <span class="number">6</span>, -<span class="number">145523070</span>),</span><br><span class="line">                    d = md5_ii(d, a, b, c, x[i + <span class="number">11</span>], <span class="number">10</span>, -<span class="number">1120210379</span>),</span><br><span class="line">                    c = md5_ii(c, d, a, b, x[i + <span class="number">2</span>], <span class="number">15</span>, <span class="number">718787259</span>),</span><br><span class="line">                    b = md5_ii(b, c, d, a, x[i + <span class="number">9</span>], <span class="number">21</span>, -<span class="number">343485551</span>),</span><br><span class="line">                    a = safe_add(a, olda),</span><br><span class="line">                    b = safe_add(b, oldb),</span><br><span class="line">                    c = safe_add(c, oldc),</span><br><span class="line">                    d = safe_add(d, oldd)</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">Array</span>(a, b, c, d)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="function"><span class="keyword">function</span> <span class="title">md5_cmn</span>(<span class="params">q, a, b, x, s, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s), b)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="function"><span class="keyword">function</span> <span class="title">md5_ff</span>(<span class="params">a, b, c, d, x, s, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> md5_cmn(b &amp; c | ~b &amp; d, a, b, x, s, t)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="function"><span class="keyword">function</span> <span class="title">md5_gg</span>(<span class="params">a, b, c, d, x, s, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> md5_cmn(b &amp; d | c &amp; ~d, a, b, x, s, t)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="function"><span class="keyword">function</span> <span class="title">md5_hh</span>(<span class="params">a, b, c, d, x, s, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> md5_cmn(b ^ c ^ d, a, b, x, s, t)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="function"><span class="keyword">function</span> <span class="title">md5_ii</span>(<span class="params">a, b, c, d, x, s, t</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> md5_cmn(c ^ (b | ~d), a, b, x, s, t)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="function"><span class="keyword">function</span> <span class="title">safe_add</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> lsw = (<span class="number">65535</span> &amp; x) + (<span class="number">65535</span> &amp; y);</span><br><span class="line">                <span class="keyword">return</span> (x &gt;&gt; <span class="number">16</span>) + (y &gt;&gt; <span class="number">16</span>) + (lsw &gt;&gt; <span class="number">16</span>) &lt;&lt; <span class="number">16</span> | <span class="number">65535</span> &amp; lsw</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="function"><span class="keyword">function</span> <span class="title">bit_rol</span>(<span class="params">num, cnt</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> num &lt;&lt; cnt | num &gt;&gt;&gt; <span class="number">32</span> - cnt</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="function"><span class="keyword">function</span> <span class="title">str2binl</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> bin = <span class="built_in">Array</span>(), mask = (<span class="number">1</span> &lt;&lt; chrsz) - <span class="number">1</span>, i = <span class="number">0</span>; i &lt; str.length * chrsz; i += chrsz)</span><br><span class="line">                    bin[i &gt;&gt; <span class="number">5</span>] |= (str.charCodeAt(i / chrsz) &amp; mask) &lt;&lt; i % <span class="number">32</span>;</span><br><span class="line">                <span class="keyword">return</span> bin</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="function"><span class="keyword">function</span> <span class="title">binl2hex</span>(<span class="params">binarray</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> hex_tab = hexcase ? <span class="string">&quot;0123456789ABCDEF&quot;</span> : <span class="string">&quot;0123456789abcdef&quot;</span>, str = <span class="string">&quot;&quot;</span>, i = <span class="number">0</span>; i &lt; <span class="number">4</span> * binarray.length; i++)</span><br><span class="line">                    str += hex_tab.charAt(binarray[i &gt;&gt; <span class="number">2</span>] &gt;&gt; i % <span class="number">4</span> * <span class="number">8</span> + <span class="number">4</span> &amp; <span class="number">15</span>) + hex_tab.charAt(binarray[i &gt;&gt; <span class="number">2</span>] &gt;&gt; i % <span class="number">4</span> * <span class="number">8</span> &amp; <span class="number">15</span>);</span><br><span class="line">                <span class="keyword">return</span> str</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">var</span> hexcase = <span class="number">0</span></span><br><span class="line">              , chrsz = <span class="number">8</span>;</span><br><span class="line">            <span class="keyword">return</span> hex_md5(args)</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;需求: js逆向模拟登录&lt;a class=&quot;link&quot;   href=&quot;https://www.sohu.com/&quot; &gt;搜狐网&lt;i class=&quot;fas fa-external-link-alt&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;首先我们点击登录打开登录框，抓包找接口，发现</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Python装饰器详解</title>
    <link href="http://example.com/2022/01/17/Python%E8%A3%85%E9%A5%B0%E5%99%A8%E8%AF%A6%E8%A7%A3/"/>
    <id>http://example.com/2022/01/17/Python%E8%A3%85%E9%A5%B0%E5%99%A8%E8%AF%A6%E8%A7%A3/</id>
    <published>2022-01-17T03:19:30.000Z</published>
    <updated>2022-01-17T07:14:58.562Z</updated>
    
    <content type="html"><![CDATA[<p>首先我们看看什么是装饰器:</p><p>Python装饰器(decorator)就是用于拓展原来函数功能的一种函数，目的是在不改变原函数名(或类名)的情况下，给函数增加新的功能；<strong>在代码运行期间动态增加功能的方式，称之为”装饰器”</strong></p><p>这个函数的特殊之处在于它的返回值也是一个函数，这个函数是内嵌原函数的函数</p><p>一般而言，我们要想拓展原来函数代码以达到扩展功能的目的，最直接的办法就是侵入代码里面修改，例如:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;world&quot;</span>)</span><br></pre></td></tr></table></figure><p>上面是我们最原始的一个函数，打印hello等待1秒钟然后再打印world，然后我们要增加一个功能(记录这个函数执行的总时间)，那最简单的做法就是改动原来的代码，改动之后是这样的:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>():</span></span><br><span class="line">    start_time = time.time()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;world&quot;</span>)</span><br><span class="line">    end_time = time.time()</span><br><span class="line"></span><br><span class="line">    execution_time = (end_time - start_time)*<span class="number">1000</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;time is %d ms&quot;</span> %execution_time)</span><br></pre></td></tr></table></figure><p>但是实际工作中，有些时候核心代码并不可以直接去改，所以在不改动原代码的情况下，我们可以再定义一个函数(就比如下面的deco函数)去包裹另外一个函数(f函数)，从而在deco函数中增加功能(嵌入了计时功能)，就比如下面的例子:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">deco</span>(<span class="params">func</span>):</span></span><br><span class="line">    start_time = time.time()</span><br><span class="line">    f()</span><br><span class="line">    end_time = time.time()</span><br><span class="line">    execution_time = (end_time - start_time)*<span class="number">1000</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;time is %d ms&quot;</span> %execution_time)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;world&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line"></span><br><span class="line">    deco(f)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;f.__name__ is&quot;</span>,f.__name__)</span><br><span class="line">    <span class="built_in">print</span>()</span><br></pre></td></tr></table></figure><p>这确实实现了不修改原来函数代码的情况下给函数增加功能，调用deco函数就会执行f函数，然后执行实现新增功能的代码，既然要在deco函数中执行f函数，那就需要把f函数作为参数传入deco函数中，上面的代码实际上传的是f函数的地址，但一个函数名就指代着这个函数在内存中存放的地址，但是这看来表面调用的还是deco函数，既然要装饰那就是修饰函数并就调用这个函数，所以接下来我们试着用装饰器来实现以上计时功能，先来看看装饰器最原始的面貌:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">deco</span>(<span class="params">f</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>():</span></span><br><span class="line">        start_time = time.time()</span><br><span class="line">        f()</span><br><span class="line">        end_time = time.time()</span><br><span class="line">        execution_time = (end_time - start_time)*<span class="number">1000</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;time is %d ms&quot;</span> %execution_time )</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"><span class="meta">@deco</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;world&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    f()</span><br></pre></td></tr></table></figure><p>这里的deco函数就是最原始的装饰器，它的参数是一个函数，然后返回值也是一个函数；其中作为参数的这个函数f()就在返回函数wrapper()的内部执行。然后在函数f()前面加上@deco；f()函数就相当于被注入了计时功能，现在只要调用f()，它就已经变身为“新的功能更多”的函数了，把<code>@deco</code>放在f()函数前，相当于执行了语句:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">f = deco(f)</span><br></pre></td></tr></table></figure><p><strong>现在同名的f变量指向了新的函数，于是调用<code>f()</code>将执行新函数，即在<code>deco()</code>函数中返回的<code>wrapper()</code>函数</strong></p><p>扩展1: 带有固定参数的装饰器</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">deco</span>(<span class="params">f</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>(<span class="params">a,b</span>):</span></span><br><span class="line">        start_time = time.time()</span><br><span class="line">        f(a,b)</span><br><span class="line">        end_time = time.time()</span><br><span class="line">        execution_time = (end_time - start_time)*<span class="number">1000</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;time is %d ms&quot;</span> % execution_time)</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="meta">@deco</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">a,b</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;be on&quot;</span>)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;result is %d&quot;</span> %(a+b))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    f(<span class="number">3</span>,<span class="number">4</span>)</span><br></pre></td></tr></table></figure><p>扩展1: 无固定参数的装饰器</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">deco</span>(<span class="params">f</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>(<span class="params">*args, **kwargs</span>):</span></span><br><span class="line">        start_time = time.time()</span><br><span class="line">        f(*args, **kwargs)</span><br><span class="line">        end_time = time.time()</span><br><span class="line">        execution_time_ = (end_time - start_time)*<span class="number">1000</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;time is %d ms&quot;</span> %execution_time)</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@deco</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">a,b</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;be on&quot;</span>)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;result is %d&quot;</span> %(a+b))</span><br><span class="line"></span><br><span class="line"><span class="meta">@deco</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f2</span>(<span class="params">a,b,c</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;be on&quot;</span>)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;result is %d&quot;</span> %(a+b+c))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    f2(<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line">    f(<span class="number">3</span>,<span class="number">4</span>)</span><br></pre></td></tr></table></figure><p>扩展3: 使用多个装饰器，装饰一个函数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">deco01</span>(<span class="params">f</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>(<span class="params">*args, **kwargs</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;this is deco01&quot;</span>)</span><br><span class="line">        start_time = time.time()</span><br><span class="line">        f(*args, **kwargs)</span><br><span class="line">        end_time = time.time()</span><br><span class="line">        execution_time = (end_time - start_time)*<span class="number">1000</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;time is %d ms&quot;</span> % execution_time)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;deco01 end here&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">deco02</span>(<span class="params">f</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>(<span class="params">*args, **kwargs</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;this is deco02&quot;</span>)</span><br><span class="line">        f(*args, **kwargs)</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;deco02 end here&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="meta">@deco01</span></span><br><span class="line"><span class="meta">@deco02</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">a,b</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;be on&quot;</span>)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;result is %d&quot;</span> %(a+b))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    f(<span class="number">3</span>,<span class="number">4</span>)</span><br></pre></td></tr></table></figure><p>装饰器的调用顺序:</p><p>像上面的代码中，装饰器是可以叠加使用的，那么使用装饰器以后代码是啥顺序呢?</p><p>对于Python中的”@”语法糖，装饰器的调用顺序与使用”@”语法糖的顺序相反，在上面的例子中，”f(3, 4) = deco01(deco02(f(3, 4)))”</p><p>Python内置装饰器:</p><p>在Python中有三个内置的装饰器，都是跟class相关的：staticmethod、classmethod 和property</p><ul><li><p>staticmethod 是类静态方法，其跟成员方法的区别是没有 self 参数，并且可以在类不进行实例化的情况下调用</p></li><li><p>classmethod 与成员方法的区别在于所接收的第一个参数不是 self(指向当前类实例，也就是指向当前对象)，而是cls(指向当前类)</p></li><li><p>property 是属性的意思，通过 @property 装饰器，可以直接通过方法名来访问方法，不需要在方法名后添加一对”()”小括号</p><p>@property的语法格式如下:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@property</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> 方法名(<span class="params">self</span>)</span></span><br><span class="line"><span class="function">    代码块</span></span><br></pre></td></tr></table></figure><p>例如，定义一个矩形类，并定义用 @property 修饰的方法操作类中的 area 私有属性，代码如下:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rect</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,area</span>):</span></span><br><span class="line">        self.__area = area</span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">area</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.__area</span><br><span class="line">rect = Rect(<span class="number">30</span>)</span><br><span class="line"><span class="comment">#直接通过方法名来访问 area 方法</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;矩形的面积是：&quot;</span>,rect.area)</span><br></pre></td></tr></table></figure><p>运行结果为:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">矩形的面积为： <span class="number">30</span></span><br></pre></td></tr></table></figure><p>上面程序中，使用 ＠property 修饰了 <code>area() </code>方法，这样就使得该方法变成了 area 属性的 getter 方法。需要注意的是，如果类中只包含该方法，那么 area 属性将是一个只读属性，也就是说，在使用 Rect 类时，无法对 area 属性重新赋值，即运行如下代码会报错:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rect.area = <span class="number">90</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;修改后的面积：&quot;</span>,rect.area)</span><br></pre></td></tr></table></figure><p>报错信息为:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;C:\Users\mengma\Desktop\1.py&quot;</span>, line <span class="number">10</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    rect.area = <span class="number">90</span></span><br><span class="line">AttributeError: can<span class="string">&#x27;t set attribute</span></span><br></pre></td></tr></table></figure><p>而要想实现修改 area 属性的值，还需要为 area 属性添加 setter 方法，就需要用到 setter 装饰器，它的语法格式如下:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@方法名.setter</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> 方法名(<span class="params">self, value</span>):</span></span><br><span class="line">    代码块</span><br></pre></td></tr></table></figure><p>例如，为 Rect 类中的 area 方法添加 setter 方法，代码如下:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@area.setter</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">area</span>(<span class="params">self, value</span>):</span></span><br><span class="line">    self.__area = value</span><br></pre></td></tr></table></figure><p>再次运行如下代码:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rect.area = <span class="number">90</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;修改后的面积：&quot;</span>,rect.area)</span><br></pre></td></tr></table></figure><p>运行结果为:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">修改后的面积: <span class="number">90</span></span><br></pre></td></tr></table></figure><p>这样，area 属性就有了 getter 和 setter 方法，该属性就变成了具有读写功能的属性</p><p>除此之外，还可以使用 deleter 装饰器来删除指定属性，其语法格式为:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@方法名.deleter</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> 方法名(<span class="params">self</span>):</span></span><br><span class="line">    代码块</span><br></pre></td></tr></table></figure><p>例如，在 Rect 类中，给 area() 方法添加 deleter 方法，实现代码如下:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@area.deleter</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">area</span>(<span class="params">self</span>):</span></span><br><span class="line">    self.__area = <span class="number">0</span></span><br></pre></td></tr></table></figure><p>然后运行如下代码:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">del</span> rect.area</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;删除后的area值为：&quot;</span>,rect.area)</span><br></pre></td></tr></table></figure><p>运行结果为:</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">删除后的area值为： <span class="number">0</span></span><br></pre></td></tr></table></figure></li></ul><ul><li> 案例: 不使用property装饰器实现分页</li></ul>  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="comment">#不使用property装饰器实现分页</span></span><br><span class="line"> <span class="number">2</span> </span><br><span class="line"> <span class="number">3</span> li=[x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>)]</span><br><span class="line"> <span class="number">4</span> <span class="class"><span class="keyword">class</span> <span class="title">PageBean</span>:</span></span><br><span class="line"> <span class="number">5</span>     <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,value</span>):</span></span><br><span class="line"> <span class="number">6</span>         <span class="keyword">if</span> value.isdigit():</span><br><span class="line"> <span class="number">7</span>             self.page=<span class="built_in">int</span>(value)</span><br><span class="line"> <span class="number">8</span>         <span class="keyword">else</span>:</span><br><span class="line"> <span class="number">9</span>             self.page=<span class="number">1</span>       </span><br><span class="line"><span class="number">10</span>     <span class="function"><span class="keyword">def</span> <span class="title">start</span>(<span class="params">self</span>):</span></span><br><span class="line"><span class="number">11</span>         <span class="keyword">return</span> (self.page-<span class="number">1</span>)*<span class="number">10</span></span><br><span class="line"><span class="number">12</span>     <span class="function"><span class="keyword">def</span> <span class="title">end</span>(<span class="params">self</span>):</span></span><br><span class="line"><span class="number">13</span>         <span class="keyword">return</span> self.page*<span class="number">10</span></span><br><span class="line"><span class="number">14</span> <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line"><span class="number">15</span>    p=<span class="built_in">input</span>(<span class="string">&quot;请输入你要查看的页码(退出请按0):&quot;</span>)</span><br><span class="line"><span class="number">16</span>    <span class="keyword">if</span> <span class="keyword">not</span>(p.isdigit()):</span><br><span class="line"><span class="number">17</span>        <span class="built_in">print</span>(<span class="string">&quot;输入错误，请重新输入&quot;</span>)</span><br><span class="line"><span class="number">18</span>    <span class="keyword">else</span>:</span><br><span class="line"><span class="number">19</span>        <span class="keyword">if</span> <span class="built_in">int</span>(p)==<span class="number">0</span>:</span><br><span class="line"><span class="number">20</span>            <span class="keyword">break</span></span><br><span class="line"><span class="number">21</span>        <span class="keyword">else</span>:</span><br><span class="line"><span class="number">22</span>            pageBean=PageBean(p)</span><br><span class="line"><span class="number">23</span>            liP=li[pageBean.start():pageBean.end()]</span><br><span class="line"><span class="number">24</span>            <span class="built_in">print</span>(liP)</span><br></pre></td></tr></table></figure><ul><li><p>案例: 使用property装饰器实现分页</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="comment">#利用property装饰器实现分页</span></span><br><span class="line"> <span class="number">2</span> </span><br><span class="line"> <span class="number">3</span> li=[x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>)]</span><br><span class="line"> <span class="number">4</span> <span class="class"><span class="keyword">class</span> <span class="title">PageBean</span>:</span></span><br><span class="line"> <span class="number">5</span>     <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,value</span>):</span></span><br><span class="line"> <span class="number">6</span>         <span class="keyword">if</span> value.isdigit():</span><br><span class="line"> <span class="number">7</span>             self.page=<span class="built_in">int</span>(value)</span><br><span class="line"> <span class="number">8</span>         <span class="keyword">else</span>:</span><br><span class="line"> <span class="number">9</span>             self.page=<span class="number">1</span></span><br><span class="line"><span class="number">10</span>     <span class="comment">#使用property装饰器进行装饰</span></span><br><span class="line"><span class="number">11</span>     @<span class="built_in">property</span> </span><br><span class="line"><span class="number">12</span>     <span class="function"><span class="keyword">def</span> <span class="title">start</span>(<span class="params">self</span>):</span></span><br><span class="line"><span class="number">13</span>         <span class="keyword">return</span> (self.page-<span class="number">1</span>)*<span class="number">10</span></span><br><span class="line"><span class="number">14</span>     @<span class="built_in">property</span></span><br><span class="line"><span class="number">15</span>     <span class="function"><span class="keyword">def</span> <span class="title">end</span>(<span class="params">self</span>):</span></span><br><span class="line"><span class="number">16</span>         <span class="keyword">return</span> self.page*<span class="number">10</span></span><br><span class="line"><span class="number">17</span> <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line"><span class="number">18</span>    p=<span class="built_in">input</span>(<span class="string">&quot;请输入你要查看的页码(退出请按0):&quot;</span>)</span><br><span class="line"><span class="number">19</span>    <span class="keyword">if</span> <span class="keyword">not</span>(p.isdigit()):</span><br><span class="line"><span class="number">20</span>        <span class="built_in">print</span>(<span class="string">&quot;输入错误，请重新输入&quot;</span>)</span><br><span class="line"><span class="number">21</span>    <span class="keyword">else</span>:</span><br><span class="line"><span class="number">22</span>        <span class="keyword">if</span> <span class="built_in">int</span>(p)==<span class="number">0</span>:</span><br><span class="line"><span class="number">23</span>            <span class="keyword">break</span></span><br><span class="line"><span class="number">24</span>        <span class="keyword">else</span>:</span><br><span class="line"><span class="number">25</span>            pageBean=PageBean(p)</span><br><span class="line"><span class="number">26</span>            liP=li[pageBean.start:pageBean.end]<span class="comment">#此处调用不用括号，形式上和属性一直</span></span><br><span class="line"><span class="number">27</span>            <span class="built_in">print</span>(liP)</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;首先我们看看什么是装饰器:&lt;/p&gt;
&lt;p&gt;Python装饰器(decorator)就是用于拓展原来函数功能的一种函数，目的是在不改变原函数名(或类名)的情况下，给函数增加新的功能；&lt;strong&gt;在代码运行期间动态增加功能的方式，称之为”装饰器”&lt;/strong&gt;&lt;/p&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Sublime如何添加Gobuildsystem并运行Go代码</title>
    <link href="http://example.com/2022/01/17/Sublime%E5%A6%82%E4%BD%95%E6%B7%BB%E5%8A%A0Gobuildsystem%E5%B9%B6%E8%BF%90%E8%A1%8CGo%E4%BB%A3%E7%A0%81/"/>
    <id>http://example.com/2022/01/17/Sublime%E5%A6%82%E4%BD%95%E6%B7%BB%E5%8A%A0Gobuildsystem%E5%B9%B6%E8%BF%90%E8%A1%8CGo%E4%BB%A3%E7%A0%81/</id>
    <published>2022-01-17T01:21:30.000Z</published>
    <updated>2022-01-17T01:32:09.817Z</updated>
    
    <content type="html"><![CDATA[<p>今天早上来到公司，这边电脑是没有Goland编辑器的，这边有Sublime然后就想着在Sublime上写示例代码，下面来讲讲如何在Sublime上运行Go代码:</p><p>首先你需要安装Go的开发环境，并添加到环境变量，一般在安装的时候会默认添加，然后就看以下操作了:</p><ol><li><p>打开Sublime然后点击tools再点击Build System再点击New Build System:</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220117/Snipaste_2022-01-17_09-25-44.15upn81oyxr4.webp"                      alt="Snipaste_2022-01-17_09-25-44"                ></p></li><li><p>然后复制以下代码并保存(可以命名为go-sublime-build):</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;cmd&quot;: [&quot;go&quot;, &quot;run&quot;, &quot;$file_name&quot;], </span><br><span class="line">    &quot;file_regex&quot;: &quot;^[ ]*File \&quot;(…*?)\&quot;, line ([0-9]*)&quot;, </span><br><span class="line">    &quot;working_dir&quot;: &quot;$file_path&quot;, </span><br><span class="line">    &quot;selector&quot;: &quot;source.go&quot; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意：文件直接保存在默认打开的位置，不要另存到新的文件夹</p></li><li><p>然后便可以运行Go代码啦(CTRL+B运行)</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220117/Snipaste_2022-01-17_09-30-30.5mup3yw2pxs0.webp"                      alt="Snipaste_2022-01-17_09-30-30"                ></p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;今天早上来到公司，这边电脑是没有Goland编辑器的，这边有Sublime然后就想着在Sublime上写示例代码，下面来讲讲如何在Sublime上运行Go代码:&lt;/p&gt;
&lt;p&gt;首先你需要安装Go的开发环境，并添加到环境变量，一般在安装的时候会默认添加，然后就看以下操作了:&lt;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>关于Go的学习资讯宝藏站点--Go语言中文网</title>
    <link href="http://example.com/2022/01/16/%E5%85%B3%E4%BA%8EGo%E7%9A%84%E5%AD%A6%E4%B9%A0%E8%B5%84%E8%AE%AF%E5%AE%9D%E8%97%8F%E7%AB%99%E7%82%B9--Go%E8%AF%AD%E8%A8%80%E4%B8%AD%E6%96%87%E7%BD%91/"/>
    <id>http://example.com/2022/01/16/%E5%85%B3%E4%BA%8EGo%E7%9A%84%E5%AD%A6%E4%B9%A0%E8%B5%84%E8%AE%AF%E5%AE%9D%E8%97%8F%E7%AB%99%E7%82%B9--Go%E8%AF%AD%E8%A8%80%E4%B8%AD%E6%96%87%E7%BD%91/</id>
    <published>2022-01-16T15:57:20.000Z</published>
    <updated>2022-01-16T16:00:31.462Z</updated>
    
    <content type="html"><![CDATA[<p>今天在查资料的时候偶然访问到这个站点，发现挺不错的，有各种优质的文章和技术分享，项目以及图书，还有关于Go的官方文档，<a class="link"   href="https://studygolang.com/" >点击跳转<i class="fas fa-external-link-alt"></i></a></p><p><a href="https://imgtu.com/i/7NXXZV"><img                       lazyload                     src="/images/loading.svg"                     data-src="https://s4.ax1x.com/2022/01/16/7NXXZV.png"                      alt="7NXXZV.png"                ></a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;今天在查资料的时候偶然访问到这个站点，发现挺不错的，有各种优质的文章和技术分享，项目以及图书，还有关于Go的官方文档，&lt;a class=&quot;link&quot;   href=&quot;https://studygolang.com/&quot; &gt;点击跳转&lt;i class=&quot;fas fa-extern</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>CSDN的社区板块--一块宝地</title>
    <link href="http://example.com/2022/01/16/CSDN%E7%9A%84%E7%A4%BE%E5%8C%BA%E6%9D%BF%E5%9D%97--%E4%B8%80%E5%9D%97%E5%AE%9D%E5%9C%B0/"/>
    <id>http://example.com/2022/01/16/CSDN%E7%9A%84%E7%A4%BE%E5%8C%BA%E6%9D%BF%E5%9D%97--%E4%B8%80%E5%9D%97%E5%AE%9D%E5%9C%B0/</id>
    <published>2022-01-16T15:48:15.000Z</published>
    <updated>2022-01-16T15:49:49.383Z</updated>
    
    <content type="html"><![CDATA[<p>CSDN的社区板块真是一块宝地，<a class="link"   href="https://bbs.csdn.net/" >点击跳转<i class="fas fa-external-link-alt"></i></a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;CSDN的社区板块真是一块宝地，&lt;a class=&quot;link&quot;   href=&quot;https://bbs.csdn.net/&quot; &gt;点击跳转&lt;i class=&quot;fas fa-external-link-alt&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/p&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>推荐一个面试题分享网站--来自鱼皮</title>
    <link href="http://example.com/2022/01/16/%E6%8E%A8%E8%8D%90%E4%B8%80%E4%B8%AA%E9%9D%A2%E8%AF%95%E9%A2%98%E5%88%86%E4%BA%AB%E7%BD%91%E7%AB%99--%E6%9D%A5%E8%87%AA%E9%B1%BC%E7%9A%AE/"/>
    <id>http://example.com/2022/01/16/%E6%8E%A8%E8%8D%90%E4%B8%80%E4%B8%AA%E9%9D%A2%E8%AF%95%E9%A2%98%E5%88%86%E4%BA%AB%E7%BD%91%E7%AB%99--%E6%9D%A5%E8%87%AA%E9%B1%BC%E7%9A%AE/</id>
    <published>2022-01-16T12:54:50.000Z</published>
    <updated>2022-01-16T12:57:17.964Z</updated>
    
    <content type="html"><![CDATA[<p>鱼皮大神新上线了一个面试题分享网站，感觉挺有意思的，<a class="link"   href="https://www.mianshiya.com/" >点击跳转<i class="fas fa-external-link-alt"></i></a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;鱼皮大神新上线了一个面试题分享网站，感觉挺有意思的，&lt;a class=&quot;link&quot;   href=&quot;https://www.mianshiya.com/&quot; &gt;点击跳转&lt;i class=&quot;fas fa-external-link-alt&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/p&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>GoLand编辑器运行Go代码报错-package XXX is not in GOROOT (XXXXGosrcXXX)的解决方法</title>
    <link href="http://example.com/2022/01/16/GoLand%E7%BC%96%E8%BE%91%E5%99%A8%E8%BF%90%E8%A1%8CGo%E4%BB%A3%E7%A0%81%E6%8A%A5%E9%94%99-package%20XXX%20is%20not%20in%20GOROOT%20(XXXXGosrcXXX)%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/"/>
    <id>http://example.com/2022/01/16/GoLand%E7%BC%96%E8%BE%91%E5%99%A8%E8%BF%90%E8%A1%8CGo%E4%BB%A3%E7%A0%81%E6%8A%A5%E9%94%99-package%20XXX%20is%20not%20in%20GOROOT%20(XXXXGosrcXXX)%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</id>
    <published>2022-01-16T10:47:18.000Z</published>
    <updated>2022-01-16T10:54:27.079Z</updated>
    
    <content type="html"><![CDATA[<p>操作系统: win10</p><p>Go版本: 1.17.3</p><p>集成开发环境版本: GoLand 2019.3</p><p>GoLand编辑器运行Go代码报错: package XXX is not in GOROOT (XXXXGosrcXXX)</p><p>问题分析:</p><p>报错显示它是在寻找GOROOT下的包，应该是路径问题，或者环境设置问题，输入go env检查了一下环境，发现GO111MODULE=on，编译器没有去gopath下找包，在 gomod 模式下，查找包就不会去 gopath 查找</p><p>解决方法:</p><p>打开cmd，然后输入以下命令(设置GO111MODULE为off即可):</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go env -w GO111MODULE=off</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;操作系统: win10&lt;/p&gt;
&lt;p&gt;Go版本: 1.17.3&lt;/p&gt;
&lt;p&gt;集成开发环境版本: GoLand 2019.3&lt;/p&gt;
&lt;p&gt;GoLand编辑器运行Go代码报错: package XXX is not in GOROOT (XXXXGosrcXXX)&lt;/p&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Git命令行提交代码到GitHub或GitLab的几个基础步骤</title>
    <link href="http://example.com/2022/01/15/Git%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81%E5%88%B0GitHub%E6%88%96GitLab%E7%9A%84%E5%87%A0%E4%B8%AA%E5%9F%BA%E7%A1%80%E6%AD%A5%E9%AA%A4/"/>
    <id>http://example.com/2022/01/15/Git%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81%E5%88%B0GitHub%E6%88%96GitLab%E7%9A%84%E5%87%A0%E4%B8%AA%E5%9F%BA%E7%A1%80%E6%AD%A5%E9%AA%A4/</id>
    <published>2022-01-15T14:51:18.000Z</published>
    <updated>2022-01-15T16:07:30.919Z</updated>
    
    <content type="html"><![CDATA[<p>首先我们有一个项目，它有如下文件:</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220115/Snipaste_2022-01-15_22-52-44.4dwu2qvyzlk0.webp"                      alt="Snipaste_2022-01-15_22-52-44"                ></p><p>其实只有两个文件是真正属于我们项目中的，红框中的<code>.idea</code>是Jetbrain这一款编辑器自动生成的，这里由于我已经提交过所以生成了红框之外的<code>.git</code>文件，这里我们看到这个<code>.git</code>文件夹的颜色有点透明，这表明这个是个隐藏文件，只不过我设置了显示隐藏文件所以能看到，实际上它是由Git命令<code>git init</code>生成的</p><p>这里我们假设项目中只有红框中的后两个文件，那么如何提交呢</p><p>第一步: <code>git init</code></p><p>命令解释: <strong>初始化(生成并做一些默认配置)一个空的git本地仓库</strong>，执行完上面的命令，当前目录下会自动生成<code>.git</code>隐藏文件夹，该隐藏文件夹就是<code>git</code>版本库</p><p>第二步: <code>git remote add origin 远程仓库地址</code></p><p>命令解释: 这是一个<strong>添加远程仓库的命令，<code>origin</code>是给远程仓库起的一个别名</strong></p><p>命令格式:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add [shortname] [url]</span><br></pre></td></tr></table></figure><p>第三步: <code>git add 要上传的文件</code></p><p>命令解释: <strong>添加要上传的文件，提交到暂缓区</strong>，如果全部添加就<code>git add .</code>，这里的<code>.</code>就代表当前目录下的所有文件</p><p>第四步: <code>git commit -m &quot;备注信息&quot;</code></p><p>命令解释: 这是<strong>将暂缓区内容提交到本地仓库</strong>，然后-m后面可以用引号包裹一些备注信息</p><p>扩展一下，将<code>-m</code>改成<code>-a</code>的话，那下次如果修改这个文件就需要执行<code>git add</code>命令，直接就提交到本地仓库，后面仍然可以用引号包裹一些备注信息</p><p>第五步: <code>git push -u origin master</code></p><p>命令格式: </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push &lt;远程主机名&gt; &lt;本地分支名&gt;:&lt;远程分支名&gt;</span><br></pre></td></tr></table></figure><p>命令解释: 上面的命令是<strong>将本地的master分支推送到origin仓库的master分支</strong>；如果后者不存在，则会被新建，比如<code>git push origin master</code>，同时**<code>-u</code>指定origin为默认主机，后面就可以不加任何参数使用<code>git push</code>直接提交**</p><p>注意: 分支推送顺序的写法是&lt;来源地&gt;:&lt;目的地&gt;，所以<code>git pull</code>是&lt;远程分支&gt;:&lt;本地分支&gt;，而<code>git push</code>是&lt;本地分支&gt;:&lt;远程分支&gt;，上面命令没有写冒号，这表示本地和远程都是master分支，而如果带了冒号且省略本地分支名，则表示删除指定的远程分支，因为这等同于推送一个空的本地分支到远程分支，下面的命令表示删除origin仓库的master分支</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git push origin :master</span><br><span class="line">等同于:</span><br><span class="line">git push origin --delete master</span><br></pre></td></tr></table></figure><p>题外话: 在你接管别人的工作电脑之后，你需要重设提交的用户信息，包括用户名和邮箱:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &#x27;username&#x27;</span><br><span class="line">git config --global user.email test@abc.com</span><br></pre></td></tr></table></figure><p>如果<strong>去掉 <code>--global</code> 参数就表示只对当前仓库有效</strong></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;首先我们有一个项目，它有如下文件:&lt;/p&gt;
&lt;p&gt;&lt;img  
                     lazyload
                     src=&quot;/images/loading.svg&quot;
                     data-sr</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Goland编辑器配置GOROOT时报错The selected directory is not a valid home for Go SDK的解决方法</title>
    <link href="http://example.com/2022/01/15/Goland%E7%BC%96%E8%BE%91%E5%99%A8%E9%85%8D%E7%BD%AEGOROOT%E6%97%B6%E6%8A%A5%E9%94%99The%20selected%20directory%20is%20not%20a%20valid%20home%20for%20Go%20SDK%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/"/>
    <id>http://example.com/2022/01/15/Goland%E7%BC%96%E8%BE%91%E5%99%A8%E9%85%8D%E7%BD%AEGOROOT%E6%97%B6%E6%8A%A5%E9%94%99The%20selected%20directory%20is%20not%20a%20valid%20home%20for%20Go%20SDK%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</id>
    <published>2022-01-15T14:20:28.509Z</published>
    <updated>2022-01-15T14:19:41.345Z</updated>
    
    <content type="html"><![CDATA[<p>操作系统: win10</p><p>Go版本: 1.17.3</p><p>集成开发环境版本: GoLand 2019.3</p><p>GoLand指定Go版本报错: The selected directory is not a valid home for Go SDK</p><p>解决方法:</p><p>打开Go的安装目录，我这里的是: C:\Program Files\Go</p><p>然后进入这个文件: src\runtime\internal\sys\zversion.go</p><p>添加一条</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const TheVersion = `go1.17.3`</span><br></pre></td></tr></table></figure><p>然后即可添加，添加C:\Program Files\Go这个路径即可</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;操作系统: win10&lt;/p&gt;
&lt;p&gt;Go版本: 1.17.3&lt;/p&gt;
&lt;p&gt;集成开发环境版本: GoLand 2019.3&lt;/p&gt;
&lt;p&gt;GoLand指定Go版本报错: The selected directory is not a valid home for Go S</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>js逆向百度翻译(小白练手案例)</title>
    <link href="http://example.com/2022/01/14/js%E9%80%86%E5%90%91%E7%99%BE%E5%BA%A6%E7%BF%BB%E8%AF%91(%E5%B0%8F%E7%99%BD%E7%BB%83%E6%89%8B%E6%A1%88%E4%BE%8B)/"/>
    <id>http://example.com/2022/01/14/js%E9%80%86%E5%90%91%E7%99%BE%E5%BA%A6%E7%BF%BB%E8%AF%91(%E5%B0%8F%E7%99%BD%E7%BB%83%E6%89%8B%E6%A1%88%E4%BE%8B)/</id>
    <published>2022-01-14T09:51:30.000Z</published>
    <updated>2022-01-15T09:59:08.141Z</updated>
    
    <content type="html"><![CDATA[<p>首先我们打开<a class="link"   href="https://fanyi.baidu.com/" >百度翻译<i class="fas fa-external-link-alt"></i></a>然后按F12打开抓包工具，我们点击Fetch/XHR，然后我们随便输入一个中文，点击翻译，我们需要关注的是v2transapiform=zh&amp;to=en这个post请求</p><p>首先我们输入你好然后回车(或者点击翻译触发)</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220114/Snipaste_2022-01-14_17-57-25.75uih5lkygg0.webp"                      alt="Snipaste_2022-01-14_17-57-25"                ></p><p>我们再翻译一个他们</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220114/Snipaste_2022-01-14_17-59-20.2ajraqbd1ajo.webp"                      alt="Snipaste_2022-01-14_17-59-20"                ></p><p>再翻译一个我们</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220114/Snipaste_2022-01-14_18-00-49.112slao8x7y8.webp"                      alt="Snipaste_2022-01-14_18-00-49"                ></p><p>这个过程中我们不难发现，formdata中变的就两个，一个是query，另一个是sign</p><p>现在我们知道了要构造请求的参数，以及变化且需要破解的参数，我们就可以着手去做了</p><p>我们先全局搜索下sign这个参数，我们发现搜索出来的东西很多，但是我定睛一看，发现有一个js文件中出现了很多的sign字样，其他的出现得比较少而且很多assign混在其中，这使我有想法去看看这个js文件(或者试试搜索/v2transapi，这个搜出来应该只有一个，而且可以很快定位表单数据)</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220114/Snipaste_2022-01-14_18-13-14.14mi2mf1urb4.webp"                      alt="Snipaste_2022-01-14_18-13-14"                ></p><p>那么我是如何定位到这个js文件的呢，首先看下面这个红框，我会记住这个js文件的名字和路径然后点击工具栏中的source，根据刚刚的路径就能快速定位到这个js文件</p><p>定位到之后，这个js文件的排版是很乱的，我们可以点击左下角的花括号去做一次排版，使我们看得更舒服，然后我们同样在这个js文件中做一次搜索，CTRL+F，然后搜索sign，会发现一共有13个，我们一个一个筛选，最终发现了第10个是最符合我们预期的，因为它最完整，和前面的formdata都一一对上了</p><p>我们在这个sign所在的行打上一个断点</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220114/Snipaste_2022-01-14_18-19-45.54fn2luukw40.webp"                      alt="Snipaste_2022-01-14_18-19-45"                ></p><p>然后在网页中翻译一个词语，回车后会发现程序断在了刚刚打断点的前面，然后我们鼠标悬停在L(e)函数上，会出现一个悬浮框，然后我们点击悬浮框中的e(r)函数跳转进入e(r)函数</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220114/Snipaste_2022-01-14_18-25-32.639vii0gnec0.webp"                      alt="Snipaste_2022-01-14_18-25-32"                ></p><p>跳转进e(r)函数是这样的</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220114/Snipaste_2022-01-14_18-27-16.773t1gfdjbk0.webp"                      alt="Snipaste_2022-01-14_18-27-16"                ></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220115/Snipaste_2022-01-15_14-57-10.71lax0bd91c0.webp"                      alt="Snipaste_2022-01-15_14-57-10"                ></p><p>这里我们发现e(r)中牵扯到了其他两个函数，一个是a(r)，另一个是n(r, o)，所以这两个三个函数都要扣出来，然后我们发现还有一个未知的是window[1]</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220115/Snipaste_2022-01-15_15-14-47.66u2pvh2u500.webp"                      alt="Snipaste_2022-01-15_15-14-47"                ></p><p>这里有一句关键的代码我们来分析下</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">u = <span class="literal">null</span> !== i ? i : (i = <span class="built_in">window</span>[l] || <span class="string">&quot;&quot;</span>) || <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="comment">// 这是一个js中的三元表达式，而我们看到下面定义了var i = null;所以null !== i 为假所以u的值为(i = window[l] || &quot;&quot;)，u的值也就是window[1]</span></span><br></pre></td></tr></table></figure><p>我们经过多次调试发现这个u是一个确定的值，u=320305.131321201，我们可以直接用一个变量代替</p><p>下面就是我们抠出来的js代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">jsCode = <span class="string">&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">    function a(r) &#123;</span></span><br><span class="line"><span class="string">        if (Array.isArray(r)) &#123;</span></span><br><span class="line"><span class="string">            for (var o = 0, t = Array(r.length); o &lt; r.length; o++)</span></span><br><span class="line"><span class="string">                t[o] = r[o];</span></span><br><span class="line"><span class="string">            return t</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">        return Array.from(r)</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    function n(r, o) &#123;</span></span><br><span class="line"><span class="string">        for (var t = 0; t &lt; o.length - 2; t += 3) &#123;</span></span><br><span class="line"><span class="string">            var a = o.charAt(t + 2);</span></span><br><span class="line"><span class="string">            a = a &gt;= &quot;</span>a<span class="string">&quot; ? a.charCodeAt(0) - 87 : Number(a),</span></span><br><span class="line"><span class="string">            a = &quot;</span>+<span class="string">&quot; === o.charAt(t + 1) ? r &gt;&gt;&gt; a : r &lt;&lt; a,</span></span><br><span class="line"><span class="string">            r = &quot;</span>+<span class="string">&quot; === o.charAt(t) ? r + a &amp; 4294967295 : r ^ a</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">        return r</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    var i = null;</span></span><br><span class="line"><span class="string">    function e(r) &#123;</span></span><br><span class="line"><span class="string">        var t = r.length;</span></span><br><span class="line"><span class="string">        t &gt; 30 &amp;&amp; (r = &quot;</span><span class="string">&quot; + r.substr(0, 10) + r.substr(Math.floor(t / 2) - 5, 10) + r.substr(-10, 10))</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        var u = void 0, l = &quot;</span><span class="string">&quot; + String.fromCharCode(103) + String.fromCharCode(116) + String.fromCharCode(107);</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        u = null !== i ? i : (i = &#x27;320305.131321201&#x27; || &quot;</span><span class="string">&quot;) || &quot;</span><span class="string">&quot;;</span></span><br><span class="line"><span class="string">        for (var d = u.split(&quot;</span>.<span class="string">&quot;), m = Number(d[0]) || 0, s = Number(d[1]) || 0, S = [], c = 0, v = 0; v &lt; r.length; v++) &#123;</span></span><br><span class="line"><span class="string">            var A = r.charCodeAt(v);</span></span><br><span class="line"><span class="string">            128 &gt; A ? S[c++] = A : (2048 &gt; A ? S[c++] = A &gt;&gt; 6 | 192 : (55296 === (64512 &amp; A) &amp;&amp; v + 1 &lt; r.length &amp;&amp; 56320 === (64512 &amp; r.charCodeAt(v + 1)) ? (A = 65536 + ((1023 &amp; A) &lt;&lt; 10) + (1023 &amp; r.charCodeAt(++v)),</span></span><br><span class="line"><span class="string">            S[c++] = A &gt;&gt; 18 | 240,</span></span><br><span class="line"><span class="string">            S[c++] = A &gt;&gt; 12 &amp; 63 | 128) : S[c++] = A &gt;&gt; 12 | 224,</span></span><br><span class="line"><span class="string">            S[c++] = A &gt;&gt; 6 &amp; 63 | 128),</span></span><br><span class="line"><span class="string">            S[c++] = 63 &amp; A | 128)</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">        for (var p = m, F = &quot;</span><span class="string">&quot; + String.fromCharCode(43) + String.fromCharCode(45) + String.fromCharCode(97) + (&quot;</span><span class="string">&quot; + String.fromCharCode(94) + String.fromCharCode(43) + String.fromCharCode(54)), D = &quot;</span><span class="string">&quot; + String.fromCharCode(43) + String.fromCharCode(45) + String.fromCharCode(51) + (&quot;</span><span class="string">&quot; + String.fromCharCode(94) + String.fromCharCode(43) + String.fromCharCode(98)) + (&quot;</span><span class="string">&quot; + String.fromCharCode(43) + String.fromCharCode(45) + String.fromCharCode(102)), b = 0; b &lt; S.length; b++)</span></span><br><span class="line"><span class="string">            p += S[b],</span></span><br><span class="line"><span class="string">            p = n(p, F);</span></span><br><span class="line"><span class="string">        return p = n(p, D),</span></span><br><span class="line"><span class="string">        p ^= s,</span></span><br><span class="line"><span class="string">        0 &gt; p &amp;&amp; (p = (2147483647 &amp; p) + 2147483648),</span></span><br><span class="line"><span class="string">        p %= 1e6,</span></span><br><span class="line"><span class="string">        p.toString() + &quot;</span>.<span class="string">&quot; + (p ^ m)</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> execjs</span><br><span class="line">query = <span class="string">&#x27;汉语中文&#x27;</span></span><br><span class="line">sign = execjs.compile(jsCode).call(<span class="string">&quot;e&quot;</span>, query)</span><br><span class="line">print(sign)</span><br></pre></td></tr></table></figure><p>执行结果如下</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220115/Snipaste_2022-01-15_15-45-22.1whcvuiqyf5s.webp"                      alt="Snipaste_2022-01-15_15-45-22"                ></p><p>接下就简单了，构造一个post请求然后解析json数据，拿到翻译结果</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> test_baidu_jscode <span class="keyword">import</span> get_word_sign</span><br><span class="line"><span class="keyword">import</span> jsonpath</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;https://fanyi.baidu.com/v2transapi?from=zh&amp;to=en&quot;</span></span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;Connection&#x27;</span>: <span class="string">&#x27;keep-alive&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;sec-ch-ua&#x27;</span>: <span class="string">&#x27;&quot; Not;A Brand&quot;;v=&quot;99&quot;, &quot;Google Chrome&quot;;v=&quot;97&quot;, &quot;Chromium&quot;;v=&quot;97&quot;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;*/*&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/x-www-form-urlencoded; charset=UTF-8&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;X-Requested-With&#x27;</span>: <span class="string">&#x27;XMLHttpRequest&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;sec-ch-ua-mobile&#x27;</span>: <span class="string">&#x27;?0&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) &#x27;</span></span><br><span class="line">                  <span class="string">&#x27;Chrome/97.0.4692.71 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;sec-ch-ua-platform&#x27;</span>: <span class="string">&#x27;&quot;Windows&quot;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Origin&#x27;</span>: <span class="string">&#x27;https://fanyi.baidu.com&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Sec-Fetch-Site&#x27;</span>: <span class="string">&#x27;same-origin&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Sec-Fetch-Mode&#x27;</span>: <span class="string">&#x27;cors&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Sec-Fetch-Dest&#x27;</span>: <span class="string">&#x27;empty&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Referer&#x27;</span>: <span class="string">&#x27;https://fanyi.baidu.com/?aldtype=16047&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Accept-Language&#x27;</span>: <span class="string">&#x27;zh-CN,zh;q=0.9&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Cookie&#x27;</span>: <span class="string">&#x27;BIDUPSID=CF86A0FA51038D0CA02DA9FC43B164F5; PSTM=1639146064; &#x27;</span></span><br><span class="line">              <span class="string">&#x27;BAIDUID=CF86A0FA51038D0CFFCCCD08415508DA:FG=1; &#x27;</span></span><br><span class="line">              <span class="string">&#x27;__yjs_duid=1_689d947b2f957f0b0d895ae63c66114f1639229602485; &#x27;</span></span><br><span class="line">              <span class="string">&#x27;BAIDUID_BFESS=3A9FDFF925D6EA302A897713757BE825:FG=1; BDRCVFR[iqrboYocJ-C]=kRxlD0AvOmRPjIMTz4WUvY; &#x27;</span></span><br><span class="line">              <span class="string">&#x27;BDRCVFR[fq555l35Iot]=EBD6F1bEM2tXZKdrHn8mvqV; delPer=0; BDORZ=FFFB88E999055A3F8A630C64834BD6D0; &#x27;</span></span><br><span class="line">              <span class="string">&#x27;BDRCVFR[3lgytkvnri6]=mk3SLVN4HKm; H_PS_PSSID=; REALTIME_TRANS_SWITCH=1; FANYI_WORD_SWITCH=1; &#x27;</span></span><br><span class="line">              <span class="string">&#x27;HISTORY_SWITCH=1; SOUND_PREFER_SWITCH=1; SOUND_SPD_SWITCH=1; APPGUIDE_10_0_2=1; &#x27;</span></span><br><span class="line">              <span class="string">&#x27;Hm_lvt_64ecd82404c51e03dc91cb9e8c025574=1642227471,1642227478; PSINO=6; &#x27;</span></span><br><span class="line">              <span class="string">&#x27;BA_HECTOR=2hag052ha52h010lkt1gu4ujh0r; Hm_lpvt_64ecd82404c51e03dc91cb9e8c025574=1642233008; &#x27;</span></span><br><span class="line">              <span class="string">&#x27;ab_sr=1.0&#x27;</span></span><br><span class="line">              <span class="string">&#x27;.1_NjI2ZDk1Y2JmYzQ2ZTBiNTZmNWIyZjllNTU4ZjE4MmM1ZTI2ZmVjMjAyNmJhN2E5NGJhNWVjYmM2OWFmMTRjOTE0ZDQ2M2Y5MmY5N2RmNDUzNzYwNGJjZmZlYmVhZjZjMjgzYWI5YjhhZDJlNzg0NTNiZjRmNjhmMzU5ZDIxNzhkNzhiNDlmYTQyODhhMmZmOGM3MmM2NzhhMTlhZDU2NQ==; __yjs_st=2_NTA2ZGI3NzkyZGNmMzE4M2JkNzk0MTNkMWRmMzBkZmQwNjBlOTYzMDRhZjZmOTJhZGYzOGFjZWRlMTE1NjU4ZTA5ZDljMGQyMjA3Nzk0OWE3NmZhNThjY2YzYTBmMjVhMzAxYmQyZmFkM2VhMTc0YjE5MmJlM2VmZGZlMjhiMzkxMTQzMWY4NGYyNzZkNjM1YjE2ZjNhYjA4M2ViZmNmZDU2YWQzMzc0N2YzMGFiZGVhZTY5NzRiMjc0MzdlMjdjYTM2MGU2OGJmYTJhM2VhZWJiNzIxYWEyODc1ODZlZTBlOGYwOTM1ZWNkMjE4YzM0ZDFiMTY1YjgwMDNmZjhjZV83X2NjZDQ3NTdj &#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_word_means</span>():</span></span><br><span class="line">    query = <span class="built_in">input</span>(<span class="string">&#x27;Please input you query words:&#x27;</span>)</span><br><span class="line">    sign = get_word_sign(query)</span><br><span class="line">    data = &#123;</span><br><span class="line">        <span class="string">&quot;from&quot;</span>: <span class="string">&quot;zh&quot;</span>,</span><br><span class="line">        <span class="string">&quot;to&quot;</span>: <span class="string">&quot;en&quot;</span>,</span><br><span class="line">        <span class="string">&quot;query&quot;</span>: query,</span><br><span class="line">        <span class="string">&quot;transtype&quot;</span>: <span class="string">&quot;translang&quot;</span>,</span><br><span class="line">        <span class="string">&quot;simple_means_flag&quot;</span>: <span class="string">&quot;3&quot;</span>,</span><br><span class="line">        <span class="string">&quot;sign&quot;</span>: sign,</span><br><span class="line">        <span class="string">&quot;token&quot;</span>: <span class="string">&quot;cb25a0d7b1d3837fe7864c5c87559d98&quot;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    response = requests.request(<span class="string">&quot;POST&quot;</span>, url, headers=headers, data=data)</span><br><span class="line">    json_result = response.json()</span><br><span class="line">    result = jsonpath.jsonpath(json_result, <span class="string">&quot;$..word_means&quot;</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="built_in">print</span>(result)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    get_word_means()</span><br></pre></td></tr></table></figure><p>下面附上完整代码:</p><p>js_reverse_baidufanyi:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> execjs</span><br><span class="line">jsCode = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    function a(r) &#123;</span></span><br><span class="line"><span class="string">        if (Array.isArray(r)) &#123;</span></span><br><span class="line"><span class="string">            for (var o = 0, t = Array(r.length); o &lt; r.length; o++)</span></span><br><span class="line"><span class="string">                t[o] = r[o];</span></span><br><span class="line"><span class="string">            return t</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">        return Array.from(r)</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    function n(r, o) &#123;</span></span><br><span class="line"><span class="string">        for (var t = 0; t &lt; o.length - 2; t += 3) &#123;</span></span><br><span class="line"><span class="string">            var a = o.charAt(t + 2);</span></span><br><span class="line"><span class="string">            a = a &gt;= &quot;a&quot; ? a.charCodeAt(0) - 87 : Number(a),</span></span><br><span class="line"><span class="string">            a = &quot;+&quot; === o.charAt(t + 1) ? r &gt;&gt;&gt; a : r &lt;&lt; a,</span></span><br><span class="line"><span class="string">            r = &quot;+&quot; === o.charAt(t) ? r + a &amp; 4294967295 : r ^ a</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">        return r</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    var i = null;</span></span><br><span class="line"><span class="string">    function e(r) &#123;</span></span><br><span class="line"><span class="string">        var t = r.length;</span></span><br><span class="line"><span class="string">        t &gt; 30 &amp;&amp; (r = &quot;&quot; + r.substr(0, 10) + r.substr(Math.floor(t / 2) - 5, 10) + r.substr(-10, 10))</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        var u = void 0, l = &quot;&quot; + String.fromCharCode(103) + String.fromCharCode(116) + String.fromCharCode(107);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        u = null !== i ? i : (i = &#x27;320305.131321201&#x27; || &quot;&quot;) || &quot;&quot;;</span></span><br><span class="line"><span class="string">        for (var d = u.split(&quot;.&quot;), m = Number(d[0]) || 0, s = Number(d[1]) || 0, S = [], c = 0, v = 0; v &lt; r.length; v++) &#123;</span></span><br><span class="line"><span class="string">            var A = r.charCodeAt(v);</span></span><br><span class="line"><span class="string">            128 &gt; A ? S[c++] = A : (2048 &gt; A ? S[c++] = A &gt;&gt; 6 | 192 : (55296 === (64512 &amp; A) &amp;&amp; v + 1 &lt; r.length &amp;&amp; 56320 === (64512 &amp; r.charCodeAt(v + 1)) ? (A = 65536 + ((1023 &amp; A) &lt;&lt; 10) + (1023 &amp; r.charCodeAt(++v)),</span></span><br><span class="line"><span class="string">            S[c++] = A &gt;&gt; 18 | 240,</span></span><br><span class="line"><span class="string">            S[c++] = A &gt;&gt; 12 &amp; 63 | 128) : S[c++] = A &gt;&gt; 12 | 224,</span></span><br><span class="line"><span class="string">            S[c++] = A &gt;&gt; 6 &amp; 63 | 128),</span></span><br><span class="line"><span class="string">            S[c++] = 63 &amp; A | 128)</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">        for (var p = m, F = &quot;&quot; + String.fromCharCode(43) + String.fromCharCode(45) + String.fromCharCode(97) + (&quot;&quot; + String.fromCharCode(94) + String.fromCharCode(43) + String.fromCharCode(54)), D = &quot;&quot; + String.fromCharCode(43) + String.fromCharCode(45) + String.fromCharCode(51) + (&quot;&quot; + String.fromCharCode(94) + String.fromCharCode(43) + String.fromCharCode(98)) + (&quot;&quot; + String.fromCharCode(43) + String.fromCharCode(45) + String.fromCharCode(102)), b = 0; b &lt; S.length; b++)</span></span><br><span class="line"><span class="string">            p += S[b],</span></span><br><span class="line"><span class="string">            p = n(p, F);</span></span><br><span class="line"><span class="string">        return p = n(p, D),</span></span><br><span class="line"><span class="string">        p ^= s,</span></span><br><span class="line"><span class="string">        0 &gt; p &amp;&amp; (p = (2147483647 &amp; p) + 2147483648),</span></span><br><span class="line"><span class="string">        p %= 1e6,</span></span><br><span class="line"><span class="string">        p.toString() + &quot;.&quot; + (p ^ m)</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_word_sign</span>(<span class="params">query</span>):</span></span><br><span class="line">    sign = execjs.<span class="built_in">compile</span>(jsCode).call(<span class="string">&quot;e&quot;</span>, query)</span><br><span class="line">    <span class="keyword">return</span> sign</span><br></pre></td></tr></table></figure><p>test_baidu_jscode:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> test_baidu_jscode <span class="keyword">import</span> get_word_sign</span><br><span class="line"><span class="keyword">import</span> jsonpath</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;https://fanyi.baidu.com/v2transapi?from=zh&amp;to=en&quot;</span></span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;Connection&#x27;</span>: <span class="string">&#x27;keep-alive&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;sec-ch-ua&#x27;</span>: <span class="string">&#x27;&quot; Not;A Brand&quot;;v=&quot;99&quot;, &quot;Google Chrome&quot;;v=&quot;97&quot;, &quot;Chromium&quot;;v=&quot;97&quot;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;*/*&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/x-www-form-urlencoded; charset=UTF-8&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;X-Requested-With&#x27;</span>: <span class="string">&#x27;XMLHttpRequest&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;sec-ch-ua-mobile&#x27;</span>: <span class="string">&#x27;?0&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) &#x27;</span></span><br><span class="line">                  <span class="string">&#x27;Chrome/97.0.4692.71 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;sec-ch-ua-platform&#x27;</span>: <span class="string">&#x27;&quot;Windows&quot;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Origin&#x27;</span>: <span class="string">&#x27;https://fanyi.baidu.com&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Sec-Fetch-Site&#x27;</span>: <span class="string">&#x27;same-origin&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Sec-Fetch-Mode&#x27;</span>: <span class="string">&#x27;cors&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Sec-Fetch-Dest&#x27;</span>: <span class="string">&#x27;empty&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Referer&#x27;</span>: <span class="string">&#x27;https://fanyi.baidu.com/?aldtype=16047&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Accept-Language&#x27;</span>: <span class="string">&#x27;zh-CN,zh;q=0.9&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Cookie&#x27;</span>: <span class="string">&#x27;BIDUPSID=CF86A0FA51038D0CA02DA9FC43B164F5; PSTM=1639146064; &#x27;</span></span><br><span class="line">              <span class="string">&#x27;BAIDUID=CF86A0FA51038D0CFFCCCD08415508DA:FG=1; &#x27;</span></span><br><span class="line">              <span class="string">&#x27;__yjs_duid=1_689d947b2f957f0b0d895ae63c66114f1639229602485; &#x27;</span></span><br><span class="line">              <span class="string">&#x27;BAIDUID_BFESS=3A9FDFF925D6EA302A897713757BE825:FG=1; BDRCVFR[iqrboYocJ-C]=kRxlD0AvOmRPjIMTz4WUvY; &#x27;</span></span><br><span class="line">              <span class="string">&#x27;BDRCVFR[fq555l35Iot]=EBD6F1bEM2tXZKdrHn8mvqV; delPer=0; BDORZ=FFFB88E999055A3F8A630C64834BD6D0; &#x27;</span></span><br><span class="line">              <span class="string">&#x27;BDRCVFR[3lgytkvnri6]=mk3SLVN4HKm; H_PS_PSSID=; REALTIME_TRANS_SWITCH=1; FANYI_WORD_SWITCH=1; &#x27;</span></span><br><span class="line">              <span class="string">&#x27;HISTORY_SWITCH=1; SOUND_PREFER_SWITCH=1; SOUND_SPD_SWITCH=1; APPGUIDE_10_0_2=1; &#x27;</span></span><br><span class="line">              <span class="string">&#x27;Hm_lvt_64ecd82404c51e03dc91cb9e8c025574=1642227471,1642227478; PSINO=6; &#x27;</span></span><br><span class="line">              <span class="string">&#x27;BA_HECTOR=2hag052ha52h010lkt1gu4ujh0r; Hm_lpvt_64ecd82404c51e03dc91cb9e8c025574=1642233008; &#x27;</span></span><br><span class="line">              <span class="string">&#x27;ab_sr=1.0&#x27;</span></span><br><span class="line">              <span class="string">&#x27;.1_NjI2ZDk1Y2JmYzQ2ZTBiNTZmNWIyZjllNTU4ZjE4MmM1ZTI2ZmVjMjAyNmJhN2E5NGJhNWVjYmM2OWFmMTRjOTE0ZDQ2M2Y5MmY5N2RmNDUzNzYwNGJjZmZlYmVhZjZjMjgzYWI5YjhhZDJlNzg0NTNiZjRmNjhmMzU5ZDIxNzhkNzhiNDlmYTQyODhhMmZmOGM3MmM2NzhhMTlhZDU2NQ==; __yjs_st=2_NTA2ZGI3NzkyZGNmMzE4M2JkNzk0MTNkMWRmMzBkZmQwNjBlOTYzMDRhZjZmOTJhZGYzOGFjZWRlMTE1NjU4ZTA5ZDljMGQyMjA3Nzk0OWE3NmZhNThjY2YzYTBmMjVhMzAxYmQyZmFkM2VhMTc0YjE5MmJlM2VmZGZlMjhiMzkxMTQzMWY4NGYyNzZkNjM1YjE2ZjNhYjA4M2ViZmNmZDU2YWQzMzc0N2YzMGFiZGVhZTY5NzRiMjc0MzdlMjdjYTM2MGU2OGJmYTJhM2VhZWJiNzIxYWEyODc1ODZlZTBlOGYwOTM1ZWNkMjE4YzM0ZDFiMTY1YjgwMDNmZjhjZV83X2NjZDQ3NTdj &#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_word_means</span>():</span></span><br><span class="line">    query = <span class="built_in">input</span>(<span class="string">&#x27;Please input you query words:&#x27;</span>)</span><br><span class="line">    sign = get_word_sign(query)</span><br><span class="line">    data = &#123;</span><br><span class="line">        <span class="string">&quot;from&quot;</span>: <span class="string">&quot;zh&quot;</span>,</span><br><span class="line">        <span class="string">&quot;to&quot;</span>: <span class="string">&quot;en&quot;</span>,</span><br><span class="line">        <span class="string">&quot;query&quot;</span>: query,</span><br><span class="line">        <span class="string">&quot;transtype&quot;</span>: <span class="string">&quot;translang&quot;</span>,</span><br><span class="line">        <span class="string">&quot;simple_means_flag&quot;</span>: <span class="string">&quot;3&quot;</span>,</span><br><span class="line">        <span class="string">&quot;sign&quot;</span>: sign,</span><br><span class="line">        <span class="string">&quot;token&quot;</span>: <span class="string">&quot;cb25a0d7b1d3837fe7864c5c87559d98&quot;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    response = requests.request(<span class="string">&quot;POST&quot;</span>, url, headers=headers, data=data)</span><br><span class="line">    json_result = response.json()</span><br><span class="line">    result = jsonpath.jsonpath(json_result, <span class="string">&quot;$..word_means&quot;</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="built_in">print</span>(result)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    get_word_means()</span><br></pre></td></tr></table></figure><p>运行效果:</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220115/Snipaste_2022-01-15_17-53-39.2t4fdto41e00.webp"                      alt="Snipaste_2022-01-15_17-53-39"                ></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;首先我们打开&lt;a class=&quot;link&quot;   href=&quot;https://fanyi.baidu.com/&quot; &gt;百度翻译&lt;i class=&quot;fas fa-external-link-alt&quot;&gt;&lt;/i&gt;&lt;/a&gt;然后按F12打开抓包工具，我们点击Fetch/XHR，然后我们随</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>理解Python asyncio原理和简洁使用方式</title>
    <link href="http://example.com/2022/01/14/%E7%90%86%E8%A7%A3Python%20asyncio%E5%8E%9F%E7%90%86%E5%92%8C%E7%AE%80%E6%B4%81%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F/"/>
    <id>http://example.com/2022/01/14/%E7%90%86%E8%A7%A3Python%20asyncio%E5%8E%9F%E7%90%86%E5%92%8C%E7%AE%80%E6%B4%81%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F/</id>
    <published>2022-01-14T07:08:30.000Z</published>
    <updated>2022-01-14T09:20:00.256Z</updated>
    
    <content type="html"><![CDATA[<p>异步IO是个好东西，在网络读写场景中可以大大提高程序的并发能力，比如爬虫、web服务等；这样好的东西自然也要用到Python中，不过，在漫长的Python2时代，官方并没有推出一个自己的异步IO库，到了Python3.4才推出；我们先来看看异步IO在Python中的发展历史</p><p><strong>Python2的异步IO库</strong></p><p>Python2时代官方并没有异步IO的支持，但是有几个第三方库通过事件或者事件循环(Event Loop)实现了异步IO，它们是:</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220114/Snipaste_2022-01-14_15-14-33.4lfwna8nmx60.webp"                      alt="Snipaste_2022-01-14_15-14-33"                ></p><p><strong>Python3官方的异步IO库</strong></p><p>Python 3.4 加入了asyncio 库，使得Python有了支持异步IO的官方库。这个库，底层是事件循环(EventLoop)，上层是协程和任务。asyncio自从3.4 版本加入到最新的 3.7版一直在改进中，Python 3.4 刚开始的asyncio的协程还是基于生成器的，通过 yield from 语法实现，可以通过装饰器 @asyncio.coroutine (已过时)装饰一个函数来定义一个协程</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220114/Snipaste_2022-01-14_15-21-07.5q7wn2pm54s0.webp"                      alt="Snipaste_2022-01-14_15-21-07"                ></p><p>Python 3.5 引入了两个新的关键字 await 和 async 用来替换 @asyncio.coroutine 和 yield from ，从语言本身来支持异步IO。从而使得异步编程更加简洁，并和普通的生成器区别开来.</p><p>注意： 对基于生成器的协程的支持已弃用，并计划在 Python 3.10 中移除。所以，写异步IO程序时只需使用 async 和 await 即可</p><p>Python 3.7 又进行了优化，把API分组为高层级API和低层级API。我们先看看下面的代码，发现与上面的有什么不同？</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/stormwasd/image-hosting@master/20220114/Snipaste_2022-01-14_15-22-28.78a59h5g84w0.webp"                      alt="Snipaste_2022-01-14_15-22-28"                ></p><p>除了用 async 替换 @asyncio.coroutine 和用 await 替换 yield from 外，最大的变化就是关于eventloop的代码不见了，只有一个 async.run()。这就是 3.7 的改进，把eventloop相关的API归入到低层级API，新引进run()作为高层级API让写应用程序的开发者调用，而不用再关心eventloop。除非你要写异步库（比如MySQL异步库）才会和eventloop打交道</p><p><strong>理解asyncio</strong></p><p>理解asyncio并不难，关键是要动起手来，接下来我们以下面代码为例动手实践一番，通过实践来理解它</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">hi</span>(<span class="params">msg, sec</span>):</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;enter hi(), &#123;&#125; @&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(msg, time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line"><span class="keyword">await</span> asyncio.sleep(sec)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;exit hi() &#123;&#125; @&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(msg, time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line"><span class="keyword">return</span> sec</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;main() begin at &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5</span>):</span><br><span class="line"><span class="keyword">await</span> hi(i, i)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;main() end at &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">asyncio.run(main())</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;done&#x27;</span>)</span><br></pre></td></tr></table></figure><p>这段代码很简单，我们定义了两个协程函数(在def前面加上async)，其中hi()我们把它叫做功能函数，通过一个asyncio.sleep()来模拟一个耗时的异步IO操作，(比如下载网页)，main函数叫做入口函数，其实就是在main()里面调用hi()函数，通过不断改变main()的行为来理解异步IO()来理解异步IO(协程函数的调用)的运行过程</p><p><strong>1. 协程函数如何运行？</strong></p><p>首先我们要明确一个道理，hi()是一个协程函数，直接调用它返回的是一个协程对象，并没有真正运行它，把main函数改成如下，我们来仔细看看协程函数hi()的运行</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">hi</span>(<span class="params">msg, sec</span>):</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;enter hi(), &#123;&#125; @&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(msg, time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line"><span class="keyword">await</span> asyncio.sleep(sec)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;exit hi() &#123;&#125; @&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(msg, time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line"><span class="keyword">return</span> sec</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;main() begin at &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line">a = hi(<span class="string">&#x27;a&#x27;</span>, <span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;a is:&#x27;</span>, a)</span><br><span class="line">b = <span class="keyword">await</span> a</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;b is:&#x27;</span>, b)</span><br><span class="line"><span class="comment"># for i in range(1, 5):</span></span><br><span class="line"><span class="comment"># await hi(i, i)</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;main() end at &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">asyncio.run(main())</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;done&#x27;</span>)</span><br></pre></td></tr></table></figure><p>下面是运行结果:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">main() begin at <span class="number">15</span>:<span class="number">56</span>:<span class="number">58</span></span><br><span class="line">a <span class="keyword">is</span>: &lt;coroutine <span class="built_in">object</span> hi at <span class="number">0x0000000002D6A9C8</span>&gt;</span><br><span class="line">enter hi(), a @<span class="number">15</span>:<span class="number">56</span>:<span class="number">58</span></span><br><span class="line">exit hi() a @<span class="number">15</span>:<span class="number">56</span>:<span class="number">59</span></span><br><span class="line">b <span class="keyword">is</span>: <span class="number">1</span></span><br><span class="line">main() end at <span class="number">15</span>:<span class="number">56</span>:<span class="number">59</span></span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>代码12行，我们像运行普通函数一样运行hi()，得到的a只是一个协程对象:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a <span class="keyword">is</span>: &lt;coroutine <span class="built_in">object</span> hi at <span class="number">0x0000000002D6A9C8</span>&gt;</span><br></pre></td></tr></table></figure><p>这个协程对象a虽然生成了，但是还没有运行，它需要一个时机，也就是asyncio的时间循环正在运行main函数，还没有空去运行它，代码第14行，通过await关键字告诉event_loop(时间循环)，main协程停在这里，你去运行其他协程叭，这时候envent_loop就去执行a协程，也就是去执行hi()函数里面的代码，等hi()运行完，event_loop再回到main协程继续从14行开始执行，把hi()的返回值赋值给b，这个时候b的值是1</p><p><strong>enve_loop在整个异步IO的过程中扮演着一个管家的角色，在不同的协程之间切换运行代码，切换是通过事件来进行的，通过await离开当前协程，当await的协程完成后又回到之前的协程对应的地方继续执行</strong></p><p><strong>2. 协程函数如何并发</strong></p><p>异步IO的好处就是并发，但如何实现呢?我们先来看一个不是并发的栗子</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">hi</span>(<span class="params">msg, sec</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;enter hi(), &#123;&#125; @&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(msg, time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(sec)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;exit hi() &#123;&#125; @&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(msg, time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line">    <span class="keyword">return</span> sec</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;main() begin at &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5</span>):</span><br><span class="line">        b = <span class="keyword">await</span> hi(i, i)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;b is:&quot;</span>, b)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;main() end at &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    asyncio.run(main())</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;done&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>这次，我们把main修改成一个for循环执行4次，看看它运行的结果</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">main() begin at <span class="number">16</span>:<span class="number">20</span>:<span class="number">22</span></span><br><span class="line">enter hi(), <span class="number">1</span> @<span class="number">16</span>:<span class="number">20</span>:<span class="number">22</span></span><br><span class="line">exit hi() <span class="number">1</span> @<span class="number">16</span>:<span class="number">20</span>:<span class="number">23</span></span><br><span class="line">b <span class="keyword">is</span>: <span class="number">1</span></span><br><span class="line">enter hi(), <span class="number">2</span> @<span class="number">16</span>:<span class="number">20</span>:<span class="number">23</span></span><br><span class="line">exit hi() <span class="number">2</span> @<span class="number">16</span>:<span class="number">20</span>:<span class="number">25</span></span><br><span class="line">b <span class="keyword">is</span>: <span class="number">2</span></span><br><span class="line">enter hi(), <span class="number">3</span> @<span class="number">16</span>:<span class="number">20</span>:<span class="number">25</span></span><br><span class="line">exit hi() <span class="number">3</span> @<span class="number">16</span>:<span class="number">20</span>:<span class="number">28</span></span><br><span class="line">b <span class="keyword">is</span>: <span class="number">3</span></span><br><span class="line">enter hi(), <span class="number">4</span> @<span class="number">16</span>:<span class="number">20</span>:<span class="number">28</span></span><br><span class="line">exit hi() <span class="number">4</span> @<span class="number">16</span>:<span class="number">20</span>:<span class="number">32</span></span><br><span class="line">b <span class="keyword">is</span>: <span class="number">4</span></span><br><span class="line">main() end at <span class="number">16</span>:<span class="number">20</span>:<span class="number">32</span></span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>整个过程从16:20:22到16:20:32结束，用了10秒，而hi()的执行时间分别是1秒，2秒，3秒，4秒总共10秒，也就是4个hi()虽然是异步的，但是是顺序执行的，没有并发</p><p>接下来，就到了真正并发实现了，通过asyncio.creat_task()即可:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">hi</span>(<span class="params">msg, sec</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;enter hi(), &#123;&#125; @&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(msg, time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(sec)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;exit hi() &#123;&#125; @&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(msg, time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line">    <span class="keyword">return</span> sec</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;main() begin at &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line">    tasks = <span class="built_in">list</span>()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5</span>):</span><br><span class="line">        t = asyncio.create_task(hi(i, i))</span><br><span class="line">        tasks.append(t)</span><br><span class="line">        <span class="comment"># b = await hi(i, i)</span></span><br><span class="line">        <span class="comment"># print(&quot;b is:&quot;, b)</span></span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> tasks:</span><br><span class="line">        b = <span class="keyword">await</span> t</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;b is:&quot;</span>, b)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;main() end at &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    asyncio.run(main())</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;done&#x27;</span>)</span><br></pre></td></tr></table></figure><p>通过create_task()我们在for循环里面生成了4个task(也就是协程对象)，但是这4个协程任务并没有被执行，他们需要等待一个时机:当前携程(main)遇到await</p><p>第二个for循环开始逐一await协程，此时event_loop就可以空出手来去执行那4个协程，过程大致如下:</p><p>先执行hi(1, 1) ，打印“enter hi(), 1 @16:30:18”，遇到await asyncio.sleep(1)，当前协程挂起；</p><p>接着执行 hi(2, 2)，执行打印命令，遇到await asyncio.sleep(2) ，当前协程挂起；</p><p>接着执行 hi(3, 3)，执行打印命令，遇到await asyncio.sleep(3) ，当前协程挂起；</p><p>接着执行 hi(4, 4)，执行打印命令，遇到await asyncio.sleep(4) ，当前协程挂起；</p><p>以上4步只是协程的切换和打印语句，执行非常快，我们可以任务它们是同时执行起来的。</p><p>1秒后，hi(1,1)的sleep结束它会发出事件告诉 event_loop 我await结束了，过来执行我，event_loop 此时空闲就来执行它，继续执行sleep后面的打印语句；</p><p>2秒后，hi(2,2)的sleep结束它会发出事件告诉 event_loop 我await结束了，过来执行我，event_loop 此时空闲就来执行它，继续执行sleep后面的打印语句；</p><p>3秒后，hi(3,3)的sleep结束它会发出事件告诉 event_loop 我await结束了，过来执行我，event_loop 此时空闲就来执行它，继续执行sleep后面的打印语句；</p><p>4秒后，hi(4,4)的sleep结束它会发出事件告诉 event_loop 我await结束了，过来执行我，event_loop 此时空闲就来执行它，继续执行sleep后面的打印语句；</p><p>4秒后，生成的4个协程任务就都执行完毕。总耗时4秒，也就是我们的4个任务并发完成了。</p><p>上面代码的运行结果为:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">main() begin at <span class="number">16</span>:<span class="number">30</span>:<span class="number">17</span></span><br><span class="line">enter hi(), <span class="number">1</span> @<span class="number">16</span>:<span class="number">30</span>:<span class="number">17</span></span><br><span class="line">enter hi(), <span class="number">2</span> @<span class="number">16</span>:<span class="number">30</span>:<span class="number">17</span></span><br><span class="line">enter hi(), <span class="number">3</span> @<span class="number">16</span>:<span class="number">30</span>:<span class="number">17</span></span><br><span class="line">enter hi(), <span class="number">4</span> @<span class="number">16</span>:<span class="number">30</span>:<span class="number">17</span></span><br><span class="line">exit hi() <span class="number">1</span> @<span class="number">16</span>:<span class="number">30</span>:<span class="number">18</span></span><br><span class="line">b <span class="keyword">is</span>: <span class="number">1</span></span><br><span class="line">exit hi() <span class="number">2</span> @<span class="number">16</span>:<span class="number">30</span>:<span class="number">19</span></span><br><span class="line">b <span class="keyword">is</span>: <span class="number">2</span></span><br><span class="line">exit hi() <span class="number">3</span> @<span class="number">16</span>:<span class="number">30</span>:<span class="number">20</span></span><br><span class="line">b <span class="keyword">is</span>: <span class="number">3</span></span><br><span class="line">exit hi() <span class="number">4</span> @<span class="number">16</span>:<span class="number">30</span>:<span class="number">21</span></span><br><span class="line">b <span class="keyword">is</span>: <span class="number">4</span></span><br><span class="line">main() end at <span class="number">16</span>:<span class="number">30</span>:<span class="number">21</span></span><br><span class="line">done</span><br></pre></td></tr></table></figure><p><strong>3. 错误的运行</strong></p><p>上面的并发很完美，但有时候你可能会犯错，比如下面的main()，你可能只是并发hi()，但不需要返回它的结果，于是就有了下面的main()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">hi</span>(<span class="params">msg, sec</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;enter hi(), &#123;&#125; @&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(msg, time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(sec)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;exit hi() &#123;&#125; @&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(msg, time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line">    <span class="keyword">return</span> sec</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;main() begin at &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5</span>):</span><br><span class="line">        asyncio.create_task(hi(i, i))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;main() end at &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    asyncio.run(main())</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;done&#x27;</span>)</span><br></pre></td></tr></table></figure><p>下面是运行结果:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">main() begin at <span class="number">16</span>:<span class="number">45</span>:<span class="number">42</span></span><br><span class="line">main() end at <span class="number">16</span>:<span class="number">45</span>:<span class="number">42</span></span><br><span class="line">enter hi(), <span class="number">1</span> @<span class="number">16</span>:<span class="number">45</span>:<span class="number">42</span></span><br><span class="line">enter hi(), <span class="number">2</span> @<span class="number">16</span>:<span class="number">45</span>:<span class="number">42</span></span><br><span class="line">enter hi(), <span class="number">3</span> @<span class="number">16</span>:<span class="number">45</span>:<span class="number">42</span></span><br><span class="line">enter hi(), <span class="number">4</span> @<span class="number">16</span>:<span class="number">45</span>:<span class="number">42</span></span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>main()的for循环只是生成了4个task协程，然后就退出了，event_loop收到main退出的事件就空出来去执行了那4个协程，进去了但都碰到了sleep，然后envent_loop就空闲了，这个时候run()就收到了main()执行完毕的事件信号，run()就执行完了，最后执行print，整个程序就退出了，从main退出到整个程序退出那就是一瞬间的事情，那4个协程还在傻傻地睡着，如果把它们也加入任务列表就不会这样了，如果不加入，那默认任务列表就只有main函数，其他的只是微微带过，如果main函数结束了，它们也会立马结束</p><p>我们如果在main()中加入一个sleep会出现什么结果:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">hi</span>(<span class="params">msg, sec</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;enter hi(), &#123;&#125; @&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(msg, time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(sec)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;exit hi() &#123;&#125; @&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(msg, time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line">    <span class="keyword">return</span> sec</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;main() begin at &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5</span>):</span><br><span class="line">        asyncio.create_task(hi(i, i))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;mian() sleep at &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;main() end at &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    asyncio.run(main())</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;done&#x27;</span>)</span><br></pre></td></tr></table></figure><p>运行结果:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">main() begin at <span class="number">17</span>:06:<span class="number">59</span></span><br><span class="line">mian() sleep at <span class="number">17</span>:06:<span class="number">59</span></span><br><span class="line">enter hi(), <span class="number">1</span> @<span class="number">17</span>:06:<span class="number">59</span></span><br><span class="line">enter hi(), <span class="number">2</span> @<span class="number">17</span>:06:<span class="number">59</span></span><br><span class="line">enter hi(), <span class="number">3</span> @<span class="number">17</span>:06:<span class="number">59</span></span><br><span class="line">enter hi(), <span class="number">4</span> @<span class="number">17</span>:06:<span class="number">59</span></span><br><span class="line">exit hi() <span class="number">1</span> @<span class="number">17</span>:07:<span class="number">00</span></span><br><span class="line">exit hi() <span class="number">2</span> @<span class="number">17</span>:07:01</span><br><span class="line">main() end at <span class="number">17</span>:07:01</span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>可以看到这边main函数sleep了两秒就让两次hi函数执行完毕，如果我们让main函数sleep更长时间那就4个hi函数都会执行完毕</p><p>说明，功能函数如果不加入任务列表，那就要求入口函数有足够长的执行时间，因为在入口函数的长执行时间中就会有机会去执行功能函数</p><p><strong>4. 如何判断是否要把函数定义为协程函数</strong></p><p>定义一个协程函数很简单，在def前面加async即可，那么如何判断一个函数该不该定义为协程函数呢?</p><p>记住一个原则: 如果该函数是要进行IO操作(读写网络、读写文件、读写数据库等)，就把它定义为协程函数，否则就是普通函数</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;异步IO是个好东西，在网络读写场景中可以大大提高程序的并发能力，比如爬虫、web服务等；这样好的东西自然也要用到Python中，不过，在漫长的Python2时代，官方并没有推出一个自己的异步IO库，到了Python3.4才推出；我们先来看看异步IO在Python中的发展历史</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Python 中__new__和__init__的异同点</title>
    <link href="http://example.com/2022/01/14/Python%20%E4%B8%AD__new__%E5%92%8C__init__%E7%9A%84%E5%BC%82%E5%90%8C%E7%82%B9/"/>
    <id>http://example.com/2022/01/14/Python%20%E4%B8%AD__new__%E5%92%8C__init__%E7%9A%84%E5%BC%82%E5%90%8C%E7%82%B9/</id>
    <published>2022-01-14T03:50:30.000Z</published>
    <updated>2022-01-14T07:01:13.653Z</updated>
    
    <content type="html"><![CDATA[<p>同: 二者均是Python面向对象语言中的函数，__new__比较少用，__init__则用的比较多</p><p>异: </p><ul><li><code>__new__</code>是在实例创建之前被调用的，因为它的任务就是创建实例然后直接返回该实例对象，是个<strong>静态方法</strong></li><li><code>__init__</code>是当实例对象创建完成后被调用的，然后设置对象属性的一些初始值，通常在初始化一个类实例的时候被调用，是一个<strong>实例方法</strong></li></ul><p>总结来说也就是: <code>__new__</code>先被调用，<code>__init__</code>后被调用，<code>__new__</code>的返回值（实例）将传递给<code>__init__</code>方法的第一个参数，然后<code>__init__</code>给这个实例设置一些参数</p><p>一些说明:</p><ol><li>继承自object的新式类才有<code>__new__</code></li><li><code>__new__</code>至少要有一个参数cls，代表当前类，此参数在实例化时由Python解释器自动识别</li><li><code>__new__</code><strong>必须要有返回值</strong>，返回实例化出来的实例，这点在自己实现<code>__new__</code>时要特别注意，可以return父类<code>__new__</code>出来的实例，或者是直接object<code>__new__</code>出来的 实例</li><li><code>__init__</code>有一个参数self，这个就是<code>__new__</code>返回的实例，<code>__init__</code>在<code>__new__</code>的基础上可以完成一些其它初始化的操作，<code>__init__</code><strong>不需要返回值</strong></li><li>如果<code>__new__</code>创建的是当前类的实例，会自动调用<code>__init__</code>函数，通过return语句里面调用的<code>__new__</code>函数的第一个参数是cls来保证是当前类实例，如果是其它类的类名，那么实际创建返回的就是其他类的实例</li><li>在定义子类时没有重新定义<code>__new__</code>时，Python默认是调用该类的直接父类的<code>__new__</code>来构造该类的实例，如果该类的父类也没有重写<code>__new__</code>，那么将一直按此规矩追溯至object的<code>__new__</code>方法，因为object是所有新式类的基类</li><li>而如果子类中重写了<code>__new__</code>，那么你可以自由选择任意一个的其他新式类(必定要是新式类，只有新式类必定都有<code>__new__</code>，因为所有新式类都是object的后代，而经典类则没有<code>__new__</code>方法)的<code>__new__</code>方法来制造实例</li><li>对于子类的<code>__init__</code>，其调用规制跟<code>__new__</code>是一致的，当然如果子类和父类的<code>__init__</code>都想调用，可以在子类的<code>__init__</code>中加入对父类<code>__init__</code>的调用</li><li>我们在使用时，尽量使用<code>__init__</code>，不要去自定义<code>__new__</code>，因为这两者在继承派生时的特性还是很不一样的</li><li><strong>将类比作制造商，<code>__new__</code>方法就是前期的原料购买环节，<code>__init__</code>方法就是在原有材料的基础上加工、初始化商品化环节</strong></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;同: 二者均是Python面向对象语言中的函数，__new__比较少用，__init__则用的比较多&lt;/p&gt;
&lt;p&gt;异: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;__new__&lt;/code&gt;是在实例创建之前被调用的，因为它的任务就是创建实例然后直接返回该实例对象，是个&lt;st</summary>
      
    
    
    
    
  </entry>
  
</feed>
